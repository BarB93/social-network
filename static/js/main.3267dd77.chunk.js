(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{12:function(e,t,n){e.exports={settings:"Settings_settings__3IrLA",form__header:"Settings_form__header__2OZ7b",form__subheader:"Settings_form__subheader__7zEk9",form__block:"Settings_form__block__19FzP",form__errorRow:"Settings_form__errorRow__1yljm",form__row:"Settings_form__row__1o-r5",alignStart:"Settings_alignStart__3h944",form__title:"Settings_form__title__EuG3a",form__button:"Settings_form__button__18rIp",form__radioGroup:"Settings_form__radioGroup__3nXaw",form__radioLabel:"Settings_form__radioLabel__10byk",form__radioValue:"Settings_form__radioValue__1kGoN"}},134:function(e,t,n){e.exports={form:"LoginForm_form__3Nari",form__title:"LoginForm_form__title__fg5LH"}},135:function(e,t,n){e.exports={auth:"AuthPage_auth__287WN"}},136:function(e,t,n){e.exports={loader:"AvatarLoader_loader__2mHtI"}},137:function(e,t,n){e.exports={friendsList:"FriendsBlock_friendsList__1PIuh"}},138:function(e,t,n){e.exports={form:"UpdateStatus_form__23_2e",form__button:"UpdateStatus_form__button__3ZQBB"}},139:function(e,t,n){e.exports={footer:"PostItemFooter_footer__zO6Ka"}},140:function(e,t,n){e.exports={friends:"FriendsList_friends__oe1f3"}},141:function(e,t,n){e.exports={friends:"friends_friends__Gb8lj"}},142:function(e,t,n){e.exports={main:"Content_main__1kiZ2"}},17:function(e,t,n){e.exports={info__top:"Info_info__top__3vINe",info__name:"Info_info__name__1h8eR",info__row:"Info_info__row__1boma",info__label:"Info_info__label__2vmrx",info__value:"Info_info__value__1AbBT",info__notSpecified:"Info_info__notSpecified__iog4O",info__more_btn:"Info_info__more_btn__22xgG",short_info:"Info_short_info__2BuRa",full_info__block:"Info_full_info__block__1YfYf",header__line_link:"Info_header__line_link__98uCk",full_info:"Info_full_info__1UuOn",header:"Info_header__3BAYL",header__title:"Info_header__title__bmf1m",header__line:"Info_header__line__hJ34I"}},22:function(e,t,n){e.exports={friend:"FriendsItem_friend__zjwwb",unfollowed:"FriendsItem_unfollowed__3fWSR",friend__avatar:"FriendsItem_friend__avatar__2EBHQ",friend__info:"FriendsItem_friend__info__3-cLK",friend__name:"FriendsItem_friend__name__1uQ-z",friend__status:"FriendsItem_friend__status__3gvrF",friend__message:"FriendsItem_friend__message__Rj8YM",friend__dots:"FriendsItem_friend__dots__PChTR",friend__icon:"FriendsItem_friend__icon__1EMqQ",menu:"FriendsItem_menu__xPS7K",friend__cancel:"FriendsItem_friend__cancel__Tr8QU",menu__triangle:"FriendsItem_menu__triangle__1rJ5b",menu__item:"FriendsItem_menu__item__2Ize0"}},24:function(e,t,n){e.exports={message:"message_message__3Y-Bd",message__list:"message_message__list__17J4C",message__item:"message_message__item__BjO2t",message__block:"message_message__block__2vHtE",message__avatar:"message_message__avatar__2MsCU",message__content:"message_message__content__2mvJ5",message__contentHeader:"message_message__contentHeader__2VJPc",message__name:"message_message__name__2he69",message__time:"message_message__time__1-jsL",message__text:"message_message__text__I5Yyx",noMessage:"message_noMessage__1ASEU"}},271:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var r,a,s,i,c,o=n(1),u=n.n(o),l=n(72),d=n.n(l),_=n(6),j=n(3),b=n(7),f=n(2),m=n(10),p=n.n(m),h=n(18),O=n(125),x=n.n(O).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"5f2d5af9-d6f0-4b7d-8e20-5a0ae84fdc07"},withCredentials:!0}),g={fetchProfile:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/profile/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePhoto:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=Object(f.createAsyncThunk)("profile/FetchProfile",function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.prev=1,e.next=4,g.fetchProfile(r);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),y=Object(f.createAsyncThunk)("profile/UpdatePhoto",function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.photoFile,e.prev=1,e.next=4,g.updatePhoto(r);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0444\u043e\u0442\u043e"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(f.createSlice)({name:"profile",initialState:{isInitial:!1,isLoading:!1,error:"",profile:null,authProfile:null,isOpenUpdateStatus:!1,posts:[],isOpenCreatePost:!1,isUpdatePhotoError:"",isUpdatePhotoLoading:!1},reducers:{openUpdateStatus:function(e,t){e.isOpenUpdateStatus=!0},closeUpdateStatus:function(e){e.isOpenUpdateStatus=!1},openCreatePost:function(e,t){e.isOpenCreatePost=!0},closeCreatePost:function(e,t){e.isOpenCreatePost=!1}},extraReducers:(r={},Object(b.a)(r,v.pending.type,(function(e){e.error="",e.isLoading=!0})),Object(b.a)(r,v.fulfilled,(function(e,t){e.isLoading=!1,e.error="",e.isInitial=!0,t.meta.arg.initial?e.authProfile=t.payload:t.meta.arg.isAuthUserProfile?(e.authProfile=t.payload,e.profile=t.payload):e.profile=t.payload})),Object(b.a)(r,v.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})),Object(b.a)(r,y.pending.type,(function(e){e.isUpdatePhotoError="",e.isUpdatePhotoLoading=!0})),Object(b.a)(r,y.fulfilled.type,(function(e,t){e.isUpdatePhotoError="",e.isUpdatePhotoLoading=!1,0===t.payload.resultCode&&(e.authProfile.photos.small=t.payload.data.photos.small,e.authProfile.photos.large=t.payload.data.photos.large,e.profile.photos.small=t.payload.data.photos.small,e.profile.photos.large=t.payload.data.photos.large)})),Object(b.a)(r,y.rejected.type,(function(e,t){e.isUpdatePhotoError=t.payload,e.isUpdatePhotoLoading=!1})),r)}),N=k.actions,S=N.openUpdateStatus,w=N.closeUpdateStatus,P=N.openCreatePost,I=N.closeCreatePost,L=k.reducer,C=Object(f.createSlice)({name:"dialog",initialState:{dialogs:[{id:1,name:"\u0411\u043e\u0440\u0438\u0441"},{id:2,name:"\u041b\u0430\u0440\u0438\u0441\u0430"},{id:3,name:"\u0410\u043d\u0434\u0440\u0435\u0439"},{id:4,name:"\u041d\u0430\u0442\u0430\u043b\u0438"},{id:5,name:"\u0413\u0438\u044f"},{id:6,name:"\u041d\u0438\u043a\u043e\u043b\u044c"}]},reducers:{addDialog:function(e,t){e.dialogs.push(t.payload)}}}),U=(C.actions.addDialog,C.reducer),A=n(5),F=n(16),E={fetchUsers:function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,a,s,i,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.count,r=t.page,a=t.friend,s=void 0!==a&&a,i=t.term,c=void 0===i?"":i,e.next=3,x.get("/users",{params:{friend:s,count:n,page:r,term:c}});case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),followUser:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unfollowUser:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.delete("/follow/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(e){return Object(f.createAsyncThunk)(e,function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.fetchUsers(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}())},B=function(e){return Object(f.createAsyncThunk)(e,function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.followUser(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0432 \u0434\u0440\u0443\u0437\u044c\u044f"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}())},D=function(e){return Object(f.createAsyncThunk)(e,function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.unfollowUser(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}())},T=M("user/FetchAll"),R=B("user/FollowUser"),J=D("user/UnfollowUser"),W=function(e,t){var n=Math.ceil(e/t);return n<1?1:n},z=Object(f.createSlice)({name:"user",initialState:{isInit:!1,users:[],isLoading:!1,error:"",search:"",totalUsers:0,limit:15,currentPage:1,totalPages:10,subscribeError:"",subscribingInProgress:[]},reducers:{resetUsers:function(e){e.users=[],e.currentPage=1,e.isInit=!1},setSearch:function(e,t){e.search=t.payload},setCurrentPage:function(e,t){e.currentPage=t.payload}},extraReducers:(a={},Object(b.a)(a,T.pending.type,(function(e){e.isLoading=!0})),Object(b.a)(a,T.fulfilled.type,(function(e,t){var n;e.isInit=!0,e.isLoading=!1,e.totalPages=W(t.payload.totalCount,e.limit),(n=e.users).push.apply(n,Object(F.a)(t.payload.items)),0===t.payload.items.length&&(e.users=[]),e.totalUsers=t.payload.totalCount,e.error=""})),Object(b.a)(a,T.rejected.type,(function(e,t){e.isInit=!0,e.error=t.payload,e.isLoading=!1})),Object(b.a)(a,R.pending.type,(function(e,t){e.subscribeError="",e.subscribingInProgress.push(t.meta.arg)})),Object(b.a)(a,R.fulfilled.type,(function(e,t){e.subscribeError="";var n=t.meta.arg;e.subscribingInProgress=e.subscribingInProgress.filter((function(e){return e!==n})),t.payload.resultCode||(e.users=e.users.map((function(e){return e.id===n?Object(A.a)(Object(A.a)({},e),{},{followed:!0}):e})))})),Object(b.a)(a,R.rejected.type,(function(e,t){e.error=t.payload})),Object(b.a)(a,J.pending.type,(function(e,t){e.subscribeError="",e.subscribingInProgress.push(t.meta.arg)})),Object(b.a)(a,J.fulfilled.type,(function(e,t){e.subscribeError="";var n=t.meta.arg;e.subscribingInProgress=e.subscribingInProgress.filter((function(e){return e!==n})),t.payload.resultCode||(e.users=e.users.map((function(e){return e.id===n?Object(A.a)(Object(A.a)({},e),{},{followed:!1}):e})))})),Object(b.a)(a,J.rejected.type,(function(e,t){e.subscribeError=t.payload})),a)}),V=z.actions,q=V.setSearch,H=V.resetUsers,Q=z.reducer,Y={login:function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/auth/login",Object(A.a)({},t.loginData));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),authMe:function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.delete("/auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},K=Object(f.createAsyncThunk)("auth/login",function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.login(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),X=Object(f.createAsyncThunk)("auth/authMe",function(){var e=Object(h.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.authMe();case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Z=Object(f.createAsyncThunk)("auth/logout",function(){var e=Object(h.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.logout();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),G=Object(f.createSlice)({name:"auth",initialState:{isInitialApp:!1,userId:null,email:null,login:null,isLoading:!1,isAuth:!1,wrongData:!1,error:""},reducers:{},extraReducers:(s={},Object(b.a)(s,K.pending.type,(function(e){e.isLoading=!0,e.error=""})),Object(b.a)(s,K.fulfilled.type,(function(e,t){e.isLoading=!1,(0,t.meta.arg.callbackOnEndRequest)(),t.payload.resultCode?e.wrongData="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":(e.isAuth=!0,e.error="",e.wrongData=!1)})),Object(b.a)(s,K.rejected.type,(function(e,t){e.isLoading=!1,e.wrongData="",e.error=t.payload})),Object(b.a)(s,X.pending.type,(function(e){e.isLoading=!0,e.error=""})),Object(b.a)(s,X.fulfilled.type,(function(e,t){e.isLoading=!1,e.isInitialApp=!0,t.payload.resultCode||(e.isAuth=!0,e.userId=t.payload.data.id,e.email=t.payload.data.email,e.login=t.payload.data.login)})),Object(b.a)(s,X.rejected.type,(function(e,t){e.isLoading=!1,e.error=t.payload})),Object(b.a)(s,Z.pending.type,(function(e){e.isLoading=!0,e.error=""})),Object(b.a)(s,Z.fulfilled.type,(function(e,t){e.isLoading=!1,e.error="",0===t.payload.resultCode&&(e.isAuth=!1,e.email=null,e.userId=null)})),Object(b.a)(s,Z.pending.type,(function(e,t){e.isLoading=!1,e.error=t.payload})),s)}).reducer,$=Object(f.createSlice)({name:"header",initialState:{isMenuOpen:!1},reducers:{toggleMenu:function(e){e.isMenuOpen=!e.isMenuOpen},closeMenu:function(e){e.isMenuOpen=!1}}}),ee=$.actions,te=ee.closeMenu,ne=ee.toggleMenu,re=$.reducer,ae=M("friend/fetchFriends"),se=B("friend/FollowUser"),ie=D("friend/UnfollowUser"),ce=Object(f.createSlice)({name:"friend",initialState:{isInit:!1,friends:[],isLoading:!1,error:"",totalFriends:0,limit:15,currentPage:1,totalPages:10,subscribeError:"",subscribingInProgress:[]},reducers:{setCurrentPage:function(e,t){e.currentPage=t.payload},resetFriends:function(e){e.friends=[],e.currentPage=1,e.isInit=!1}},extraReducers:(i={},Object(b.a)(i,ae.pending.type,(function(e){e.isLoading=!0,e.error=""})),Object(b.a)(i,ae.fulfilled.type,(function(e,t){var n;e.isInit=!0,e.isLoading=!1,(n=e.friends).push.apply(n,Object(F.a)(t.payload.items)),e.totalFriends=t.payload.totalCount,e.totalPages=W(t.payload.totalCount,e.limit),e.error=""})),Object(b.a)(i,ae.rejected.type,(function(e,t){e.isLoading=!1,e.error=t.payload})),Object(b.a)(i,se.pending.type,(function(e,t){e.subscribeError="",e.subscribingInProgress.push(t.meta.arg)})),Object(b.a)(i,se.fulfilled.type,(function(e,t){e.subscribeError="";var n=t.meta.arg;e.subscribingInProgress=e.subscribingInProgress.filter((function(e){return e!==n})),t.payload.resultCode||(e.friends=e.friends.map((function(e){return e.id===n?Object(A.a)(Object(A.a)({},e),{},{followed:!0}):e})))})),Object(b.a)(i,se.rejected.type,(function(e,t){e.error=t.payload})),Object(b.a)(i,ie.pending.type,(function(e,t){e.subscribeError="",e.subscribingInProgress.push(t.meta.arg)})),Object(b.a)(i,ie.fulfilled.type,(function(e,t){var n=t.meta.arg;e.subscribingInProgress=e.subscribingInProgress.filter((function(e){return e!==n})),e.subscribeError="",t.payload.resultCode||(e.friends=e.friends.map((function(e){return e.id===n?Object(A.a)(Object(A.a)({},e),{},{followed:!1}):e})))})),Object(b.a)(i,ie.rejected.type,(function(e,t){e.subscribeError=t.payload})),i)}),oe=ce.actions,ue=(oe.setCurrentPage,oe.resetFriends),le=ce.reducer,de=n(48),_e=Object(de.createApi)({reducerPath:"userService",baseQuery:Object(de.fetchBaseQuery)({baseUrl:"https://social-network.samuraijs.com/api/1.0",prepareHeaders:function(e){return e.set("API-KEY","5f2d5af9-d6f0-4b7d-8e20-5a0ae84fdc07"),e},mode:"cors",credentials:"include"}),tagTypes:["User","Subscription"],endpoints:function(e){return{fetchUsers:e.query({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{limit:15,friend:!1},t=e.limit,n=e.friend;return{url:"/users",params:{count:t,friend:n}}},keepUnusedDataFor:5}),fetchCheckSubscription:e.query({query:function(e){return{url:"/follow/".concat(e)}},providesTags:["Subscription"]}),unsubscribeFromUser:e.mutation({query:function(e){return{url:"/follow/".concat(e),method:"DELETE"}},transformResponse:function(e){return e.data},invalidatesTags:["Subscription"]}),subscribeOnUser:e.mutation({query:function(e){return{url:"/follow/".concat(e),method:"POST"}},invalidatesTags:["Subscription"]})}}}),je=Object(de.createApi)({reducerPath:"profileService",baseQuery:Object(de.fetchBaseQuery)({baseUrl:"https://social-network.samuraijs.com/api/1.0/profile",prepareHeaders:function(e){return e.set("API-KEY","5f2d5af9-d6f0-4b7d-8e20-5a0ae84fdc07"),e},credentials:"include",mode:"cors"}),tagTypes:["Status"],endpoints:function(e){return{fetchProfile:e.query({query:function(e){return{url:"/".concat(e)}}}),fetchStatus:e.query({query:function(e){return{url:"/status/".concat(e)}},providesTags:function(e){return["Status"]}}),updateStatus:e.mutation({query:function(e){return{url:"/status",method:"PUT",body:e}},invalidatesTags:["Status"]}),updateProfile:e.mutation({query:function(e){return{url:"/",method:"PUT",body:e}}})}}}),be=(c={header:re,profile:L,dialog:U,user:Q,friend:le,auth:G},Object(b.a)(c,_e.reducerPath,_e.reducer),Object(b.a)(c,je.reducerPath,je.reducer),c),fe=Object(f.configureStore)({reducer:be,middleware:function(e){return e().concat(_e.middleware).concat(je.middleware)}});window.store=fe;var me,pe,he,Oe=fe,xe=n(54),ge=n.n(xe),ve=n(0),ye=function(){return Object(ve.jsx)("div",{className:ge.a.logo,children:"SN"})},ke=n(29),Ne=n(19),Se=n(20),we=["children"],Pe=Se.b.div(me||(me=Object(Ne.a)(["\n    width: 100%;\n    max-width: 990px;\n    height: 100%;\n    margin: 0 auto;\n    padding: 0 15px;\n    min-width: ",";\n"])),(function(e){return e.minWidth?e.minWidth:"auto"})),Ie=function(e){var t=e.children,n=Object(ke.a)(e,we);return Object(ve.jsx)(Pe,Object(A.a)(Object(A.a)({},n),{},{children:t}))},Le=n.p+"static/media/no_avatar.77e62bce.png",Ce=n(15),Ue={primary:"#2787F5",white:"#FFF",background:"#EDEEF0",backgroundHover:"#F5F6F7",backgroundHighlighted:"rgba(174, 183, 194, 0.16)",backgroundPopup:"raba(0,0,0,0.6)",chili:"#C21807",separatorCommon:"#DCE1E6",separatorAlternate:"#E7E8EC",textColorPrimary:"#000",textColorSecondary:"#818C99",textColorSubhead:"#626D7A",textLink:"#2A5885",buttonSecondaryText:"#55677D",buttonPrimaryText:"#FFF",buttonPrimaryBg:"#5181b8",buttonSecondaryBg:"#E5EBF1",gray100:"#DCE1E6",gray400:"#939393",steelGray:"#FAFBFC",blue400:"#5181B8",blue600:"#2A5885",redLiked:"#ff3347",accent:"#5181B8",iconTertiary:"#AEB7C2",pageBlockShadow:"0 1px 0 0 #DCE1E6,\n            0 0 0 1px #E7E8EC"},Ae={borderRadius:"4px",widthContent:"550px"},Fe=["children"],Ee=Se.b.div(pe||(pe=Object(Ne.a)(["\n\tposition: ",";\n\tleft: ",";\n\tright: ",";\n\ttop: ",";\n\tbottom: ",";\n\n\theight: ",";\n\twidth: ",";\n\tmax-width: ",";\n\tmin-width: ",";\n\tmargin: ",";\n\tpadding: ",";\n\tborder-radius: ",";\n\n\ttext-align: ",";\n\tcolor: ",";\n\tbackground: ",";\n\tbox-shadow: ",";\n\tcursor: ",";\n\n\ttransform: ",";\n\topacity: ",";\n\tvisibility: ",";\n\ttransition: ",";\n\tz-index: ",";\n\n\t","\n"])),(function(e){return e.position?e.position:"static"}),(function(e){return e.left?e.left:"auto"}),(function(e){return e.right?e.right:"auto"}),(function(e){return e.top?e.top:"auto"}),(function(e){return e.bottom?e.bottom:"auto"}),(function(e){return e.height?e.height:"auto"}),(function(e){return e.width?e.width:"auto"}),(function(e){return e.maxWidth?e.maxWidth:"none"}),(function(e){return e.minWidth?e.minWidth:"none"}),(function(e){return e.margin?e.margin:"0"}),(function(e){return e.padding?e.padding:"15px"}),Ae.borderRadius,(function(e){return e.textAlign?e.textAlign:"left"}),(function(e){return e.color?e.color:Ue.gray400}),(function(e){return e.background?e.background:Ue.white}),(function(e){return e.boxShadow?e.boxShadow:Ue.pageBlockShadow}),(function(e){return e.cursor?e.cursor:"default"}),(function(e){return e.transform?e.transform:"none"}),(function(e){return e.opacity?e.opacity:"1"}),(function(e){return e.visibility?e.visibility:"visible"}),(function(e){return e.transition?e.transition:"none"}),(function(e){return e.zIndex?e.zIndex:"auto"}),(function(e){return e.active&&Object(Se.a)(he||(he=Object(Ne.a)(["\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t\ttransform: translateY(0);\n\t\t"])))})),Me=function(e){var t=e.children,n=Object(ke.a)(e,Fe);return Object(ve.jsx)(Ee,Object(A.a)(Object(A.a)({},n),{},{children:t}))},Be=n(31),De=n.n(Be),Te=function(e){var t=e.profile,n=e.imageURL,r=e.isMenuOpen,a=e.toggleMenu,s=e.logout,i=e.closeOtherElements,c=r,o={position:"absolute",top:"100%",right:"0",minWidth:"200px",padding:"8px 0",transform:" translateY(10px)",visibility:"hidden",opacity:"0",transition:"opacity 200ms linear, transform 200ms linear, visibility 200ms linear",active:c};return Object(ve.jsxs)(Me,Object(A.a)(Object(A.a)({},o),{},{className:"".concat(De.a.menu," ").concat(c),onClick:function(e){e.stopPropagation(),i()},children:[Object(ve.jsxs)("div",{className:De.a.menu__top,children:[Object(ve.jsx)("div",{className:De.a.menu__img,children:Object(ve.jsx)(_.b,{to:"/profile",children:Object(ve.jsx)("img",{src:n,alt:"avatar"})})}),Object(ve.jsxs)("div",{className:De.a.menu__title,children:[Object(ve.jsx)(_.b,{to:"/profile",children:Object(ve.jsx)("div",{className:De.a.menu__name,children:t.fullName})}),Object(ve.jsx)(_.b,{to:"/profile",children:Object(ve.jsxs)("div",{className:De.a.menu__userId,children:["\u0412\u0430\u0448 id ",t.userId]})})]})]}),Object(ve.jsxs)("ul",{className:De.a.menu__list,children:[Object(ve.jsx)(_.b,{to:"/settings",children:Object(ve.jsx)("li",{className:De.a.menu__item,onClick:a,children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(ve.jsx)("li",{className:De.a.menu__item,onClick:s,children:"\u0412\u044b\u0439\u0442\u0438"})]})]}))},Re=n(55),Je=n.n(Re),We={display:"block",width:"100%"},ze=function(e){var t=e.size,n=e.margin,r=e.photo,a=r||Le,s=Object(o.useMemo)((function(){return{width:t||"32px",height:t||"32px",margin:n||"0",borderRadius:"50%",overflow:"hidden"}}),[t,n]);return Object(ve.jsx)("div",{style:s,children:Object(ve.jsx)("img",{style:We,src:a,alt:"avatar"})})},Ve=u.a.forwardRef((function(e,t){var n=e.profile,r=e.isMenuOpen,a=e.toggleMenu,s=e.logout,i=e.closeOtherElements,c=(null===n||void 0===n?void 0:n.photos.small)?n.photos.small:Le,o=r?Je.a.active:"";return Object(ve.jsxs)("div",{ref:t,className:"".concat(Je.a.menu," ").concat(o),onClick:a,children:[Object(ve.jsx)("div",{className:Je.a.menu__name,children:n.fullName}),Object(ve.jsx)(ze,{photo:null===n||void 0===n?void 0:n.photos.small}),Object(ve.jsx)(Ce.a,{className:Je.a.menu__icon}),Object(ve.jsx)(Te,{logout:s,profile:n,imageURL:c,isMenuOpen:r,toggleMenu:a,closeOtherElements:i})]})}));Ve.displayName="Settings";var qe,He,Qe,Ye,Ke,Xe,Ze,Ge,$e,et,tt,nt=Ve,rt=function(){var e=Object(j.useDispatch)(),t=Object(j.useSelector)((function(e){return e.profile.authProfile})),n=Object(j.useSelector)((function(e){return e.header})).isMenuOpen,r=Object(j.useSelector)((function(e){return e.auth})).isAuth,a=Object(o.useRef)(),s=function(t){(t.path||t.composedPath&&t.composedPath()).includes(a.current)||e(te())};return Object(o.useEffect)((function(){return document.body.addEventListener("click",s),function(){document.body.removeEventListener("click",s)}}),[]),r&&t?Object(ve.jsx)(nt,{profile:t,isMenuOpen:n,toggleMenu:function(){e(ne())},logout:function(){e(Z())},closeOtherElements:function(){e(w())},ref:a}):null},at=function(){return Object(ve.jsx)("header",{className:ge.a.header,children:Object(ve.jsx)(Ie,{children:Object(ve.jsxs)("div",{className:ge.a.header__container,children:[Object(ve.jsx)(ye,{}),Object(ve.jsx)(rt,{})]})})})},st=n(11),it=n(13),ct=n(23),ot=n(92),ut=["children"],lt=Se.b.span(qe||(qe=Object(Ne.a)(["\n\tdisplay: inline-block;\n"]))),dt=Se.b.button(He||(He=Object(Ne.a)(["\n\tdisplay: inline-block;\n\ttext-align: center;\n\theight: ",";\n\twidth: ",";\n\tmin-width: ",";\n\tpadding: ",";\n\tmargin: ",";\n\tbackground: ",";\n\tborder-radius: ",";\n\tcolor: ",";\n\tfont-size: ",";\n\tline-height: ",";\n\ttransition: background 0.1s linear;\n\n\t&:hover {\n\t\tbackground: ",";\n\t}\n\n\t&:active "," {\n\t\ttransform: translateY(1px);\n\t}\n\n\t&:disabled {\n\t\tcursor: not-allowed;\n\t\tbackground: #999;\n\n\t\t&:hover {\n\t\t\tbackground: #999;\n\t\t}\n\t}\n"])),(function(e){return e.height?e.height:"auto"}),(function(e){return e.w?e.w:"100%"}),(function(e){return e.minWidth?e.minWidth:"auto"}),(function(e){return e.p?e.p:"7px 16px"}),(function(e){return e.m?e.m:"0"}),(function(e){return e.secondary?Ue.buttonSecondaryBg:Ue.buttonPrimaryBg}),Ae.borderRadius,(function(e){return e.secondary?Ue.buttonSecondaryText:Ue.buttonPrimaryText}),(function(e){return e.fz?e.fz:"inherit"}),(function(e){return e.lh?e.lh:"inherit"}),(function(e){return e.secondary?Object(ot.a)(.05,Ue.buttonSecondaryBg):Object(ot.b)(.03,Ue.buttonPrimaryBg)}),lt),_t=function(e){var t=e.children,n=Object(ke.a)(e,ut);return Object(ve.jsx)(dt,Object(A.a)(Object(A.a)({},n),{},{children:Object(ve.jsx)(lt,{children:t})}))},jt=Object(Se.c)(Qe||(Qe=Object(Ne.a)(["\n  0% {\n    background: rgba(255,255,255, 0.3);\n  }\n  10% {\n    background: rgba(255,255,255, 1);\n  }\n"]))),bt=Se.b.div(Ye||(Ye=Object(Ne.a)(["\n\tdisplay: inline-block;\n\twidth: 10px;\n\theight: 5px;\n\tbackground: rgba(255, 255, 255, 0.3);\n\tanimation: "," 1s ease-in-out infinite;\n\n\t","\n"])),jt,(function(e){return e.dots&&Object(Se.a)(Ke||(Ke=Object(Ne.a)(["\n\t\t\twidth: ",";\n\t\t\theight: ",";\n\t\t\tborder-radius: 50%;\n\t\t"])),(function(e){return e.dotsWidth?e.width:"5px"}),(function(e){return e.dotsWidth?e.width:"5px"}))})),ft=Object(Se.b)(bt)(Xe||(Xe=Object(Ne.a)([""]))),mt=Object(Se.b)(bt)(Ze||(Ze=Object(Ne.a)(["\n\tmargin: ",";\n\tanimation-delay: 0.2s;\n"])),(function(e){return e.dots?"0 4px":"0 5px"})),pt=Object(Se.b)(bt)(Ge||(Ge=Object(Ne.a)(["\n\tanimation-delay: 0.4s;\n"]))),ht=Se.b.div($e||($e=Object(Ne.a)(["\n\tdisplay: flex;\n\twidth: fit-content;\n\tpadding: ",";\n\tbackground: ",";\n"])),(function(e){return e.dots?"0":"7px 15px"}),(function(e){return e.dots?"transparent":"#000"})),Ot=function(e){return Object(ve.jsxs)(ht,Object(A.a)(Object(A.a)({},e),{},{children:[Object(ve.jsx)(ft,Object(A.a)({},e)),Object(ve.jsx)(mt,Object(A.a)({},e)),Object(ve.jsx)(pt,Object(A.a)({},e))]}))},xt=n(134),gt=n.n(xt),vt=n(4),yt=n.n(vt),kt=function(e){var t=e.onSubmit,n=e.initialValues,r=e.validationSchema,a=e.wrongData;return Object(ve.jsx)(ct.c,{initialValues:n,validationSchema:r,onSubmit:t,children:function(e){return Object(ve.jsx)("form",{className:yt.a.form,onSubmit:e.handleSubmit,children:Object(ve.jsxs)(Me,{padding:"25px 30px",children:[Object(ve.jsx)("div",{className:gt.a.form__title,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),e.touched.email&&e.errors.email?Object(ve.jsx)("span",{className:yt.a.form__error,children:e.errors.email}):null,Object(ve.jsx)("div",{className:yt.a.form__inputContainer,children:Object(ve.jsx)("input",Object(A.a)({className:yt.a.form__input,placeholder:"Email",id:"email",type:"text"},e.getFieldProps("email")))}),e.touched.password&&e.errors.password?Object(ve.jsx)("span",{className:yt.a.form__error,children:e.errors.password}):null,Object(ve.jsx)("div",{className:yt.a.form__inputContainer,children:Object(ve.jsx)("input",Object(A.a)({className:yt.a.form__input,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"password",type:"password",autoComplete:"on"},e.getFieldProps("password")))}),Object(ve.jsx)("div",{className:yt.a.form__inputContainer,children:Object(ve.jsxs)("label",{className:yt.a.form__label,children:[Object(ve.jsx)(ct.a,{className:yt.a.form__checkbox,type:"checkbox",name:"rememberMe"}),Object(ve.jsx)("span",{className:yt.a.form__labelText,children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]})}),a&&!e.dirty&&Object(ve.jsx)("span",{className:yt.a.form__error,children:a}),Object(ve.jsx)("div",{children:Object(ve.jsx)(_t,{disabled:!(e.isValid&&e.dirty&&!e.isSubmitting),minWidth:"120px",type:"submit",p:"10px 20px",w:"content-fit",children:e.isSubmitting?Object(ve.jsx)(Ot,{dots:!0}):"\u0412\u043e\u0439\u0442\u0438"})})]})})}})},Nt=function(){var e=Object(j.useDispatch)(),t=Object(j.useSelector)((function(e){return e.auth})).wrongData,n={email:"",password:"",rememberMe:!1},r=it.c({email:it.d().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:it.d().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),rememberMe:it.a(),captcha:it.a()});return Object(ve.jsx)(kt,{onSubmit:function(t,r){var a=r.setSubmitting,s=r.resetForm,i={email:t.email,password:t.password,rememberMe:t.rememberMe};e(K({loginData:i,callbackOnEndRequest:function(){a(!1),s(n)}}))},initialValues:n,validationSchema:r,wrongData:t})},St=n(135),wt=n.n(St),Pt=function(){return Object(ve.jsx)("div",{className:wt.a.auth,children:Object(ve.jsx)(Ie,{children:Object(ve.jsx)(Nt,{})})})},It=n(46),Lt=n.n(It),Ct=["children","to","end"],Ut=function(e){var t=e.children,n=e.to,r=e.end,a=Object(ke.a)(e,Ct),s=Object(st.j)(n),i=Object(st.g)({path:s.pathname,end:void 0===r});return Object(ve.jsx)("li",{children:Object(ve.jsx)(_.b,Object(A.a)(Object(A.a)({className:"".concat(Lt.a.menu__item," ").concat(i?Lt.a.active:""),to:n},a),{},{children:t}))})},At=[{path:"/profile",props:{},icon:Ce.i,title:"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},{path:"/dialogs",props:{},icon:Ce.f,title:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},{path:"/friends",props:{end:!0},icon:Ce.m,title:"\u0414\u0440\u0443\u0437\u044c\u044f"},{path:"/settings",props:{},icon:Ce.d,title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}],Ft=function(){return Object(ve.jsx)("nav",{className:Lt.a.menu,children:Object(ve.jsx)("ul",{className:Lt.a.menu__list,children:At.map((function(e){return Object(ve.jsxs)(Ut,Object(A.a)(Object(A.a)({to:e.path},e.props),{},{children:[Object(ve.jsx)(e.icon,{className:Lt.a.menu__icon}),e.title]}),e.path)}))})})},Et=Object(Se.c)(et||(et=Object(Ne.a)(["\n  0% {\n    transform: rotate(30deg)\n  }\n  100% {\n    transform: rotate(390deg)\n  }\n  \n"]))),Mt=Se.b.div(tt||(tt=Object(Ne.a)(["\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: ",";\n\theight: ",";\n\tborder-radius: 50%;\n\n\tbackground: conic-gradient(#bababa 270deg, "," 270deg);\n\tanimation: "," 2s infinite;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\twidth: 70%;\n\t\theight: 70%;\n\t\tborder-radius: 50%;\n\t\tbackground: #fff;\n\n\t\ttransform: translate(-50%, -50%);\n\t}\n"])),(function(e){return e.size?e.size:"25px"}),(function(e){return e.size?e.size:"25px"}),Ue.primary,Et),Bt=n(36),Dt=n.n(Bt),Tt=function(e){var t=e.item,n=t.id,r=t.name,a=t.photos;return Object(ve.jsx)("li",{children:Object(ve.jsxs)(_.c,{to:"/dialogs/".concat(n),className:function(e){var t=e.isActive;return[Dt.a.dialog__item,t?Dt.a.active:""].filter(Boolean).join(" ")},children:[Object(ve.jsx)(ze,{photo:null===a||void 0===a?void 0:a.large,size:"50px",margin:"11px 14px 7px 0"}),Object(ve.jsx)("div",{className:Dt.a.dialog__data,children:Object(ve.jsx)("span",{className:Dt.a.dialog__name,children:r})})]})})},Rt=function(e){var t=e.dialogs;return t=t.map((function(e){return Object(ve.jsx)(Tt,{item:e},e.id)})),Object(ve.jsx)("div",{className:Dt.a.dialog__list,children:Object(ve.jsx)("ul",{children:t})})},Jt=function(){var e=_e.useFetchUsersQuery({limit:10,friend:!0}),t=e.data,n=e.isFetching;return e.isError?Object(ve.jsx)("div",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432"}):n?Object(ve.jsx)("div",{className:yt.a.emptyBlock,children:Object(ve.jsx)(Mt,{})}):void 0===t?null:Object(ve.jsx)("div",{className:Dt.a.dialog,children:Object(ve.jsxs)(Me,{padding:"0",children:[Object(ve.jsx)("div",{className:yt.a.title,children:"\u0414\u0438\u0430\u043b\u043e\u0433\u0438"}),Object(ve.jsx)(Rt,{dialogs:t.items})]})})},Wt=function(){return Object(ve.jsx)(Jt,{})},zt=function(e){var t=e.isSubscribed,n=e.subscribe,r=e.isSubscribing,a=e.unsubscribe,s=e.isUnsubscribing;return void 0===t?null:t?Object(ve.jsx)(_t,{disabled:s,onClick:a,secondary:!0,children:s?Object(ve.jsx)(Ot,{dots:!0}):"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"}):Object(ve.jsx)(_t,{disabled:r,onClick:n,children:r?Object(ve.jsx)(Ot,{dots:!0}):"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f"})},Vt=n(9),qt=function(){var e=Object(j.useSelector)((function(e){return e.profile.profile})).userId,t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?_e.useFetchCheckSubscriptionQuery(e):{},r=n.data,a=n.isFetching,s=n.isError,i=_e.useSubscribeOnUserMutation(),c=Object(Vt.a)(i,2),o=c[0],u=c[1],l=u.isLoading,d=u.isError,_=_e.useUnsubscribeFromUserMutation(),j=Object(Vt.a)(_,2),b=j[0],f=j[1],m=f.isLoading,p=f.isError,h={subscribe:function(){o(e)},isSubscribing:t?l||a:l,isErrorSubscribe:d,unsubscribe:function(){b(e)},isUnsubscribing:t?m||a:m,isErrorUnsubscribe:p};return t&&(h.isSubscribed=r,h.isFetchingCheckSubscription=a,h.isErrorCheckSubscription=s),h}(e,!0),n=t.isSubscribed,r=t.isErrorCheckSubscription,a=t.subscribe,s=t.isSubscribing,i=t.isErrorSubscribe,c=t.unsubscribe,o=t.isUnsubscribing,u=t.isErrorUnsubscribe;return r?Object(ve.jsxs)("span",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 y \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 id: ",e]}):i?Object(ve.jsxs)("span",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0435 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 id: ",e]}):u?Object(ve.jsxs)("span",{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0438\u0441\u043a\u0435 \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 id: ",e]}):Object(ve.jsx)(zt,{isSubscribed:n,subscribe:a,isSubscribing:s,unsubscribe:c,isUnsubscribing:o})},Ht=n(42),Qt=n.n(Ht),Yt=function(e){var t=e.handleOnChangeFile;return Object(ve.jsxs)("div",{className:Qt.a.updateAvatar,children:[Object(ve.jsxs)("label",{className:Qt.a.updateAvatar__label,htmlFor:"updateAvatar",children:[Object(ve.jsx)(Ce.b,{className:Qt.a.updateAvatar__icon}),"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"]}),Object(ve.jsx)("input",{className:Qt.a.updateAvatar__input,onChange:t,accept:"image/png, image/gif, image/jpeg",id:"updateAvatar",type:"file"})]})},Kt=function(){var e=Object(j.useDispatch)();return Object(ve.jsx)(Yt,{handleOnChangeFile:function(t){var n=new FormData;n.append("image",t.target.files[0]),e(y({photoFile:n}))}})},Xt=n(136),Zt=n.n(Xt),Gt=function(){return Object(ve.jsx)("div",{className:Zt.a.loader,children:Object(ve.jsx)(Ot,{})})},$t=function(e){var t=e.imageURL,n=e.isUpdatePhotoLoading,r=e.isAuthUserProfile;return Object(ve.jsxs)("div",{className:Qt.a.avatar,children:[Object(ve.jsx)("div",{className:Qt.a.avatar__image,children:Object(ve.jsx)("img",{src:t,alt:"avatar"})}),r&&!n&&Object(ve.jsx)(Kt,{}),r&&n&&Object(ve.jsx)(Gt,{})]})},en=function(e){var t=e.isAuthUserProfile,n=Object(j.useSelector)((function(e){return e.profile})),r=n.profile.photos,a=n.isUpdatePhotoLoading,s=r.large?r.large:Le;return Object(ve.jsx)($t,{imageURL:s,isUpdatePhotoLoading:a,isAuthUserProfile:t})},tn=function(e){var t=e.isAuthUserProfile,n=e.userId;return Object(ve.jsxs)(Me,{height:"fit-content",margin:"0 0 10px 0",children:[Object(ve.jsx)(en,{isAuthUserProfile:t}),t?Object(ve.jsx)(_.b,{to:"/settings",children:Object(ve.jsx)(_t,{secondary:!0,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(_.b,{to:"/dialogs/".concat(n),children:Object(ve.jsx)(_t,{m:"0 0 10px 0",children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})}),Object(ve.jsx)(qt,{})]})]})},nn=n(77),rn=n.n(nn),an=function(e){var t=e.photo,n=e.name,r=e.userId;return Object(ve.jsxs)("div",{className:rn.a.item,children:[Object(ve.jsxs)("div",{className:rn.a.item__avatar,children:[" ",Object(ve.jsx)(_.b,{to:"/profile/".concat(r),children:Object(ve.jsx)(ze,{photo:t,size:"50px"})})]}),Object(ve.jsxs)("div",{className:rn.a.item__name,children:[" ",Object(ve.jsx)(_.b,{to:"/profile/".concat(r),children:n.slice(0,7)})]})]})},sn=n(78),cn=n.n(sn),on=function(e){var t=e.friendsCount;return Object(ve.jsxs)("div",{className:cn.a.header,children:[Object(ve.jsx)(_.b,{to:"/friends",className:cn.a.header__title,children:"\u0414\u0440\u0443\u0437\u044c\u044f"}),Object(ve.jsx)(_.b,{to:"/friends",className:cn.a.header__amount,children:t})]})},un=n(137),ln=n.n(un),dn=function(e){var t=e.friends,n=e.friendsCount,r=t.map((function(e){var t;return Object(ve.jsx)(an,{photo:null===(t=e.photos)||void 0===t?void 0:t.small,name:e.name,userId:e.id},e.id)}));return Object(ve.jsxs)(Me,{children:[Object(ve.jsx)(on,{friendsCount:n}),Object(ve.jsx)("div",{className:ln.a.friendsList,children:r})]})},_n=function(){var e=_e.useFetchUsersQuery({limit:9,friend:!0}),t=e.data,n=e.isFetching,r=e.isError,a=e.refetch;return r?Object(ve.jsxs)("div",{className:yt.a.emptyBlock,children:[Object(ve.jsx)("div",{className:yt.a.emptyBlock__title,children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0440\u0443\u0437\u0435\u0439"}),Object(ve.jsx)("div",{className:yt.a.refetch,onClick:a,children:Object(ve.jsx)(Ce.l,{})})]}):n?Object(ve.jsx)("div",{className:yt.a.emptyBlock,children:Object(ve.jsx)(Mt,{})}):void 0===t?null:Object(ve.jsx)(dn,{friends:t.items,friendsCount:t.totalCount})},jn=function(e){var t=e.isAuthUserProfile,n=e.userId;return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(tn,{isAuthUserProfile:t,userId:n}),t&&Object(ve.jsx)(_n,{})]})},bn=n(17),fn=n.n(bn),mn=function(e){var t=e.title,n=e.body,r=e.link,a=n;if(void 0!==r&&r){var s=/^(http|https):\/\/[^ "]+$/.test(n)?n:"https://"+n;a=Object(ve.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:s})}return Object(ve.jsx)("div",{children:Object(ve.jsxs)("div",{className:fn.a.info__row,children:[Object(ve.jsx)("div",{className:fn.a.info__label,children:t}),Object(ve.jsx)("div",{className:fn.a.info__value,children:n?a:Object(ve.jsx)("span",{className:fn.a.info__notSpecified,children:"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"})})]})})},pn=function(e){var t=e.title,n=e.isAuthUserProfile;return Object(ve.jsxs)("div",{className:fn.a.header,children:[Object(ve.jsx)("div",{className:fn.a.header__title,children:t}),Object(ve.jsx)("div",{className:fn.a.header__line,children:n&&Object(ve.jsx)(_.b,{to:"/settings",children:Object(ve.jsx)("button",{className:fn.a.header__line_link,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})})]})},hn=function(e){var t=e.isShowInfo,n=e.lookingForAJobDescription,r=e.lookingForAJob,a=e.contacts,s=e.isAuthUserProfile,i={display:t?"block":"none"},c=Object.keys(a).map((function(e){return Object(ve.jsx)(mn,{title:e,body:a[e],link:!0},e)}));return Object(ve.jsx)("div",{style:i,className:fn.a.full_info,children:Object(ve.jsxs)("div",{className:fn.a.full_info__item,children:[Object(ve.jsxs)("div",{className:fn.a.full_info__block,children:[Object(ve.jsx)(pn,{title:"\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b",isAuthUserProfile:s}),Object(ve.jsx)(mn,{title:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:",body:r?"\u0414\u0430":"\u041d\u0435\u0442"}),Object(ve.jsx)(mn,{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:",body:n})]}),Object(ve.jsxs)("div",{className:fn.a.full_info__block,children:[Object(ve.jsx)(pn,{title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",isAuthUserProfile:s}),c]})]})})},On=function(e){var t=e.handleToggleMoreInfo,n=e.isShowInfo,r=e.aboutMe,a=n?"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e";return Object(ve.jsxs)("div",{className:fn.a.short_info,children:[Object(ve.jsx)(mn,{title:"\u041e\u0431\u043e \u043c\u043d\u0435:",body:r}),Object(ve.jsx)("div",{className:fn.a.info__more_btn,children:Object(ve.jsx)("button",{onClick:t,className:fn.a.info__more_btn,children:a})})]})},xn=n(138),gn=n.n(xn),vn=function(e){var t=e.status,n=e.isOpen,r=e.updateStatus,a=e.isSuccess,s=e.isLoading,i=e.closeUpdateStatus,c=Object(o.useState)(t),u=Object(Vt.a)(c,2),l=u[0],d=u[1],_={position:"absolute",padding:"0",left:"-20px",right:"-20px",top:"3px",visibility:"hidden",opacity:"0",transform:"translateY(10px)",transition:"opacity 200ms linear, transform 200ms linear, visibility 200ms linear",active:n,zIndex:10};return Object(o.useEffect)((function(){l!==t&&r(l)}),[l,t]),Object(o.useEffect)((function(){a&&!s&&i()}),[a,s]),Object(ve.jsx)(Me,Object(A.a)(Object(A.a)({},_),{},{children:Object(ve.jsx)(ct.c,{initialValues:{status:l},onSubmit:function(e){e.status!==t?d(e.status):i()},children:Object(ve.jsxs)(ct.b,{className:gn.a.form,children:[Object(ve.jsx)("div",{className:yt.a.form__inputContainer,children:Object(ve.jsx)(ct.a,{component:"textarea",className:yt.a.form__textarea,maxLength:"300",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",name:"status",type:"text"})}),Object(ve.jsx)(_t,{p:"7px 16px 8px",minWidth:"96px",lh:"11px",type:"submit",w:"fit-content",children:s?Object(ve.jsx)(Ot,{dots:!0}):"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})}))},yn=function(e){var t=e.status,n=Object(j.useDispatch)(),r=je.useUpdateStatusMutation(),a=Object(Vt.a)(r,2),s=a[0],i=a[1],c=i.isLoading,o=i.isError,u=i.isSuccess,l=Object(j.useSelector)((function(e){return e.profile})).isOpenUpdateStatus;return Object(ve.jsxs)(ve.Fragment,{children:[o&&Object(ve.jsx)("div",{children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),l?Object(ve.jsx)(vn,{status:t,updateStatus:function(e){s({status:e})},isLoading:c,isSuccess:u,isOpen:l,closeUpdateStatus:function(){n(w())}}):null]})},kn=n(56),Nn=n.n(kn),Sn=u.a.forwardRef((function(e,t){var n=e.status,r=e.isAuthUserProfile,a=e.openUpdateStatus,s=e.closeOtherElements,i=r?Nn.a.interact:"";return Object(ve.jsx)("div",{children:r?Object(ve.jsxs)("div",{ref:t,onClick:function(e){e.stopPropagation(),s()},children:[Object(ve.jsx)("div",{onClick:a,className:"".concat(Nn.a.status," ").concat(i),children:n||Object(ve.jsx)("span",{className:Nn.a.status__empty,children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"})}),Object(ve.jsx)(yn,{status:n})]}):Object(ve.jsx)("div",{className:"".concat(Nn.a.status),children:n})})}));Sn.displayName="Status";var wn=Sn,Pn=function(e){var t=e.userId,n=e.isAuthUserProfile,r=Object(j.useDispatch)(),a=je.useFetchStatusQuery(t),s=a.data,i=a.isError,c=a.isFetching,u=Object(o.useRef)(),l=function(){};n&&(l=function(){r(S())});var d=function(e){(e.path||e.composedPath&&e.composedPath()).includes(u.current)||r(w())};return Object(o.useEffect)((function(){return document.body.addEventListener("click",d),function(){document.body.removeEventListener("click",d)}}),[]),Object(ve.jsxs)(ve.Fragment,{children:[i&&Object(ve.jsx)("div",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"}),c&&Object(ve.jsx)("div",{style:{margin:"5px 0 0"},children:Object(ve.jsx)(Mt,{size:"15px"})}),!c&&Object(ve.jsx)(wn,{ref:u,status:s,isAuthUserProfile:n,openUpdateStatus:l,closeOtherElements:function(){r(te())}})]})},In=function(e){var t=e.aboutMe,n=e.contacts,r=e.fullName,a=e.lookingForAJob,s=e.lookingForAJobDescription,i=e.userId,c=e.isAuthUserProfile,u=Object(o.useState)(!0),l=Object(Vt.a)(u,2),d=l[0],_=l[1];return Object(ve.jsx)(Me,{margin:"0 0 10px 0",children:Object(ve.jsxs)("div",{className:fn.a.info,children:[Object(ve.jsxs)("div",{className:fn.a.info__top,children:[Object(ve.jsx)("div",{className:fn.a.info__name,children:r}),Object(ve.jsx)(Pn,{isAuthUserProfile:c,userId:i})]}),Object(ve.jsx)(On,{aboutMe:t,isShowInfo:d,handleToggleMoreInfo:function(){_((function(e){return!e}))}}),Object(ve.jsx)(hn,{isShowInfo:d,contacts:n,lookingForAJob:a,lookingForAJobDescription:s,isAuthUserProfile:c})]})})},Ln=n(274),Cn=n(57),Un=n.n(Cn),An=u.a.forwardRef((function(e,t){var n=e.addPost,r=e.isOpenCreatePost,a=e.openCreatePost,s=Object(o.useState)(""),i=Object(Vt.a)(s,2),c=i[0],u=i[1],l=c.length>0||r?Un.a.active:"",d=c.length<1;return Object(ve.jsx)("form",{ref:t,className:l,children:Object(ve.jsxs)(Me,{margin:"10px 0",children:[Object(ve.jsx)("textarea",{className:Un.a.createPost__textarea,type:"text",name:"newPost",id:"newPost",placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",value:c,onFocus:a,onChange:function(e){u(e.target.value)}}),Object(ve.jsx)("div",{className:Un.a.createPost__wrapperButton,children:Object(ve.jsx)(_t,{className:Un.a.createPost__button,w:"min-content",disabled:d,onClick:function(){n(c),u("")},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})}));An.displayName="CreatePost";var Fn=An,En=function(e){var t=e.setPosts,n=e.posts,r=Object(o.useRef)(),a=Object(j.useDispatch)(),s=Object(j.useSelector)((function(e){return e.profile})),i=s.profile.userId,c=s.isOpenCreatePost,u=function(e){(e.path||e.composedPath&&e.composedPath()).includes(r.current)||a(I())};return Object(o.useEffect)((function(){return document.body.addEventListener("click",u),function(){document.body.removeEventListener("click",u)}}),[]),Object(ve.jsx)(Fn,{ref:r,addPost:function(e){var r={id:Object(Ln.a)(),userId:i,text:e,date:Date.now(),usersIdLiked:[]},a=Object(F.a)(n);a.push(r),t(a)},isOpenCreatePost:c,openCreatePost:function(){a(P())}})},Mn=n(38),Bn=n.n(Mn),Dn=function(e){var t=e.isLiked,n=e.toggleLike,r=Object(o.useState)(!1),a=Object(Vt.a)(r,2),s=a[0],i=a[1],c=t?Bn.a.liked:Bn.a.notLiked,u=t&&s?Bn.a.animation:"";return Object(ve.jsxs)("div",{className:"".concat(Bn.a.likeWrapper," ").concat(c," ").concat(u),onClick:function(){n(),s||i(!0)},children:[Object(ve.jsxs)("div",{className:Bn.a.iconWrapper,children:[t&&Object(ve.jsx)(Ce.e,{className:Bn.a.IconLiked}),!t&&Object(ve.jsx)(Ce.g,{className:Bn.a.IconNotLiked})]}),Object(ve.jsx)("button",{className:"".concat(Bn.a.likeButton),children:"\u041d\u0440\u0430\u0432\u0438\u0442\u044c\u0441\u044f"})]})},Tn=n(58),Rn=n.n(Tn),Jn=function(e){var t=e.likesCount;return Object(ve.jsxs)("div",{className:Rn.a.likes,children:[Object(ve.jsx)("div",{className:Rn.a.iconWrapper,children:Object(ve.jsx)(Ce.e,{className:Rn.a.likesCount__icon})}),Object(ve.jsx)("div",{className:Rn.a.likesCount,children:t})]})},Wn=n(139),zn=n.n(Wn),Vn=function(e){var t=e.post,n=e.profile,r=e.toggleLike,a=t.usersIdLiked.includes(n.userId),s=t.usersIdLiked.length;return Object(ve.jsxs)("div",{className:zn.a.footer,children:[Object(ve.jsx)(Dn,{isLiked:a,toggleLike:function(){r({postId:t.id,userId:n.userId})}}),s>0&&Object(ve.jsx)(Jn,{likesCount:s})]})},qn=function(e,t){var n;return"string"===typeof t?t="\u0432\u0447\u0435\u0440\u0430"===(t="\u0441\u0435\u0433\u043e\u0434\u043d\u044f"===t||"tooday"===t?new Date:t)||"yesterday"===t?((n=new Date).setDate(n.getDate()-1),n):t:"number"===typeof t&&(t=new Date(t)),e.setHours(0,0,0,0)===t.setHours(0,0,0,0)};var Hn,Qn=n(43),Yn=n.n(Qn),Kn=function(e){var t,n=e.post,r=e.profile,a=e.toggleLike,s=new Date(n.date),i=s.toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"});return i=qn(s,"\u0441\u0435\u0433\u043e\u0434\u043d\u044f")?"\u0441\u0435\u0433\u043e\u0434\u043d\u044f":i,i=qn(s,"\u0432\u0447\u0435\u0440\u0430")?"\u0432\u0447\u0435\u0440\u0430":i,Object(ve.jsx)(Me,{className:Yn.a.post,children:Object(ve.jsxs)("article",{children:[Object(ve.jsxs)("div",{className:Yn.a.post__header,children:[Object(ve.jsx)(ze,{photo:null===(t=r.photos)||void 0===t?void 0:t.small,margin:"0 10px 0 0"}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("div",{className:Yn.a.post__name,children:r.fullName}),Object(ve.jsx)("div",{className:Yn.a.post__date,children:i})]})]}),Object(ve.jsx)("div",{className:Yn.a.post__text,children:n.text}),Object(ve.jsx)(Vn,{toggleLike:a,post:n,profile:r})]})})},Xn=function(e){var t=e.post,n=e.setPosts,r=e.posts,a=Object(j.useSelector)((function(e){return e.profile.profile}));return Object(ve.jsx)(Kn,{post:t,profile:a,toggleLike:function(e){var t=e.postId,a=e.userId,s=Object(F.a)(r);s.forEach((function(e){if(e.id===t){var n=!1;e.usersIdLiked=e.usersIdLiked.filter((function(e){return e===a&&(n=!0),e!==a})),n||e.usersIdLiked.push(a)}})),n(s)}})},Zn=function(e){var t=e.posts,n=e.setPosts,r=t.slice().reverse().map((function(e,r){return Object(ve.jsx)(Xn,{post:e,setPosts:n,posts:t},r)}));return Object(ve.jsx)("div",{styles:Yn.a.post_list,children:r})},Gn=n(59),$n=n.n(Gn),er=function(){return Object(ve.jsxs)(Me,{className:$n.a.noPosts,padding:"0",children:[Object(ve.jsx)("div",{className:$n.a.noPosts__header,children:"\u041d\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u0432"}),Object(ve.jsxs)("div",{className:$n.a.noPosts__content,children:[Object(ve.jsx)("div",{className:$n.a.noPosts__icon,children:Object(ve.jsx)(Ce.h,{})}),Object(ve.jsx)("div",{children:"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u0441\u0442\u0430"})]})]})},tr=function(e,t){var n=Object(o.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return t}})),r=Object(Vt.a)(n,2),a=r[0],s=r[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(r){}}]},nr=n(76),rr=n.n(nr),ar=function(e){var t=e.profile,n=e.isAuthUserProfile,r=Object(j.useSelector)((function(e){return e.auth.userId})),a=tr("post".concat(r),[{id:1,userId:14640,text:"\u0415\u0434\u0432\u0430 \u043b\u0438 \u043d\u0438 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435, \u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0432\u0435\u0440\u0434\u043e \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043f\u0440\u043e\u0436\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441\u043d\u0443\u044e \u0436\u0438\u0437\u043d\u044c \u2014 \u043d\u0430\u0434\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0442\u043e, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e\u2026\u0438 \u043d\u0435 \u0434\u0435\u043b\u0430\u0442\u044c \u0442\u043e\u0433\u043e, \u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0443\u0436\u043d\u043e. \u041e\u0442 \u044d\u0442\u043e\u0433\u043e \u0438 \u0431\u0443\u0434\u0435\u043c \u043e\u0442\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u0442\u044c\u0441\u044f.",date:15598548e5,likeCount:7,usersIdLiked:[1234,312,454,4534]},{id:2,userId:14640,text:"\u0414\u0430. \u0422\u0435\u043f\u0435\u0440\u044c \u044f \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u043c\u043e\u0433\u0443 \u0442\u0430\u043d\u0446\u0435\u0432\u0430\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u043c\u043e\u0451 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u0438 \u043f\u043b\u0430\u043a\u0430\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e, \u0442\u0435\u043f\u0435\u0440\u044c \u044f \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0438\u0437 \u0434\u043e\u043c\u0430. \u0420\u0430\u043d\u044c\u0448\u0435 \u043c\u043d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u043b\u043e\u0441\u044c \u0441\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0438 \u0447\u0443\u0432\u0441\u0442\u0432\u0430.",date:1637235449721,likeCount:13,usersIdLiked:[5454,654,645,756,7456,756,765]},{id:3,userId:14640,text:"\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043d\u044f\u0442\u044c \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u044e, \u043d\u0443\u0436\u043d\u043e \u0441\u043f\u0435\u0440\u0432\u0430 \u043f\u043e\u043d\u044f\u0442\u044c \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u044e.",date:16372692e5,likeCount:13,usersIdLiked:[5454,654,645,756,7456,756,765,545,6532,5344]}]),s=Object(Vt.a)(a,2),i=s[0],c=s[1];return Object(o.useEffect)((function(){}),i),Object(ve.jsxs)("div",{className:rr.a.profile__content,children:[Object(ve.jsx)(In,Object(A.a)(Object(A.a)({},t),{},{isAuthUserProfile:n})),n&&Object(ve.jsx)(En,{setPosts:c,posts:i}),n?Object(ve.jsx)(Zn,{posts:i,setPosts:c}):Object(ve.jsx)(er,{})]})},sr=Se.b.h4(Hn||(Hn=Object(Ne.a)(["\n\tfont-size: ",";\n"])),(function(e){return e.fontSize?e.fontSize:"1.4rem"})),ir=function(e){var t=e.children,n=e.fontSize,r=e.background;return Object(ve.jsx)(Me,{background:r,boxShadow:"none",padding:"50px 0 0 0",textAlign:"center",children:Object(ve.jsx)(sr,{fontSize:n,children:t})})},cr=function(e){var t=e.profile,n=e.error,r=e.isLoading,a=e.isAuthUserProfile;return Object(ve.jsxs)(ve.Fragment,{children:[n&&Object(ve.jsx)(ir,{children:n}),!n&&(t&&!r?Object(ve.jsxs)("div",{className:rr.a.profile,children:[Object(ve.jsx)(jn,{isAuthUserProfile:a,userId:t.userId}),Object(ve.jsx)(ar,{profile:t,isAuthUserProfile:a})]}):Object(ve.jsx)("div",{className:yt.a.emptyBlock,children:Object(ve.jsx)(Mt,{})}))]})},or=function(){var e=Object(j.useDispatch)(),t=Object(j.useSelector)((function(e){return e.profile})),n=Object(j.useSelector)((function(e){return e.auth.userId})),r=Object(st.i)().userId,a=r||n,s=n===a;return Object(o.useEffect)((function(){a&&e(v({id:a,isAuthUserProfile:s}))}),[a]),Object(ve.jsx)(cr,Object(A.a)(Object(A.a)({},t),{},{isAuthUserProfile:s}))},ur=function(){return Object(ve.jsx)(or,{})},lr=n(12),dr=n.n(lr),_r=function(e){var t=e.title,n=e.header,r=e.formik;return Object(ve.jsxs)(ve.Fragment,{children:[n&&Object(ve.jsx)("div",{className:yt.a.title,children:Object(ve.jsx)("h4",{className:yt.a.title__header,children:"\u041e\u0431\u043e \u043c\u043d\u0435"})}),Object(ve.jsxs)("div",{className:dr.a.form__block,children:[t&&Object(ve.jsx)("div",{className:dr.a.form__subheader,children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),r.touched.fullName&&r.errors.fullName?Object(ve.jsxs)("div",{className:dr.a.form__errorRow,children:[Object(ve.jsx)("span",{}),Object(ve.jsx)("span",{className:yt.a.form__error,children:r.errors.fullName})]}):null,Object(ve.jsxs)("label",{className:dr.a.form__row,children:[Object(ve.jsx)("span",{className:dr.a.form__title,children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c:"}),Object(ve.jsx)(ct.a,{className:yt.a.form__input,name:"fullName",type:"text"})]}),Object(ve.jsxs)("label",{className:"".concat(dr.a.form__row," ").concat(dr.a.alignStart),children:[Object(ve.jsx)("span",{className:dr.a.form__title,children:"O\u0431\u043e \u043c\u043d\u0435:"}),Object(ve.jsx)(ct.a,{className:yt.a.form__textarea,component:"textarea",name:"aboutMe",type:"textarea"})]})]})]})},jr=function(e){var t=e.title,n=e.header,r=e.lookingForAJobSettings,a=r.handlerTrue,s=r.handlerFalse,i=r.isLookingFor;return Object(ve.jsxs)(ve.Fragment,{children:[n&&Object(ve.jsx)("div",{className:yt.a.title,children:Object(ve.jsx)("h4",{className:yt.a.title__header,children:"\u0420\u0430\u0431\u043e\u0442\u0430"})}),Object(ve.jsxs)("div",{className:dr.a.form__block,children:[t&&Object(ve.jsx)("div",{className:dr.a.form__subheader,children:"\u0420\u0430\u0431\u043e\u0442\u0430"}),Object(ve.jsxs)("label",{className:dr.a.form__row,children:[Object(ve.jsx)("span",{className:dr.a.form__title,children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),Object(ve.jsxs)("div",{className:dr.a.form__radioGroup,role:"group","aria-labelledby":"my-radio-group",children:[Object(ve.jsxs)("label",{className:dr.a.form__radioLabel,onClick:a,children:[Object(ve.jsx)(ct.a,{type:"radio",name:"lookingForAJob",value:!0,checked:i}),Object(ve.jsx)("span",{className:dr.a.form__radioValue,children:"\u0414\u0430"})]}),Object(ve.jsxs)("label",{className:dr.a.form__radioLabel,onClick:s,children:[Object(ve.jsx)(ct.a,{type:"radio",name:"lookingForAJob",value:!1,checked:!i}),Object(ve.jsx)("span",{className:dr.a.form__radioValue,children:"\u041d\u0435\u0442"})]})]})]}),Object(ve.jsxs)("label",{className:"".concat(dr.a.form__row," ").concat(dr.a.alignStart),children:[Object(ve.jsx)("span",{className:dr.a.form__title,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(ve.jsx)(ct.a,{className:yt.a.form__textarea,component:"textarea",name:"lookingForAJobDescription",type:"textarea"})]})]})]})},br=function(e){var t=e.formik,n=e.name,r=e.type,a=void 0===r?"text":r;return Object(ve.jsxs)(ve.Fragment,{children:[t.touched[n]&&t.errors[n]?Object(ve.jsxs)("div",{className:dr.a.form__errorRow,children:[Object(ve.jsx)("span",{}),Object(ve.jsx)("span",{className:yt.a.form__error,children:t.errors[n]})]}):null,Object(ve.jsxs)("label",{className:dr.a.form__row,children:[Object(ve.jsxs)("span",{className:dr.a.form__title,children:[n,":"]}),Object(ve.jsx)(ct.a,{className:yt.a.form__input,name:n,type:a})]})]})},fr=function(e){var t=e.title,n=e.header,r=e.formik;return Object(ve.jsxs)(ve.Fragment,{children:[n&&Object(ve.jsx)("div",{className:yt.a.title,children:Object(ve.jsx)("h4",{className:yt.a.title__header,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})}),Object(ve.jsxs)("div",{className:dr.a.form__block,children:[t&&Object(ve.jsx)("div",{className:dr.a.form__subheader,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object(ve.jsx)(br,{name:"github",formik:r}),Object(ve.jsx)(br,{name:"vk",formik:r}),Object(ve.jsx)(br,{name:"facebook",formik:r}),Object(ve.jsx)(br,{name:"instagram",formik:r}),Object(ve.jsx)(br,{name:"twitter",formik:r}),Object(ve.jsx)(br,{name:"website",formik:r}),Object(ve.jsx)(br,{name:"youtube",formik:r}),Object(ve.jsx)(br,{name:"mainLink",formik:r})]})]})},mr=function(e){var t=e.lookingForAJobSettings,n=e.formik;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("div",{className:yt.a.title,children:Object(ve.jsx)("h4",{className:yt.a.title__header,children:"\u0412\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)(_r,{title:!0,formik:n}),Object(ve.jsx)(jr,{title:!0,lookingForAJobSettings:t}),Object(ve.jsx)(fr,{title:!0,formik:n})]})]})},pr=function(e){var t=e.initialValues,n=e.handleOnSubmit,r=e.isUpdatingProfile,a=e.validationSchema,s=Object(o.useState)(t.lookingForAJob),i=Object(Vt.a)(s,2),c=i[0],u=i[1],l={isLookingFor:c,handlerTrue:function(){u(!0)},handlerFalse:function(){u(!1)}};return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)(ct.c,{initialValues:t,onSubmit:n,validationSchema:a,children:function(e){return Object(ve.jsxs)("form",{onSubmit:e.handleSubmit,className:dr.a.form,children:[Object(ve.jsxs)(st.d,{children:[Object(ve.jsx)(st.b,{path:"/",element:Object(ve.jsx)(mr,{lookingForAJobSettings:l,formik:e})}),Object(ve.jsx)(st.b,{path:"/main",element:Object(ve.jsx)(_r,{header:!0,formik:e})}),Object(ve.jsx)(st.b,{path:"/work",element:Object(ve.jsx)(jr,{header:!0,lookingForAJobSettings:l})}),Object(ve.jsx)(st.b,{path:"/contacts",element:Object(ve.jsx)(fr,{header:!0,formik:e})})]}),Object(ve.jsx)("div",{className:dr.a.form__button,children:Object(ve.jsx)(_t,{minWidth:"100px",disabled:r||!e.isValid,type:"submit",w:"fit-content",p:"6px 20px 7px",children:r?Object(ve.jsx)(Ot,{dots:!0}):"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}})})},hr=function(){var e=je.useUpdateProfileMutation(),t=Object(Vt.a)(e,2),n=t[0],r=t[1].isLoading,a=Object(j.useSelector)((function(e){return e.profile.authProfile})),s=a.fullName,i=a.aboutMe,c=a.userId,o=a.lookingForAJob,u=a.lookingForAJobDescription,l=a.contacts,d={userId:c,fullName:s,aboutMe:i,lookingForAJob:o,lookingForAJobDescription:u,github:l.github,vk:l.vk,facebook:l.facebook,instagram:l.instagram,twitter:l.twitter,website:l.website,youtube:l.youtube,mainLink:l.mainLink},_=/^((https?):\/\/)?(www.)?[a-z0-9-]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#-]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/i,b=it.c({fullName:it.d().min(2,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),github:it.b((function(e){return e?it.d().matches(_,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"):it.d()})),vk:it.b((function(e){return e?it.d().matches(_,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"):it.d()})),facebook:it.b((function(e){return e?it.d().matches(_,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"):it.d()})),instagram:it.b((function(e){return e?it.d().matches(_,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"):it.d()})),twitter:it.b((function(e){return e?it.d().matches(_,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"):it.d()})),website:it.b((function(e){return e?it.d().matches(_,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"):it.d()})),youtube:it.b((function(e){return e?it.d().matches(_,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"):it.d()})),mainLink:it.b((function(e){return e?it.d().matches(_,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430"):it.d()}))});return Object(ve.jsx)(pr,{validationSchema:b,initialValues:d,handleOnSubmit:function(e){var t=e.userId,r=e.fullName,a=e.aboutMe,s=e.lookingForAJob,i=e.lookingForAJobDescription,c=e.github,o=e.vk,u=e.facebook,l=e.instagram,d=e.twitter,_=e.website,j=e.youtube,b=e.mainLink;n({userId:t,fullName:r,aboutMe:a,lookingForAJob:s,lookingForAJobDescription:i,contacts:{github:c,vk:o,facebook:u,instagram:l,twitter:d,website:_,youtube:j,mainLink:b}})},isUpdatingProfile:r})},Or=function(){var e=Object(j.useSelector)((function(e){return e.profile})).isInitial;return Object(ve.jsx)(Me,{padding:"0 0 15px 0",children:e&&Object(ve.jsx)(hr,{})})},xr=n(30),gr=n.n(xr),vr=["children","to"],yr=function(e){var t=e.children,n=e.to,r=Object(ke.a)(e,vr),a=Object(st.j)(n),s=Object(st.g)({path:a.pathname,end:!0});return Object(ve.jsx)(_.b,Object(A.a)(Object(A.a)({className:s?"".concat(gr.a.menu__item," ").concat(gr.a.active):"".concat(gr.a.menu__item),to:n},r),{},{children:t}))},kr=function(){return Object(ve.jsx)(Me,{children:Object(ve.jsx)("nav",{className:gr.a.menu,children:Object(ve.jsxs)("ul",{className:gr.a.menu__list,children:[Object(ve.jsx)(yr,{to:"/settings",children:"\u0412\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(ve.jsx)(yr,{to:"main",children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),Object(ve.jsx)(yr,{to:"work",children:"\u0420\u0430\u0431\u043e\u0442\u0430"}),Object(ve.jsx)(yr,{to:"contacts",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})})})},Nr=function(){return Object(ve.jsxs)("div",{className:dr.a.settings,children:[Object(ve.jsx)(Or,{}),Object(ve.jsx)(kr,{})]})},Sr=function(){return Object(ve.jsx)(Nr,{})},wr=n(22),Pr=n.n(wr),Ir=function(e){var t=e.friend,n=e.unfollow;return Object(ve.jsxs)("div",{className:Pr.a.friend__icon,children:[Object(ve.jsxs)("svg",{width:"20",height:"12",children:[Object(ve.jsx)("circle",{cy:"6",cx:"3",r:"2",fill:"currentColor"}),Object(ve.jsx)("circle",{cy:"6",cx:"10",r:"2",fill:"currentColor"}),Object(ve.jsx)("circle",{cy:"6",cx:"17",r:"2",fill:"currentColor"})]}),Object(ve.jsxs)(Me,Object(A.a)(Object(A.a)({},{position:"absolute",top:"100%",right:"-25px",minWidth:"200px",padding:"5px 0",transform:" translateY(10px)",visibility:"hidden",opacity:"0",transition:"opacity 200ms linear, transform 200ms linear, visibility 200ms linear"}),{},{className:Pr.a.menu,children:[Object(ve.jsx)("div",{className:Pr.a.menu__triangle}),Object(ve.jsxs)("ul",{className:Pr.a.menu__list,children:[Object(ve.jsx)(_.b,{className:Pr.a.menu__item,to:"/profile/".concat(t.id),children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(ve.jsx)("button",{className:Pr.a.menu__item,onClick:n,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"})]})]}))]})},Lr=function(e){var t=e.friend,n=t.photos.large?t.photos.large:Le;return Object(ve.jsx)("div",{className:Pr.a.friend__avatar,children:Object(ve.jsx)(_.b,{to:"/profile/".concat(t.id),children:Object(ve.jsx)("img",{src:n,alt:"avatar"})})})},Cr=function(e){var t=e.friend,n=t.status?t.status:"";return Object(ve.jsxs)("div",{className:Pr.a.friend__info,children:[Object(ve.jsx)("div",{className:Pr.a.friend__name,children:Object(ve.jsx)(_.b,{to:"/profile/".concat(t.id),children:t.name})}),n&&Object(ve.jsx)("div",{className:Pr.a.friend__status,children:n}),Object(ve.jsx)("div",{className:Pr.a.friend__message,children:Object(ve.jsx)(_.b,{to:"/dialogs/".concat(t.id),children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})})]})},Ur=function(e){var t=e.friend,n=e.follow,r=e.unfollow,a=e.isLoading,s=t.followed?"":Pr.a.unfollowed;return Object(ve.jsxs)("li",{className:"".concat(Pr.a.friend," ").concat(s),children:[Object(ve.jsx)(Lr,{friend:t}),Object(ve.jsx)(Cr,{friend:t}),Object(ve.jsx)("div",{className:Pr.a.friend__dots,children:a?Object(ve.jsx)(Mt,{}):t.followed?Object(ve.jsx)(Ir,{friend:t,unfollow:r}):Object(ve.jsx)("span",{className:Pr.a.friend__cancel,onClick:n,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})})]})},Ar=function(e){var t=e.friend,n=Object(j.useDispatch)(),r=Object(j.useSelector)((function(e){return e.friend})).subscribingInProgress.includes(t.id);return Object(ve.jsx)(Ur,{friend:t,isLoading:r,follow:function(){n(se(t.id))},unfollow:function(){n(ie(t.id))}})},Fr=n(140),Er=n.n(Fr),Mr=function(e){var t=e.friends.map((function(e){return Object(ve.jsx)(Ar,{friend:e},e.id)}));return Object(ve.jsx)("ul",{className:Er.a.friends,children:t})},Br=function(e){var t=e.ref,n=e.canLoad,r=e.isLoading,a=e.currentPage,s=e.callback,i=e.search,c=Object(o.useRef)();Object(o.useEffect)((function(){if(!r){c.current&&c.current.disconnect();var e={root:document,rootMargin:"0px",threshold:0};c.current=new IntersectionObserver((function(e,t){e[0].isIntersecting&&n&&s()}),e),c.current.observe(t.current)}}),[r,a,i])},Dr=function(){var e=Object(j.useDispatch)(),t=Object(j.useSelector)((function(e){return e.friend})),n=t.isLoading,r=t.friends,a=t.currentPage,s=t.totalPages,i=t.limit,c=t.error,u=t.isInit,l=Object(o.useRef)(),d=Object(o.useRef)(a);return Br({ref:l,canLoad:s>=d.current,isLoading:n,callback:function(){e(ae({friend:!0,count:i,page:d.current})),d.current+=1}}),Object(o.useEffect)((function(){return function(){e(ue())}}),[]),Object(ve.jsxs)(ve.Fragment,{children:[u&&!c&&(r.length?Object(ve.jsx)(Mr,{friends:r}):Object(ve.jsx)(ir,{children:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})),n&&!c&&Object(ve.jsx)("div",{className:yt.a.emptyBlock,children:Object(ve.jsx)(Mt,{})}),c&&Object(ve.jsx)(ir,{children:c}),Object(ve.jsx)("div",{style:{height:"10px"},ref:l})]})},Tr=function(){var e=Object(j.useSelector)((function(e){return e.friend})),t=e.totalFriends,n=e.isInit;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("div",{children:Object(ve.jsxs)("div",{className:yt.a.title,children:[Object(ve.jsxs)("h4",{className:yt.a.title__header,children:["\u0412\u0441\u0435 \u0434\u0440\u0443\u0437\u044c\u044f",n&&Object(ve.jsx)("span",{className:yt.a.title__amount,children:t})]}),Object(ve.jsx)(_.c,{to:"/friends/search",children:Object(ve.jsx)(_t,{fz:"0.9rem",h:"25px",children:"\u041d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0437\u0435\u0439"})})]})}),Object(ve.jsx)(Dr,{})]})},Rr=n(60),Jr=n.n(Rr),Wr=function(e){var t=e.unfollow,n=e.isLoading;return Object(ve.jsx)("div",{className:Jr.a.popup,children:n?Object(ve.jsx)(Ot,{}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)("div",{className:Jr.a.popup__title,children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0434\u0440\u0443\u0437\u044c\u044f"}),Object(ve.jsx)("div",{className:Jr.a.popup__buttonWrapper,children:Object(ve.jsx)("button",{onClick:t,className:Jr.a.popup__button,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})})},zr=n(28),Vr=n.n(zr),qr=function(e){var t=e.user,n=e.follow,r=e.unfollow,a=e.isLoading,s=t.photos.large?t.photos.large:Le;return Object(ve.jsxs)("div",{className:Vr.a.user__item,children:[Object(ve.jsxs)("div",{className:Vr.a.user__avatar,children:[Object(ve.jsx)(_.c,{to:"/profile/".concat(t.id),children:Object(ve.jsx)("img",{className:Vr.a.user__img,src:s,alt:"avatar"})}),(a||t.followed)&&Object(ve.jsx)(Wr,{unfollow:r,isLoading:a})]}),Object(ve.jsxs)("div",{className:Vr.a.user__info,children:[Object(ve.jsx)(_.c,{to:"/profile/".concat(t.id),className:Vr.a.user__name,children:t.name}),Object(ve.jsx)("div",{className:Vr.a.user__button,children:!t.followed&&Object(ve.jsx)("button",{onClick:n,className:Vr.a.user__add,children:Object(ve.jsx)(Ce.n,{className:Vr.a.user__icon})})})]})]})},Hr=function(e){var t=e.user,n=Object(j.useDispatch)(),r=Object(j.useSelector)((function(e){return e.user})).subscribingInProgress.includes(t.id);return Object(ve.jsx)(qr,{follow:function(){n(R(t.id))},unfollow:function(e){e.stopPropagation(),n(J(t.id))},user:t,isLoading:r})},Qr=function(e){var t=e.users.map((function(e){return Object(ve.jsx)(Hr,{user:e},e.id)}));return Object(ve.jsx)("ul",{className:Vr.a.user__list,children:t})},Yr=function(){var e=Object(j.useDispatch)(),t=Object(j.useSelector)((function(e){return e.user})),n=t.users,r=t.isLoading,a=t.error,s=t.isInit,i=t.totalPages,c=t.currentPage,u=t.limit,l=t.search,d=Object(o.useRef)(),_=Object(o.useRef)(c);return Br({ref:d,canLoad:i>=_.current,isLoading:r,currentPage:_.current,search:l,callback:function(){e(T({friend:!1,count:u,page:_.current,term:l})),_.current++}}),Object(o.useEffect)((function(){return function(){e(H()),e(q(""))}}),[]),Object(o.useEffect)((function(){e(H()),_.current=1}),[l]),a?Object(ve.jsx)(ir,{children:a}):Object(ve.jsxs)(ve.Fragment,{children:[s&&(n.length?Object(ve.jsx)(Qr,{users:n}):Object(ve.jsx)(ir,{fontSize:"1rem",children:"\u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"})),r&&Object(ve.jsx)("div",{className:yt.a.emptyBlock,children:Object(ve.jsx)(Mt,{})}),Object(ve.jsx)("div",{className:yt.a.emptyBlock,ref:d})]})},Kr=n(79),Xr=n.n(Kr),Zr=function(){var e=Object(j.useDispatch)(),t=Object(j.useSelector)((function(e){return e.user})).search,n=Object(o.useState)(t),r=Object(Vt.a)(n,2),a=r[0],s=r[1],i=Object(o.useCallback)(function(e,t){var n;return function(){var r=arguments,a=this,s=function(){e.apply(a,r)};clearTimeout(n),n=setTimeout(s,t)}}((function(t){e(H()),e(q(t))}),700),[]);return Object(ve.jsxs)("label",{className:Xr.a.search,children:[Object(ve.jsx)(Ce.j,{className:Xr.a.search__icon}),Object(ve.jsx)("input",{value:a,onChange:function(e){var t=e.target.value;s(t),i(t)},className:Xr.a.search__input,type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0434\u0440\u0443\u0437\u0435\u0439"})]})},Gr=function(){var e=Object(j.useSelector)((function(e){return e.user})),t=e.totalUsers,n=e.isInit;return Object(ve.jsxs)("div",{children:[Object(ve.jsxs)("div",{className:yt.a.title,children:[Object(ve.jsxs)("h4",{className:yt.a.title__header,children:["\u041d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0437\u0435\u0439",n&&Object(ve.jsx)("span",{className:yt.a.title__amount,children:t})]}),Object(ve.jsx)(_.c,{to:"/friends",children:Object(ve.jsx)(_t,{fz:"0.9rem",h:"25px",children:"\u041c\u043e\u0438 \u0434\u0440\u0443\u0437\u044c\u044f"})})]}),Object(ve.jsx)(Zr,{}),Object(ve.jsx)(Yr,{})]})},$r=function(){return Object(ve.jsx)(Me,{padding:"0",children:Object(ve.jsxs)(st.d,{children:[Object(ve.jsx)(st.b,{path:"/search",element:Object(ve.jsx)(Gr,{})}),Object(ve.jsx)(st.b,{path:"/",element:Object(ve.jsx)(Tr,{})})]})})},ea=function(){return Object(ve.jsx)(Me,{children:Object(ve.jsx)("nav",{className:gr.a.menu,children:Object(ve.jsxs)("ul",{className:gr.a.menu__list,children:[Object(ve.jsx)(yr,{to:"/friends",children:"\u041c\u043e\u0438 \u0434\u0440\u0443\u0437\u044c\u044f"}),Object(ve.jsx)(yr,{to:"/friends/search",children:"\u041f\u043e\u0438\u0441\u043a \u0434\u0440\u0443\u0437\u0435\u0439"})]})})})},ta=n(141),na=n.n(ta),ra=function(){return Object(ve.jsxs)("div",{className:na.a.friends,children:[Object(ve.jsx)($r,{}),Object(ve.jsx)(ea,{})]})},aa=function(){return Object(ve.jsx)(ra,{})},sa=n(61),ia=n.n(sa),ca=function(e){var t=e.title,n=e.photo,r=e.userId,a=Object(st.h)();return Object(ve.jsxs)("div",{className:ia.a.section,children:[Object(ve.jsxs)("button",{className:ia.a.section__button,onClick:function(){a(-1)},children:[Object(ve.jsx)(Ce.c,{className:ia.a.section__icon}),"\u041d\u0430\u0437\u0430\u0434"]}),Object(ve.jsx)("div",{className:ia.a.section__chatInfo,children:Object(ve.jsx)(_.b,{to:"/profile/".concat(r),children:Object(ve.jsx)("span",{children:t})})}),Object(ve.jsx)(_.b,{to:"/profile/".concat(r),children:Object(ve.jsx)(ze,{photo:n})})]})},oa=n(24),ua=n.n(oa),la=function(e){for(var t=e.id,n=e.text,r=e.userId,a=e.date,s=e.messages,i=e.authProfile,c=e.profile,o=!1,u=r===c.userId?c.photos.small:i.photos.small,l=r===c.userId?c.fullName:i.fullName,d=0;d<s.length;d++)if(s[d].id===t){var _,j;((null===(_=s[d-1])||void 0===_?void 0:_.userId)!==r||a-(null===(j=s[d-1])||void 0===j?void 0:j.date)>6e4)&&(o=!0);break}var b=o?ua.a.message__block:"";return Object(ve.jsxs)("li",{className:"".concat(ua.a.message__item," ").concat(b),children:[Object(ve.jsx)("div",{className:ua.a.message__avatar,children:o&&Object(ve.jsx)(ze,{photo:u,size:"36px",alt:"avatar"})}),Object(ve.jsxs)("div",{className:ua.a.message__content,children:[o&&Object(ve.jsxs)("div",{className:ua.a.message__contentHeader,children:[Object(ve.jsx)("div",{className:ua.a.message__name,children:l}),Object(ve.jsx)("div",{className:ua.a.message__time,children:new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),Object(ve.jsx)("div",{className:ua.a.message__text,children:n})]})]})},da=function(e){var t=e.messages,n=e.profile,r=e.authProfile,a=t.map((function(e){return Object(ve.jsx)(la,Object(A.a)(Object(A.a)({},e),{},{messages:t,profile:n,authProfile:r}),e.id)}));return 0===a.length?Object(ve.jsxs)("div",{className:ua.a.noMessage,children:[Object(ve.jsxs)("div",{children:["\u041d\u0435\u0442 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0438 \u0441 ",n.fullName,"."]}),Object(ve.jsx)("div",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!"})]}):Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)("ul",{className:ua.a.message__list,children:a})})},_a=n(62),ja=n.n(_a),ba=function(e){var t=e.addMessage,n=Object(o.useState)(""),r=Object(Vt.a)(n,2),a=r[0],s=r[1];return Object(ve.jsxs)("form",{className:ja.a.create,children:[Object(ve.jsx)("input",{className:ja.a.create__input,type:"text",placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",value:a,onChange:function(e){s(e.target.value)}}),Object(ve.jsx)("button",{type:"submit",className:ja.a.create__button,onClick:function(e){e.preventDefault(),a.trim().length>0&&(t(a),s(""))},children:Object(ve.jsx)(Ce.k,{className:ja.a.create__icon})})]})},fa=function(e){var t=e.dialog,n=t.userId,r=Object(j.useSelector)((function(e){return e.profile.authProfile})),a=r.userId,s=tr("dialog".concat(n).concat(a),[]),i=Object(Vt.a)(s,2),c=i[0],o=i[1],u=tr("dialogList".concat(a),[]),l=Object(Vt.a)(u,2),d=l[0],_=l[1];return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(da,{messages:c,profile:t,authProfile:r}),Object(ve.jsx)(ba,{addMessage:function(e){var t=Object(F.a)(c);t.push({id:c.length+1,text:e,userId:r.userId,date:Date.now()}),o(t),function(){if(!d.includes(n)){var e=Object(F.a)(d);e.push(n),_(e)}}()}})]})},ma=function(e){var t=e.dialog,n=t.fullName,r=t.photos,a=t.userId;return Object(ve.jsxs)("div",{className:ua.a.message,children:[Object(ve.jsx)(ca,{title:n,photo:null===r||void 0===r?void 0:r.small,userId:a}),Object(ve.jsx)(Me,{height:"100%",padding:"47px 0 62px",children:Object(ve.jsx)(fa,{dialog:t})})]})},pa=function(){var e=Object(st.i)().userId,t=je.useFetchProfileQuery(e),n=t.data,r=t.isFetching;return t.isError?Object(ve.jsx)("div",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"}):r?Object(ve.jsx)("div",{className:yt.a.emptyBlock,children:Object(ve.jsx)(Mt,{})}):void 0===n?null:Object(ve.jsx)(ma,{dialog:n})},ha=[{path:"/dialogs",component:Wt},{path:"/dialogs/:userId",component:function(){return Object(ve.jsx)(pa,{})}},{path:"/friends/*",component:aa},{path:"/settings/*",component:Sr},{path:"/profile",component:ur},{path:"/profile/:userId",component:ur}],Oa=[{path:"/profile/:userId?",component:ur},{path:"/friends/search",component:aa}],xa=function(){return Object(j.useSelector)((function(e){return e.auth})).isAuth?Object(ve.jsxs)(st.d,{children:[ha.map((function(e){return Object(ve.jsx)(st.b,{element:Object(ve.jsx)(e.component,{}),path:e.path},e.path)})),Object(ve.jsx)(st.b,{path:"/*",element:Object(ve.jsx)(st.a,{to:"/profile"})})]}):Object(ve.jsxs)(st.d,{children:[Oa.map((function(e){return Object(ve.jsx)(st.b,{element:Object(ve.jsx)(e.component,{}),path:e.path},e.path)})),Object(ve.jsx)(st.b,{path:"/*",element:Object(ve.jsx)(st.a,{to:"/"})})]})},ga=n(142),va=n.n(ga),ya=function(){return Object(ve.jsx)("main",{className:va.a.main,children:Object(ve.jsx)(xa,{})})},ka=n(80),Na=n.n(ka),Sa=function(){var e=Object(j.useSelector)((function(e){return e.auth})).isAuth;return Object(ve.jsx)(Ie,{minWidth:"860px",children:Object(ve.jsxs)("div",{className:Na.a.app,children:[Object(ve.jsx)("div",{className:Na.a.app__sidebar,children:e?Object(ve.jsx)(Ft,{}):Object(ve.jsx)(kt,{})}),Object(ve.jsx)("div",{className:Na.a.app__content,children:Object(ve.jsx)(ya,{})})]})})},wa=function(){return Object(j.useSelector)((function(e){return e.auth})).isAuth?Object(ve.jsx)(Sa,{}):Object(ve.jsxs)(st.d,{children:[Object(ve.jsx)(st.b,{path:"/",element:Object(ve.jsx)(Pt,{})}),Object(ve.jsx)(st.b,{path:"/friends",element:Object(ve.jsx)(Sa,{})}),Object(ve.jsx)(st.b,{path:"/*",element:Object(ve.jsx)(st.a,{to:"/"})})]})};n(271);var Pa=function(){var e=Object(j.useDispatch)(),t=Object(j.useSelector)((function(e){return e.auth})),n=t.isInitialApp,r=t.isAuth,a=t.userId;return Object(o.useEffect)((function(){e(X())}),[r]),Object(o.useEffect)((function(){a&&e(v({id:a,initial:!0}))}),[a]),n?Object(ve.jsxs)("div",{className:"app",children:[Object(ve.jsx)(at,{}),Object(ve.jsx)(wa,{})]}):null};d.a.render(Object(ve.jsx)(u.a.StrictMode,{children:Object(ve.jsx)(_.a,{children:Object(ve.jsx)(j.Provider,{store:Oe,children:Object(ve.jsx)(Pa,{})})})}),document.getElementById("root"))},28:function(e,t,n){e.exports={user__list:"User_user__list__1AvPv",user__avatar:"User_user__avatar__3VTOj",user__img:"User_user__img__2rShS",user__info:"User_user__info__28TmX",user__name:"User_user__name__QElKl",user__add:"User_user__add__2Q0-X",user__icon:"User_user__icon__1wsjX",user__button:"User_user__button__3CMrz"}},30:function(e,t,n){e.exports={menu:"CustomLink_menu__2F7PL",menu__list:"CustomLink_menu__list__2dgoe",menu__item:"CustomLink_menu__item__3QFre",active:"CustomLink_active__2bn0C"}},31:function(e,t,n){e.exports={menu:"Menu_menu__J_qfS",menu__top:"Menu_menu__top__3rw1T",menu__name:"Menu_menu__name__Bk9t-",menu__userId:"Menu_menu__userId__244kp",menu__img:"Menu_menu__img__QOoBk",menu__item:"Menu_menu__item__en1qm"}},36:function(e,t,n){e.exports={dialog:"dialogs_dialog__3AapS",dialog__list:"dialogs_dialog__list__1X8Z6",dialog__item:"dialogs_dialog__item__1M-Y5",active:"dialogs_active__1_E5Y",dialog__avatar:"dialogs_dialog__avatar__38wJ3",dialog__data:"dialogs_dialog__data__1ln9q",dialog__name:"dialogs_dialog__name__3uSwT"}},38:function(e,t,n){e.exports={likeWrapper:"LikeButton_likeWrapper__3Ni_2",notLiked:"LikeButton_notLiked__3mcuO",liked:"LikeButton_liked__1SDof",iconWrapper:"LikeButton_iconWrapper__t_ELN",animation:"LikeButton_animation__1LPcs",IconLiked:"LikeButton_IconLiked__l4uki",like:"LikeButton_like__ahTYq",IconNotLiked:"LikeButton_IconNotLiked__2WY3u",likeButton:"LikeButton_likeButton__Xu7Rg"}},4:function(e,t,n){e.exports={title:"commonStyles_title__je-vN",title__header:"commonStyles_title__header__33exV",title__amount:"commonStyles_title__amount__293Hm",emptyBlock:"commonStyles_emptyBlock__iRIK4",emptyBlock__title:"commonStyles_emptyBlock__title__2uiw2",emptyBlock__icon:"commonStyles_emptyBlock__icon__3Awg6",form:"commonStyles_form__h47xx",form__title:"commonStyles_form__title__KH0jn",form__inputContainer:"commonStyles_form__inputContainer__tzUip",form__input:"commonStyles_form__input__3u9Kn",form__error:"commonStyles_form__error__26lAt",form__checkbox:"commonStyles_form__checkbox__DY4q6",form__textarea:"commonStyles_form__textarea__15xpQ",form__label:"commonStyles_form__label__sYp7c",form__labelText:"commonStyles_form__labelText__2VUw-",refetch:"commonStyles_refetch__uNCsE"}},42:function(e,t,n){e.exports={avatar:"Avatar_avatar__1gZ7S",avatar__image:"Avatar_avatar__image__sLn13",updateAvatar:"Avatar_updateAvatar__3Oy_H",updateAvatar__icon:"Avatar_updateAvatar__icon__2vOBa",updateAvatar__label:"Avatar_updateAvatar__label__3xwfI",updateAvatar__input:"Avatar_updateAvatar__input__2_2hP"}},43:function(e,t,n){e.exports={post:"post_post__UsmJR",post__header:"post_post__header__3Y_Tb",post__name:"post_post__name__ukD5y",post__date:"post_post__date__1xfIe",post__text:"post_post__text__2lzkc"}},46:function(e,t,n){e.exports={menu:"Sidebar_menu__36TuN",menu__item:"Sidebar_menu__item__3kRXD",active:"Sidebar_active__1hN8T",menu__icon:"Sidebar_menu__icon__fKsVG"}},54:function(e,t,n){e.exports={header:"Header_header__2zojp",header__container:"Header_header__container__2tawN",logo:"Header_logo__1lgcr"}},55:function(e,t,n){e.exports={menu:"Settings_menu___pmJk",active:"Settings_active__LPZGH",menu__name:"Settings_menu__name__2TnGj",menu__icon:"Settings_menu__icon__3bKgB"}},56:function(e,t,n){e.exports={status:"Status_status__1472n",status__empty:"Status_status__empty__1wmeg",interact:"Status_interact__29rQV"}},57:function(e,t,n){e.exports={createPost__textarea:"CreatePost_createPost__textarea__TJJJu",active:"CreatePost_active__2ervT",createPost__wrapperButton:"CreatePost_createPost__wrapperButton__PyCXZ",createPost__button:"CreatePost_createPost__button__P978O"}},58:function(e,t,n){e.exports={likes:"LikeCount_likes__2o9Se",iconWrapper:"LikeCount_iconWrapper__3XdHv",likesCount__icon:"LikeCount_likesCount__icon__2g0bD"}},59:function(e,t,n){e.exports={noPosts__header:"NoPosts_noPosts__header__2TQ33",noPosts__content:"NoPosts_noPosts__content__1KXKy",noPosts__icon:"NoPosts_noPosts__icon__j4JgS"}},60:function(e,t,n){e.exports={popup:"UserPupup_popup__CQSEv",popup__title:"UserPupup_popup__title__1E6u4",popup__buttonWrapper:"UserPupup_popup__buttonWrapper__1J4v1",popup__button:"UserPupup_popup__button__15sUK"}},61:function(e,t,n){e.exports={section:"MessageTopSection_section__2RNlg",section__button:"MessageTopSection_section__button__1DgPB",section__icon:"MessageTopSection_section__icon__3-IJX",section__chatInfo:"MessageTopSection_section__chatInfo__2aVhR"}},62:function(e,t,n){e.exports={create:"CreateMessage_create__3NC57",create__input:"CreateMessage_create__input__2icRf",create__button:"CreateMessage_create__button__O7VWY",create__icon:"CreateMessage_create__icon__3cLiU"}},76:function(e,t,n){e.exports={profile:"profile_profile__QSDOy"}},77:function(e,t,n){e.exports={item:"FriendsItem_item__3MXZM",item__avatar:"FriendsItem_item__avatar__20Nt_",item__name:"FriendsItem_item__name__3sfc_"}},78:function(e,t,n){e.exports={header:"HeaderBlock_header__1SU7w",header__title:"HeaderBlock_header__title__1cZYV"}},79:function(e,t,n){e.exports={search:"UserSearch_search__3RJBw",search__icon:"UserSearch_search__icon__18y1E",search__input:"UserSearch_search__input__3XDwh"}},80:function(e,t,n){e.exports={app:"AppContainer_app__153Xy",app__sidebar:"AppContainer_app__sidebar__lBDeC",app__content:"AppContainer_app__content__3bCkA"}}},[[272,1,2]]]);
//# sourceMappingURL=main.3267dd77.chunk.js.map