{"version":3,"sources":["components/SettingsPage/Settings.module.scss","components/AuthPage/LoginForm/LoginForm.module.scss","components/AuthPage/AuthPage.module.scss","components/ProfilePage/Side/Avatar/AvatarLoader/AvatarLoader.module.scss","components/ProfilePage/Side/FriendsBlock/FriendsBlock.module.scss","components/ProfilePage/Content/UpdateStatus/UpdateStatus.module.scss","components/ProfilePage/Content/Post/PostItem/PostItemFooter/PostItemFooter.module.scss","components/FriendsPage/MyFriends/FriendsList/FriendsList.module.scss","components/FriendsPage/friends.module.scss","components/Content/Content.module.scss","components/ProfilePage/Content/Info/Info.module.scss","components/FriendsPage/MyFriends/FriendsItem/FriendsItem.module.scss","components/MessagePage/message.module.scss","api/api.js","api/profileAPI.js","redux/actions/profileAction.js","redux/slices/profileSlice.js","redux/slices/dialogSlice.js","api/userAPI.js","redux/actions/commonFuncions.js","redux/actions/userAction.js","utils/pagination.js","redux/slices/userSlice.js","api/authAPI.js","redux/actions/authAction.js","redux/slices/authSlice.js","redux/slices/headerSlice.js","redux/actions/friendAction.js","redux/slices/friendSlice.js","api/services/userService.js","api/services/profileService.js","redux/store.js","components/Header/Logo.jsx","components/UI/Container/Container.jsx","assets/images/no_avatar.png","styles/variables.js","components/UI/Box/Box.jsx","components/Header/Settings/Menu/Menu.js","components/UI/Avatar/Avatar.jsx","components/Header/Settings/Settings.jsx","components/Header/Settings/SettingsContainer.jsx","components/Header/Header.jsx","components/UI/Button/Button.jsx","components/UI/Loader/ItemsLoader/ItemsLoader.jsx","components/AuthPage/LoginForm/LoginForm.jsx","components/AuthPage/LoginForm/LoginFormContainer.jsx","components/AuthPage/AuthPage.jsx","components/Sidebar/CustomLink.jsx","router/sidebarLinks.js","components/Sidebar/Sidebar.jsx","components/UI/Loader/CircleLoader/CircleLoader.jsx","components/DialogsPage/Dialogs/DialogItem.jsx","components/DialogsPage/Dialogs/DialogList.jsx","components/DialogsPage/Dialogs/Dialogs.jsx","pages/DialogsPage.jsx","components/ProfilePage/Side/SubscriptionButton/SubscriptionButton.jsx","components/ProfilePage/Side/SubscriptionButton/SubscriptionButtonContainer.jsx","hooks/useSubscription.jsx","components/ProfilePage/Side/Avatar/UpdateAvatar/UpdateAvatar.jsx","components/ProfilePage/Side/Avatar/UpdateAvatar/UpdateAvatarContainer.jsx","components/ProfilePage/Side/Avatar/AvatarLoader/AvatarLoader.jsx","components/ProfilePage/Side/Avatar/Avatar.jsx","components/ProfilePage/Side/Avatar/AvatarContainer.jsx","components/ProfilePage/Side/TopBlock/TopBlock.jsx","components/ProfilePage/Side/FriendsBlock/FriensItem/FriendsItem.jsx","components/ProfilePage/Side/FriendsBlock/HeaderBlock/HeaderBlock.jsx","components/ProfilePage/Side/FriendsBlock/FriendsBlock.jsx","components/ProfilePage/Side/FriendsBlock/FriendsBlockContainer.jsx","components/ProfilePage/Side/Side.jsx","components/ProfilePage/Content/Info/InfoRow.jsx","components/ProfilePage/Content/Info/InfoHeader.jsx","components/ProfilePage/Content/Info/InfoFull.jsx","components/ProfilePage/Content/Info/InfoShort.jsx","components/ProfilePage/Content/UpdateStatus/UpdateStatus.jsx","components/ProfilePage/Content/UpdateStatus/UpdateStatusContainer.jsx","components/ProfilePage/Content/Status/Status.jsx","components/ProfilePage/Content/Status/StatusContainer.jsx","components/ProfilePage/Content/Info/Info.jsx","components/ProfilePage/Content/CreatePost/CreatePost.jsx","components/ProfilePage/Content/CreatePost/CreatePostContainer.jsx","components/ProfilePage/Content/Post/PostItem/LikeButton/LikeButton.jsx","components/ProfilePage/Content/Post/PostItem/LikeCount/LikeCount.jsx","components/ProfilePage/Content/Post/PostItem/PostItemFooter/PostItemFooter.jsx","utils/checkDate.js","components/ProfilePage/Content/Post/PostItem/PostItem.jsx","components/ProfilePage/Content/Post/PostItem/PostItemContainer.jsx","components/ProfilePage/Content/Post/PostList.jsx","components/ProfilePage/Content/Post/NoPosts/NoPosts.jsx","hooks/useLocalStorage.js","components/ProfilePage/Content/Content.jsx","components/UI/MessageBlock/MessageBlock.jsx","components/ProfilePage/Profile/Profile.jsx","components/ProfilePage/Profile/ProfileContainer.js","pages/ProfilePage.jsx","components/SettingsPage/SettingsForm/MainBlock/MainBlock.jsx","components/SettingsPage/SettingsForm/WorkBlock/WorkBlock.jsx","components/SettingsPage/SettingsForm/ContactField/ContactField.jsx","components/SettingsPage/SettingsForm/ContactsBlock/ContactsBlock.jsx","components/SettingsPage/SettingsForm/AllBlocks.jsx/AllBlocks.jsx","components/SettingsPage/SettingsForm/SettingsForm.jsx","components/SettingsPage/SettingsForm/SettingsFormContainer.jsx","components/SettingsPage/Content/Content.jsx","components/UI/CustomLink/CustomLink.jsx","components/SettingsPage/Side/Side.jsx","components/SettingsPage/Settings.jsx","pages/SettingsPage.jsx","components/FriendsPage/MyFriends/FriendsItem/Menu/Menu.jsx","components/FriendsPage/MyFriends/FriendsItem/Avatar.jsx","components/FriendsPage/MyFriends/FriendsItem/Info.jsx","components/FriendsPage/MyFriends/FriendsItem/FriendsItem.jsx","components/FriendsPage/MyFriends/FriendsItem/FriendsItemContainer.jsx","components/FriendsPage/MyFriends/FriendsList/FriendsList.jsx","hooks/useObserver.js","components/FriendsPage/MyFriends/FriendsList/FriendsListContainer.jsx","components/FriendsPage/MyFriends/MyFriends.jsx","components/FriendsPage/User/UserPopup/UserPupup.jsx","components/FriendsPage/User/UserItem/UserItem.jsx","components/FriendsPage/User/UserItem/UserItemContainer.jsx","components/FriendsPage/User/UserList/UserList.jsx","components/FriendsPage/User/UserList/UserListContainer.jsx","components/FriendsPage/User/UserSearch/UserSearch.jsx","utils/debounce.js","components/FriendsPage/User/Users.jsx","components/FriendsPage/Content/Content.jsx","components/FriendsPage/Side/Side.jsx","components/FriendsPage/Friends.jsx","pages/FriendsPage.jsx","components/MessagePage/MessageTopSection/MessageTopSection.jsx","components/MessagePage/MessageIitem/MessageItem.jsx","components/MessagePage/MessageList/MessageList.jsx","components/MessagePage/CreateMessage/CreateMessage.jsx","components/MessagePage/MessageList/MessageListContainer.jsx","components/MessagePage/Message.jsx","components/MessagePage/MessageContainer.jsx","router/contentRoutes.js","pages/MessagePage.jsx","components/Routers/ContentRouter.jsx","components/Content/Content.jsx","components/AppContainer/AppContainer.jsx","components/Routers/AppRouter.jsx","App.js","index.js","components/FriendsPage/User/User.module.scss","components/UI/CustomLink/CustomLink.module.scss","components/Header/Settings/Menu/Menu.module.scss","components/DialogsPage/Dialogs/dialogs.module.scss","components/ProfilePage/Content/Post/PostItem/LikeButton/LikeButton.module.scss","styles/commonStyles.module.scss","components/ProfilePage/Side/Avatar/Avatar.module.scss","components/ProfilePage/Content/Post/post.module.scss","components/Sidebar/Sidebar.module.scss","components/Header/Header.module.scss","components/Header/Settings/Settings.module.scss","components/ProfilePage/Content/Status/Status.module.scss","components/ProfilePage/Content/CreatePost/CreatePost.module.scss","components/ProfilePage/Content/Post/PostItem/LikeCount/LikeCount.module.scss","components/ProfilePage/Content/Post/NoPosts/NoPosts.module.scss","components/FriendsPage/User/UserPopup/UserPupup.module.scss","components/MessagePage/MessageTopSection/MessageTopSection.module.scss","components/MessagePage/CreateMessage/CreateMessage.module.scss","components/ProfilePage/Profile/profile.module.scss","components/ProfilePage/Side/FriendsBlock/FriensItem/FriendsItem.module.scss","components/ProfilePage/Side/FriendsBlock/HeaderBlock/HeaderBlock.module.scss","components/FriendsPage/User/UserSearch/UserSearch.module.scss","components/AppContainer/AppContainer.module.scss"],"names":["module","exports","instance","axios","create","baseURL","headers","withCredentials","profileAPI","fetchProfile","id","a","get","response","data","updatePhoto","body","put","createAsyncThunk","thunkAPI","rejectWithValue","photoFile","profileSlice","createSlice","name","initialState","isInitial","isLoading","error","profile","authProfile","isOpenUpdateStatus","posts","isOpenCreatePost","isUpdatePhotoError","isUpdatePhotoLoading","reducers","openUpdateStatus","state","action","closeUpdateStatus","openCreatePost","closeCreatePost","extraReducers","pending","type","fulfilled","meta","arg","payload","rejected","resultCode","photos","small","large","actions","dialogSlice","dialogs","addDialog","push","userAPI","fetchUsers","count","page","friend","term","params","followUser","userId","post","unfollowUser","delete","createFetchUsersThunk","args","createFollowUserThunk","createUnfollowUserThunk","computeTotalItems","totalCount","limit","totalPages","Math","ceil","userSlice","isInit","users","search","totalUsers","currentPage","subscribeError","subscribingInProgress","resetUsers","setSearch","setCurrentPage","items","length","filter","map","p","followed","authAPI","login","loginData","authMe","logout","authSlice","isInitialApp","email","isAuth","wrongData","callbackOnEndRequest","headerSlice","isMenuOpen","toggleMenu","closeMenu","fetchAllFriends","followFriend","unfollowFriend","friendSlice","friends","totalFriends","resetFriends","userService","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","set","mode","credentials","tagTypes","endpoints","build","query","url","keepUnusedDataFor","fetchCheckSubscription","providesTags","unsubscribeFromUser","mutation","method","transformResponse","invalidatesTags","subscribeOnUser","profileService","fetchStatus","result","updateStatus","status","updateProfile","rootReducer","header","headerReducer","profileReducer","dialog","dialogReducer","user","userReducer","friendReducer","auth","authReducer","reducer","store","configureStore","middleware","getDefaultMiddleware","concat","window","Logo","className","styles","logo","StyledContainer","styled","div","props","minWidth","Container","children","primary","white","background","backgroundHover","backgroundHighlighted","backgroundPopup","chili","separatorCommon","separatorAlternate","textColorPrimary","textColorSecondary","textColorSubhead","textLink","buttonSecondaryText","buttonPrimaryText","buttonPrimaryBg","buttonSecondaryBg","gray100","gray400","steelGray","blue400","blue600","redLiked","accent","iconTertiary","pageBlockShadow","borderRadius","widthContent","StyledBox","position","left","right","top","bottom","height","width","maxWidth","margin","padding","textAlign","color","boxShadow","cursor","transform","opacity","visibility","transition","zIndex","active","css","Box","Menu","imageURL","closeOtherElements","styleBox","menu","onClick","e","stopPropagation","menu__top","menu__img","to","src","alt","menu__title","menu__name","fullName","menu__userId","menu__list","menu__item","imgStyle","display","Avatar","size","photo","noAvatar","avatarStyle","useMemo","overflow","style","Settings","React","forwardRef","ref","activeClass","menu__icon","displayName","SettingsContainer","dispatch","useDispatch","useSelector","menuRef","useRef","handleOutsideClick","event","path","composedPath","includes","current","useEffect","document","addEventListener","removeEventListener","Header","header__container","StyledSpan","span","StyledButton","button","w","m","secondary","fz","lh","darken","lighten","Button","loading1","keyframes","templateLoaderItem","dots","dotsWidth","LoaderItem1","LoaderItem2","LoaderItem3","Wrapper","ItemsLoader","LoginForm","onSubmit","initialValues","validationSchema","formik","commonStyle","form","handleSubmit","form__title","touched","errors","form__error","form__inputContainer","form__input","placeholder","getFieldProps","password","autoComplete","form__label","form__checkbox","form__labelText","dirty","disabled","isValid","isSubmitting","LoginFormContainer","rememberMe","Yup","required","captcha","values","setSubmitting","resetForm","AuthPage","CustomLink","end","resolved","useResolvedPath","match","useMatch","pathname","undefined","routes","icon","FaRegUserCircle","title","FaRegComment","FaUserFriends","FaCog","Sidebar","link","rotate","CircleLoader","DialogsItem","item","isActive","dialog__item","Boolean","join","dialog__data","dialog__name","DialogList","d","dialog__list","Dialogs","useFetchUsersQuery","isFetching","isError","emptyBlock","DialogsPage","SubscriptionButton","isSubscribed","subscribe","isSubscribing","unsubscribe","isUnsubscribing","SubscriptionButtonContainer","isFetchSubscription","useFetchCheckSubscriptionQuery","isFetchingCheckSubscription","isErrorCheckSubscription","useSubscribeOnUserMutation","isLoadingSubscribe","isErrorSubscribe","useUnsubscribeFromUserMutation","isLoadingUnsubscribe","isErrorUnsubscribe","useSubscription","UpdateAvatar","handleOnChangeFile","updateAvatar","updateAvatar__label","htmlFor","updateAvatar__icon","updateAvatar__input","onChange","accept","UpdateAvatarContainer","formData","FormData","append","target","files","AvatarLoader","loader","isAuthUserProfile","avatar","avatar__image","AvatarContainer","TopBlock","FriendsItem","item__avatar","item__name","slice","HeaderBlock","friendsCount","header__title","header__amount","FriendsBlock","friendsList","f","FriendsBlockContainer","refetch","emptyBlock__title","Side","InfoRow","value","href","test","rel","info__row","info__label","info__value","info__notSpecified","InfoHeader","header__line","header__line_link","Info","isShowInfo","lookingForAJobDescription","lookingForAJob","contacts","contactsList","Object","keys","key","full_info","full_info__item","full_info__block","handleToggleMoreInfo","aboutMe","textToggleMoreInfoButton","short_info","info__more_btn","UpdateStatus","isOpen","isSuccess","useState","setValue","component","form__textarea","maxLength","UpdateStatusContainer","useUpdateStatusMutation","Status","interactClass","interact","status__empty","StatusContainer","useFetchStatusQuery","statusRef","openChangeStatus","handleCloseUpdateStatus","isShowMoreInfo","setShowMoreInfo","info","info__top","info__name","InfoShort","prev","InfoFull","CreatePost","addPost","postText","setPostText","isActiveCreatePost","isDisabledButton","createPost__textarea","onFocus","createPost__wrapperButton","createPost__button","CreatePostContainer","setPosts","createPostRef","text","uuidv1","date","Date","now","usersIdLiked","newPosts","LikeButton","isLiked","toggleLike","isAnimate","setIsAnimate","classLiked","liked","notLiked","classAnimation","animation","likeWrapper","iconWrapper","IconLiked","IconNotLiked","likeButton","LikeCount","likesCount","likes","likesCount__icon","PostItemFooter","footer","postId","checkDate","checkingDate","verificationDate","setDate","getDate","setHours","PostItem","postDate","toLocaleString","day","month","year","post__header","post__name","post__date","post__text","PostItemContainer","forEach","isInclude","likeId","PostList","postItems","reverse","index","post_list","NoPosts","noPosts","noPosts__header","noPosts__content","noPosts__icon","useLocalStorage","initialValue","localStorage","getItem","JSON","parse","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","Content","authId","likeCount","profile__content","Title","h4","fontSize","MessageBlock","Profile","commonStyles","ProfileContainer","profileData","authUserId","currentUserId","useParams","ProfilePage","MainBlock","title__header","form__block","form__subheader","form__errorRow","form__row","alignStart","WorkBlock","lookingForAJobSettings","handlerTrue","handlerFalse","isLookingFor","form__radioGroup","role","form__radioLabel","checked","form__radioValue","ContactField","ContactsBlock","AllBlocks","SettingsForm","handleOnSubmit","isUpdatingProfile","setLookingForAJob","element","form__button","SettingsFormContainer","useUpdateProfileMutation","github","vk","facebook","instagram","twitter","website","youtube","mainLink","regExpURL","min","matches","settings","SettingsPage","unfollow","friend__icon","cy","cx","r","fill","menu__triangle","friend__avatar","friend__info","friend__name","friend__status","friend__message","follow","classUnfollowed","unfollowed","friend__dots","friend__cancel","FriendsItemContainer","FriendsList","useObserver","canLoad","callback","observer","disconnect","options","root","rootMargin","threshold","IntersectionObserver","entries","isIntersecting","observe","FriendsListContainer","lastElement","pageRef","MyFriends","title__amount","h","UserPupup","popup","popup__title","popup__buttonWrapper","popup__button","UserItem","user__item","user__avatar","user__img","user__info","user__name","user__button","user__add","user__icon","UserItemContainer","UserList","usersItems","u","user__list","UserListContainer","UserSearch","searchValue","setSearchValue","searchDebounce","useCallback","fn","ms","timeout","fnCall","apply","arguments","clearTimeout","setTimeout","debounce","search__icon","search__input","Users","Friends","FriendsPage","MessageTopSection","navigate","useNavigate","section","section__button","section__icon","section__chatInfo","MessageItem","messages","isShowAdditionalInfo","i","classItem","message__block","message__item","message__avatar","message__content","message__contentHeader","message__name","message__time","toLocaleTimeString","hour","minute","message__text","MessageList","messageItems","noMessage","message__list","CreateMessage","addMessage","message","setMessage","create__input","create__button","preventDefault","trim","create__icon","MessageListContainer","setMessages","dialogList","setDialogList","newMessages","newDialogList","updateDialogList","Message","MessageContainer","useFetchProfileQuery","isFetchingDialog","publicRoutes","privateRoutes","ContentRouter","route","main","AppContainer","app","app__sidebar","app__content","AppRouter","App","initial","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9aec5d75.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3IrLA\",\"form__header\":\"Settings_form__header__2OZ7b\",\"form__subheader\":\"Settings_form__subheader__7zEk9\",\"form__block\":\"Settings_form__block__19FzP\",\"form__errorRow\":\"Settings_form__errorRow__1yljm\",\"form__row\":\"Settings_form__row__1o-r5\",\"alignStart\":\"Settings_alignStart__3h944\",\"form__title\":\"Settings_form__title__EuG3a\",\"form__button\":\"Settings_form__button__18rIp\",\"form__radioGroup\":\"Settings_form__radioGroup__3nXaw\",\"form__radioLabel\":\"Settings_form__radioLabel__10byk\",\"form__radioValue\":\"Settings_form__radioValue__1kGoN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"LoginForm_form__3Nari\",\"form__title\":\"LoginForm_form__title__fg5LH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthPage_auth__287WN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"AvatarLoader_loader__2mHtI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsList\":\"FriendsBlock_friendsList__1PIuh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdateStatus_form__23_2e\",\"form__button\":\"UpdateStatus_form__button__3ZQBB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"PostItemFooter_footer__zO6Ka\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"FriendsList_friends__oe1f3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"friends_friends__Gb8lj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Content_main__1kiZ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info__top\":\"Info_info__top__3vINe\",\"info__name\":\"Info_info__name__1h8eR\",\"info__row\":\"Info_info__row__1boma\",\"info__label\":\"Info_info__label__2vmrx\",\"info__value\":\"Info_info__value__1AbBT\",\"info__notSpecified\":\"Info_info__notSpecified__iog4O\",\"info__more_btn\":\"Info_info__more_btn__22xgG\",\"short_info\":\"Info_short_info__2BuRa\",\"full_info__block\":\"Info_full_info__block__1YfYf\",\"header__line_link\":\"Info_header__line_link__98uCk\",\"full_info\":\"Info_full_info__1UuOn\",\"header\":\"Info_header__3BAYL\",\"header__title\":\"Info_header__title__bmf1m\",\"header__line\":\"Info_header__line__hJ34I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"FriendsItem_friend__zjwwb\",\"unfollowed\":\"FriendsItem_unfollowed__3fWSR\",\"friend__avatar\":\"FriendsItem_friend__avatar__2EBHQ\",\"friend__info\":\"FriendsItem_friend__info__3-cLK\",\"friend__name\":\"FriendsItem_friend__name__1uQ-z\",\"friend__status\":\"FriendsItem_friend__status__3gvrF\",\"friend__message\":\"FriendsItem_friend__message__Rj8YM\",\"friend__dots\":\"FriendsItem_friend__dots__PChTR\",\"friend__icon\":\"FriendsItem_friend__icon__1EMqQ\",\"menu\":\"FriendsItem_menu__xPS7K\",\"friend__cancel\":\"FriendsItem_friend__cancel__Tr8QU\",\"menu__triangle\":\"FriendsItem_menu__triangle__1rJ5b\",\"menu__item\":\"FriendsItem_menu__item__2Ize0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"message_message__3Y-Bd\",\"message__list\":\"message_message__list__17J4C\",\"message__item\":\"message_message__item__BjO2t\",\"message__block\":\"message_message__block__2vHtE\",\"message__avatar\":\"message_message__avatar__2MsCU\",\"message__content\":\"message_message__content__2mvJ5\",\"message__contentHeader\":\"message_message__contentHeader__2VJPc\",\"message__name\":\"message_message__name__2he69\",\"message__time\":\"message_message__time__1-jsL\",\"message__text\":\"message_message__text__I5Yyx\",\"noMessage\":\"message_noMessage__1ASEU\"};","import axios from 'axios'\n\nexport const instance = axios.create({\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\n\theaders: {\n\t\t'API-KEY': '5f2d5af9-d6f0-4b7d-8e20-5a0ae84fdc07',\n\t},\n\twithCredentials: true,\n})\n","import { instance } from './api'\n\nexport const profileAPI = {\n\tfetchProfile: async (id) => {\n\t\tconst response = await instance.get(`/profile/${id}`)\n\t\treturn response.data\n\t},\n\tupdatePhoto: async (body) => {\n\t\tconst response = await instance.put('/profile/photo', body, {\n\t\t\theaders: { 'Content-Type': 'multipart/form-data' },\n\t\t})\n\t\treturn response.data\n\t},\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit'\nimport { profileAPI } from '../../api/profileAPI'\n\nexport const fetchProfile = createAsyncThunk(\n\t'profile/FetchProfile',\n\tasync ({ id }, thunkAPI) => {\n\t\ttry {\n\t\t\treturn await profileAPI.fetchProfile(id)\n\t\t} catch (e) {\n\t\t\treturn thunkAPI.rejectWithValue('Произошла ошибка при загрузке профиля')\n\t\t}\n\t},\n)\n\nexport const updatePhoto = createAsyncThunk(\n\t'profile/UpdatePhoto',\n\tasync ({ photoFile }, thunkAPI) => {\n\t\ttry {\n\t\t\treturn await profileAPI.updatePhoto(photoFile)\n\t\t} catch (e) {\n\t\t\treturn thunkAPI.rejectWithValue('Произошла ошибка при обновлении фото')\n\t\t}\n\t},\n)\n","import { createSlice } from '@reduxjs/toolkit'\nimport { fetchProfile, updatePhoto } from '../actions/profileAction'\n\nconst initialState = {\n\tisInitial: false,\n\tisLoading: false,\n\terror: '',\n\tprofile: null,\n\tauthProfile: null,\n\tisOpenUpdateStatus: false,\n\tposts: [],\n\n\tisOpenCreatePost: false,\n\n\tisUpdatePhotoError: '',\n\tisUpdatePhotoLoading: false,\n}\n\nexport const profileSlice = createSlice({\n\tname: 'profile',\n\tinitialState,\n\treducers: {\n\t\topenUpdateStatus: (state, action) => {\n\t\t\tstate.isOpenUpdateStatus = true\n\t\t},\n\t\tcloseUpdateStatus: (state) => {\n\t\t\tstate.isOpenUpdateStatus = false\n\t\t},\n\n\t\topenCreatePost: (state, action) => {\n\t\t\tstate.isOpenCreatePost = true\n\t\t},\n\t\tcloseCreatePost: (state, action) => {\n\t\t\tstate.isOpenCreatePost = false\n\t\t},\n\t},\n\textraReducers: {\n\t\t//FETCH PROFILE ##############################\n\t\t[fetchProfile.pending.type]: (state) => {\n\t\t\tstate.error = ''\n\t\t\tstate.isLoading = true\n\t\t},\n\t\t[fetchProfile.fulfilled]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tstate.error = ''\n\t\t\tstate.isInitial = true\n\t\t\tif (action.meta.arg['initial']) {\n\t\t\t\tstate.authProfile = action.payload\n\t\t\t} else if (action.meta.arg['isAuthUserProfile']) {\n\t\t\t\tstate.authProfile = action.payload\n\t\t\t\tstate.profile = action.payload\n\t\t\t} else {\n\t\t\t\tstate.profile = action.payload\n\t\t\t}\n\t\t},\n\t\t[fetchProfile.rejected]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tstate.error = action.payload\n\t\t},\n\n\t\t//UPDATE PHOTO ##############################\n\t\t[updatePhoto.pending.type]: (state) => {\n\t\t\tstate.isUpdatePhotoError = ''\n\t\t\tstate.isUpdatePhotoLoading = true\n\t\t},\n\t\t[updatePhoto.fulfilled.type]: (state, action) => {\n\t\t\tstate.isUpdatePhotoError = ''\n\t\t\tstate.isUpdatePhotoLoading = false\n\n\t\t\tif (action.payload.resultCode === 0) {\n\t\t\t\tstate.authProfile.photos.small = action.payload.data.photos.small\n\t\t\t\tstate.authProfile.photos.large = action.payload.data.photos.large\n\t\t\t\tstate.profile.photos.small = action.payload.data.photos.small\n\t\t\t\tstate.profile.photos.large = action.payload.data.photos.large\n\t\t\t}\n\t\t},\n\t\t[updatePhoto.rejected.type]: (state, action) => {\n\t\t\tstate.isUpdatePhotoError = action.payload\n\t\t\tstate.isUpdatePhotoLoading = false\n\t\t},\n\t},\n})\n\n//Actions\nexport const { openUpdateStatus, closeUpdateStatus, openCreatePost, closeCreatePost } =\n\tprofileSlice.actions\n\nexport default profileSlice.reducer\n","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nexport  const dialogSlice = createSlice({\r\n    name: 'dialog',\r\n    initialState: {\r\n        dialogs: [\r\n            {id: 1, name: 'Борис'},\r\n            {id: 2, name: 'Лариса'},\r\n            {id: 3, name: 'Андрей'},\r\n            {id: 4, name: 'Натали'},\r\n            {id: 5, name: 'Гия'},\r\n            {id: 6, name: 'Николь'},\r\n        ],\r\n\r\n    },\r\n    reducers: {\r\n        addDialog: (state, action) => {\r\n            state.dialogs.push(action.payload)\r\n        }\r\n    }\r\n})\r\n\r\n//Actions\r\nexport  const {addDialog} = dialogSlice.actions\r\n\r\nexport default  dialogSlice.reducer","import { instance } from './api'\n\nexport const userAPI = {\n\tfetchUsers: async ({ count, page, friend = false, term = '' }) => {\n\t\tconst response = await instance.get('/users', {\n\t\t\tparams: {\n\t\t\t\tfriend,\n\t\t\t\tcount,\n\t\t\t\tpage,\n\t\t\t\tterm,\n\t\t\t},\n\t\t})\n\t\treturn response.data\n\t},\n\tfollowUser: async (userId) => {\n\t\tconst response = await instance.post(`/follow/${userId}`)\n\t\treturn response.data\n\t},\n\tunfollowUser: async (userId) => {\n\t\tconst response = await instance.delete(`/follow/${userId}`)\n\t\treturn response.data\n\t},\n}\n","import {createAsyncThunk} from '@reduxjs/toolkit'\r\nimport {userAPI} from '../../api/userAPI'\r\n\r\nexport const createFetchUsersThunk = (type) => {\r\n    return createAsyncThunk(\r\n        type,\r\n        async (args, thunkAPI) => {\r\n            try {\r\n                return await userAPI.fetchUsers(args)\r\n            } catch (e) {\r\n                return thunkAPI.rejectWithValue('Произошла ошибка во время загрузки пользователей')\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\nexport const createFollowUserThunk = (type) => {\r\n    return createAsyncThunk(\r\n        type,\r\n        async (userId, thunkAPI) => {\r\n            try {\r\n                return await userAPI.followUser(userId)\r\n            } catch (e) {\r\n                return thunkAPI.rejectWithValue('Произошла ошибка при добавлении в друзья')\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\nexport const createUnfollowUserThunk = (type) => {\r\n    return createAsyncThunk(\r\n        type,\r\n        async (userId, thunkAPI) => {\r\n            try {\r\n                return await userAPI.unfollowUser(userId)\r\n            } catch (e) {\r\n                return thunkAPI.rejectWithValue('Произошла ошибка при удалении из друзей')\r\n            }\r\n        }\r\n    )\r\n}","import {createFetchUsersThunk, createFollowUserThunk, createUnfollowUserThunk} from './commonFuncions'\r\n\r\nexport const fetchUsers = createFetchUsersThunk('user/FetchAll')\r\nexport const followUser = createFollowUserThunk('user/FollowUser')\r\nexport const unfollowUser = createUnfollowUserThunk('user/UnfollowUser')","export const computeTotalItems = (totalCount, limit) => {\n\tconst totalPages = Math.ceil(totalCount / limit)\n\treturn totalPages < 1 ? 1 : totalPages\n}\n","import { createSlice } from '@reduxjs/toolkit'\nimport { fetchUsers, followUser, unfollowUser } from '../actions/userAction'\nimport { computeTotalItems } from '../../utils/pagination'\n\nconst initialState = {\n\tisInit: false,\n\tusers: [],\n\tisLoading: false,\n\terror: '',\n\tsearch: '',\n\n\ttotalUsers: 0,\n\tlimit: 15,\n\tcurrentPage: 1,\n\ttotalPages: 10,\n\n\tsubscribeError: '',\n\tsubscribingInProgress: [],\n}\n\nexport const userSlice = createSlice({\n\tname: 'user',\n\tinitialState,\n\treducers: {\n\t\tresetUsers: (state) => {\n\t\t\tstate.users = []\n\t\t\tstate.currentPage = 1\n\t\t\tstate.isInit = false\n\t\t},\n\t\tsetSearch: (state, action) => {\n\t\t\tstate.search = action.payload\n\t\t},\n\t\tsetCurrentPage: (state, action) => {\n\t\t\tstate.currentPage = action.payload\n\t\t},\n\t},\n\textraReducers: {\n\t\t//FETCH USERS\n\t\t[fetchUsers.pending.type]: (state) => {\n\t\t\tstate.isLoading = true\n\t\t},\n\t\t[fetchUsers.fulfilled.type]: (state, action) => {\n\t\t\tstate.isInit = true\n\t\t\tstate.isLoading = false\n\t\t\tstate.totalPages = computeTotalItems(action.payload.totalCount, state.limit)\n\t\t\tstate.users.push(...action.payload.items)\n\t\t\tif (action.payload.items.length === 0) state.users = []\n\t\t\tstate.totalUsers = action.payload.totalCount\n\t\t\tstate.error = ''\n\t\t},\n\t\t[fetchUsers.rejected.type]: (state, action) => {\n\t\t\tstate.isInit = true\n\t\t\tstate.error = action.payload\n\t\t\tstate.isLoading = false\n\t\t},\n\n\t\t//FOLLOW\n\t\t[followUser.pending.type]: (state, action) => {\n\t\t\tstate.subscribeError = ''\n\t\t\tstate.subscribingInProgress.push(action.meta.arg)\n\t\t},\n\t\t[followUser.fulfilled.type]: (state, action) => {\n\t\t\tstate.subscribeError = ''\n\t\t\tconst userId = action.meta.arg\n\t\t\tstate.subscribingInProgress = state.subscribingInProgress.filter((id) => id !== userId)\n\t\t\tif (!action.payload.resultCode) {\n\t\t\t\tstate.users = state.users.map((p) => (p.id === userId ? { ...p, followed: true } : p))\n\t\t\t}\n\t\t},\n\t\t[followUser.rejected.type]: (state, action) => {\n\t\t\tstate.error = action.payload\n\t\t},\n\n\t\t//UNFOLLOW\n\t\t[unfollowUser.pending.type]: (state, action) => {\n\t\t\tstate.subscribeError = ''\n\t\t\tstate.subscribingInProgress.push(action.meta.arg)\n\t\t},\n\t\t[unfollowUser.fulfilled.type]: (state, action) => {\n\t\t\tstate.subscribeError = ''\n\t\t\tconst userId = action.meta.arg\n\t\t\tstate.subscribingInProgress = state.subscribingInProgress.filter((id) => id !== userId)\n\t\t\tif (!action.payload.resultCode) {\n\t\t\t\tstate.users = state.users.map((p) => (p.id === userId ? { ...p, followed: false } : p))\n\t\t\t}\n\t\t},\n\t\t[unfollowUser.rejected.type]: (state, action) => {\n\t\t\tstate.subscribeError = action.payload\n\t\t},\n\t},\n})\n\n//Actions\nexport const { setSearch, resetUsers } = userSlice.actions\n\nexport default userSlice.reducer\n","import { instance } from './api'\n\nexport const authAPI = {\n\tlogin: async (args) => {\n\t\tconst response = await instance.post('/auth/login', { ...args.loginData })\n\t\treturn response.data\n\t},\n\tauthMe: async () => {\n\t\tconst response = await instance.get('/auth/me')\n\t\treturn response.data\n\t},\n\tlogout: async () => {\n\t\tconst response = await instance.delete('/auth/login')\n\t\treturn response.data\n\t},\n}\n","import {createAsyncThunk} from '@reduxjs/toolkit'\r\nimport {authAPI} from '../../api/authAPI'\r\n\r\nexport const login = createAsyncThunk(\r\n    'auth/login',\r\n    async (args, thunkAPI) => {\r\n        try {\r\n            return  await authAPI.login(args)\r\n        }catch (e) {\r\n            return thunkAPI.rejectWithValue('Неправильный логин или пароль')\r\n        }\r\n    }\r\n)\r\n\r\nexport const authMe = createAsyncThunk(\r\n    'auth/authMe',\r\n    async (args, thunkAPI) => {\r\n        try {\r\n            const response =  await authAPI.authMe()\r\n            return response\r\n        } catch (e) {\r\n            return thunkAPI.rejectWithValue('Произошла ошибка при авторизации')\r\n        }\r\n    }\r\n)\r\n\r\nexport const logout = createAsyncThunk(\r\n    'auth/logout',\r\n    async (args, thunkAPI) => {\r\n        try {\r\n            return await authAPI.logout()\r\n\r\n        }catch (e) {\r\n            return thunkAPI.rejectWithValue('Произошла ошибка при выходе из аккаунта')\r\n        }\r\n    }\r\n)","import { createSlice } from '@reduxjs/toolkit'\nimport { authMe, login, logout } from '../actions/authAction'\n\nconst initialState = {\n\tisInitialApp: false,\n\tuserId: null,\n\temail: null,\n\tlogin: null,\n\tisLoading: false,\n\tisAuth: false,\n\twrongData: false,\n\terror: '',\n}\n\nexport const authSlice = createSlice({\n\tname: 'auth',\n\tinitialState,\n\treducers: {},\n\textraReducers: {\n\t\t//login ############################\n\t\t[login.pending.type]: (state) => {\n\t\t\tstate.isLoading = true\n\t\t\tstate.error = ''\n\t\t},\n\t\t[login.fulfilled.type]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tconst { callbackOnEndRequest } = action.meta.arg\n\t\t\tcallbackOnEndRequest()\n\t\t\tif (!action.payload.resultCode) {\n\t\t\t\tstate.isAuth = true\n\t\t\t\tstate.error = ''\n\t\t\t\tstate.wrongData = false\n\t\t\t} else {\n\t\t\t\tstate.wrongData = 'Неправильный email или пароль'\n\t\t\t}\n\t\t},\n\t\t[login.rejected.type]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tstate.wrongData = ''\n\t\t\tstate.error = action.payload\n\t\t},\n\n\t\t//authMe ############################\n\t\t[authMe.pending.type]: (state) => {\n\t\t\tstate.isLoading = true\n\t\t\tstate.error = ''\n\t\t},\n\t\t[authMe.fulfilled.type]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tstate.isInitialApp = true\n\t\t\tif (!action.payload.resultCode) {\n\t\t\t\tstate.isAuth = true\n\t\t\t\tstate.userId = action.payload.data.id\n\t\t\t\tstate.email = action.payload.data.email\n\t\t\t\tstate.login = action.payload.data.login\n\t\t\t}\n\t\t},\n\t\t[authMe.rejected.type]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tstate.error = action.payload\n\t\t},\n\n\t\t//logout ############################\n\t\t[logout.pending.type]: (state) => {\n\t\t\tstate.isLoading = true\n\t\t\tstate.error = ''\n\t\t},\n\t\t[logout.fulfilled.type]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tstate.error = ''\n\n\t\t\tif (action.payload.resultCode === 0) {\n\t\t\t\tstate.isAuth = false\n\t\t\t\tstate.email = null\n\t\t\t\tstate.userId = null\n\t\t\t}\n\t\t},\n\t\t[logout.pending.type]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tstate.error = action.payload\n\t\t},\n\t},\n})\n\nexport default authSlice.reducer\n","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n    isMenuOpen: false,\r\n}\r\n\r\nexport const headerSlice = createSlice({\r\n    name: 'header',\r\n    initialState,\r\n    reducers: {\r\n        toggleMenu: (state) => {\r\n            state.isMenuOpen = !state.isMenuOpen\r\n        },\r\n        closeMenu: (state) => {\r\n            state.isMenuOpen = false\r\n        }\r\n    }\r\n})\r\n\r\nexport const {closeMenu, toggleMenu} = headerSlice.actions\r\nexport default headerSlice.reducer","import {createFetchUsersThunk, createFollowUserThunk, createUnfollowUserThunk} from './commonFuncions'\r\n\r\nexport const fetchAllFriends = createFetchUsersThunk('friend/fetchFriends')\r\nexport const followFriend = createFollowUserThunk('friend/FollowUser')\r\nexport const unfollowFriend = createUnfollowUserThunk('friend/UnfollowUser')","import { createSlice } from '@reduxjs/toolkit'\nimport {\n\tfetchAllFriends,\n\tfollowFriend,\n\tunfollowFriend,\n} from '../actions/friendAction'\nimport { computeTotalItems } from '../../utils/pagination'\n\nconst initialState = {\n\tisInit: false,\n\tfriends: [],\n\tisLoading: false,\n\terror: '',\n\n\ttotalFriends: 0,\n\tlimit: 15,\n\tcurrentPage: 1,\n\ttotalPages: 10,\n\n\tsubscribeError: '',\n\tsubscribingInProgress: [],\n}\n\nexport const friendSlice = createSlice({\n\tname: 'friend',\n\tinitialState,\n\treducers: {\n\t\tsetCurrentPage: (state, action) => {\n\t\t\tstate.currentPage = action.payload\n\t\t},\n\t\tresetFriends: (state) => {\n\t\t\tstate.friends = []\n\t\t\tstate.currentPage = 1\n\t\t\tstate.isInit = false\n\t\t},\n\t},\n\textraReducers: {\n\t\t//FETCH\n\t\t[fetchAllFriends.pending.type]: (state) => {\n\t\t\tstate.isLoading = true\n\t\t\tstate.error = ''\n\t\t},\n\t\t[fetchAllFriends.fulfilled.type]: (state, action) => {\n\t\t\tstate.isInit = true\n\t\t\tstate.isLoading = false\n\t\t\tstate.friends.push(...action.payload.items)\n\n\t\t\tstate.totalFriends = action.payload.totalCount\n\t\t\tstate.totalPages = computeTotalItems(\n\t\t\t\taction.payload.totalCount,\n\t\t\t\tstate.limit,\n\t\t\t)\n\t\t\tstate.error = ''\n\t\t},\n\t\t[fetchAllFriends.rejected.type]: (state, action) => {\n\t\t\tstate.isLoading = false\n\t\t\tstate.error = action.payload\n\t\t},\n\n\t\t//FOLLOW\n\t\t[followFriend.pending.type]: (state, action) => {\n\t\t\tstate.subscribeError = ''\n\t\t\tstate.subscribingInProgress.push(action.meta.arg)\n\t\t},\n\t\t[followFriend.fulfilled.type]: (state, action) => {\n\t\t\tstate.subscribeError = ''\n\t\t\tconst userId = action.meta.arg\n\t\t\tstate.subscribingInProgress = state.subscribingInProgress.filter(\n\t\t\t\t(id) => id !== userId,\n\t\t\t)\n\t\t\tif (!action.payload.resultCode) {\n\t\t\t\tstate.friends = state.friends.map((p) =>\n\t\t\t\t\tp.id === userId ? { ...p, followed: true } : p,\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t\t[followFriend.rejected.type]: (state, action) => {\n\t\t\tstate.error = action.payload\n\t\t},\n\n\t\t//UNFOLLOW\n\t\t[unfollowFriend.pending.type]: (state, action) => {\n\t\t\tstate.subscribeError = ''\n\t\t\tstate.subscribingInProgress.push(action.meta.arg)\n\t\t},\n\t\t[unfollowFriend.fulfilled.type]: (state, action) => {\n\t\t\tconst userId = action.meta.arg\n\t\t\tstate.subscribingInProgress = state.subscribingInProgress.filter(\n\t\t\t\t(id) => id !== userId,\n\t\t\t)\n\t\t\tstate.subscribeError = ''\n\t\t\tif (!action.payload.resultCode) {\n\t\t\t\tstate.friends = state.friends.map((p) =>\n\t\t\t\t\tp.id === userId ? { ...p, followed: false } : p,\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t\t[unfollowFriend.rejected.type]: (state, action) => {\n\t\t\tstate.subscribeError = action.payload\n\t\t},\n\t},\n})\n\nexport const { setCurrentPage, resetFriends } = friendSlice.actions\nexport default friendSlice.reducer\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react'\r\n\r\nexport const userService = createApi({\r\n\treducerPath: 'userService',\r\n\tbaseQuery: fetchBaseQuery({\r\n\t\tbaseUrl: 'https://social-network.samuraijs.com/api/1.0',\r\n\t\tprepareHeaders: (headers) => {\r\n\t\t\theaders.set('API-KEY', '5f2d5af9-d6f0-4b7d-8e20-5a0ae84fdc07')\r\n\t\t\treturn headers\r\n\t\t},\r\n\t\tmode: 'cors',\r\n\t\tcredentials: 'include',\r\n\t}),\r\n\ttagTypes: ['User', 'Subscription'],\r\n\tendpoints: (build) => ({\r\n\t\tfetchUsers: build.query({\r\n\t\t\tquery: ({ limit, friend } = { limit: 15, friend: false }) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\turl: '/users',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tcount: limit,\r\n\t\t\t\t\t\tfriend,\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tkeepUnusedDataFor: 5,\r\n\t\t}),\r\n\t\tfetchCheckSubscription: build.query({\r\n\t\t\tquery: (userId) => ({\r\n\t\t\t\turl: `/follow/${userId}`,\r\n\t\t\t}),\r\n\t\t\tprovidesTags: ['Subscription'],\r\n\t\t}),\r\n\t\tunsubscribeFromUser: build.mutation({\r\n\t\t\tquery: (userId) => ({\r\n\t\t\t\turl: `/follow/${userId}`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t}),\r\n\t\t\ttransformResponse: (response) => {\r\n\t\t\t\treturn response.data\r\n\t\t\t},\r\n\t\t\tinvalidatesTags: ['Subscription'],\r\n\t\t}),\r\n\t\tsubscribeOnUser: build.mutation({\r\n\t\t\tquery: (userId) => ({\r\n\t\t\t\turl: `/follow/${userId}`,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t}),\r\n\t\t\tinvalidatesTags: ['Subscription'],\r\n\t\t}),\r\n\t}),\r\n})\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react'\r\n\r\nexport const profileService = createApi({\r\n\treducerPath: 'profileService',\r\n\tbaseQuery: fetchBaseQuery({\r\n\t\tbaseUrl: 'https://social-network.samuraijs.com/api/1.0/profile',\r\n\t\tprepareHeaders: (headers) => {\r\n\t\t\theaders.set('API-KEY', '5f2d5af9-d6f0-4b7d-8e20-5a0ae84fdc07')\r\n\t\t\treturn headers\r\n\t\t},\r\n\t\tcredentials: 'include',\r\n\t\tmode: 'cors',\r\n\t}),\r\n\ttagTypes: ['Status'],\r\n\tendpoints: (build) => ({\r\n\t\tfetchProfile: build.query({\r\n\t\t\tquery: (id) => ({\r\n\t\t\t\turl: `/${id}`,\r\n\t\t\t}),\r\n\t\t}),\r\n\t\tfetchStatus: build.query({\r\n\t\t\tquery: (id) => ({\r\n\t\t\t\turl: `/status/${id}`,\r\n\t\t\t}),\r\n\t\t\tprovidesTags: (result) => ['Status'],\r\n\t\t}),\r\n\t\tupdateStatus: build.mutation({\r\n\t\t\tquery: (status) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\turl: '/status',\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: status,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinvalidatesTags: ['Status'],\r\n\t\t}),\r\n\t\tupdateProfile: build.mutation({\r\n\t\t\tquery: (profile) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\turl: '/',\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tbody: profile,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}),\r\n\t}),\r\n})\r\n","import { configureStore } from '@reduxjs/toolkit'\nimport {\n\tdialogReducer,\n\tuserReducer,\n\tprofileReducer,\n\tauthReducer,\n\theaderReducer,\n\tfriendReducer,\n} from './slices'\nimport { userService } from '../api/services/userService'\nimport { profileService } from '../api/services/profileService'\n\nconst rootReducer = {\n\theader: headerReducer,\n\tprofile: profileReducer,\n\tdialog: dialogReducer,\n\tuser: userReducer,\n\tfriend: friendReducer,\n\tauth: authReducer,\n\t[userService.reducerPath]: userService.reducer,\n\t[profileService.reducerPath]: profileService.reducer,\n}\n\nconst store = configureStore({\n\treducer: rootReducer,\n\tmiddleware: (getDefaultMiddleware) =>\n\t\tgetDefaultMiddleware().concat(userService.middleware).concat(profileService.middleware),\n})\n\nwindow.store = store\n\nexport default store\n","import React from 'react'\n\nimport styles from './Header.module.scss'\n\nconst Logo = () => {\n\treturn <div className={styles.logo}>SN</div>\n}\n\nexport default Logo\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledContainer = styled.div`\r\n    width: 100%;\r\n    max-width: 990px;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    padding: 0 15px;\r\n    min-width: ${props => props.minWidth ? props.minWidth : 'auto'};\r\n`\r\n\r\nconst Container  = ({children, ...props}) => {\r\n    return (\r\n        <StyledContainer {...props}>\r\n            {children}\r\n        </StyledContainer>\r\n\r\n    )\r\n}\r\n\r\nexport default Container","export default __webpack_public_path__ + \"static/media/no_avatar.77e62bce.png\";","export const styles = {\n\tcolors: {\n\t\tprimary: '#2787F5',\n\t\twhite: '#FFF',\n\t\tbackground: '#EDEEF0',\n\t\tbackgroundHover: '#F5F6F7',\n\t\tbackgroundHighlighted: 'rgba(174, 183, 194, 0.16)',\n\t\tbackgroundPopup: 'raba(0,0,0,0.6)',\n\t\tchili: '#C21807',\n\t\tseparatorCommon: '#DCE1E6',\n\t\tseparatorAlternate: '#E7E8EC',\n\t\ttextColorPrimary: '#000',\n\t\ttextColorSecondary: '#818C99',\n\t\ttextColorSubhead: '#626D7A',\n\t\ttextLink: '#2A5885',\n\t\tbuttonSecondaryText: '#55677D',\n\t\tbuttonPrimaryText: '#FFF',\n\t\tbuttonPrimaryBg: '#5181b8',\n\t\tbuttonSecondaryBg: '#E5EBF1',\n\t\tgray100: '#DCE1E6',\n\t\tgray400: '#939393',\n\t\tsteelGray: '#FAFBFC',\n\t\tblue400: '#5181B8',\n\t\tblue600: '#2A5885',\n\t\tredLiked: '#ff3347',\n\t\taccent: '#5181B8',\n\t\ticonTertiary: '#AEB7C2',\n\t\tpageBlockShadow: `0 1px 0 0 #DCE1E6,\n            0 0 0 1px #E7E8EC`,\n\t},\n\tbreakpoints: {\n\t\tsm: '600px',\n\t\tmd: '900px',\n\t\tlg: '1200px',\n\t},\n\tsizes: {\n\t\tborderRadius: '4px',\n\t\twidthContent: '550px',\n\t},\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { styles } from '../../../styles/variables'\n\nconst StyledBox = styled.div`\n\tposition: ${(p) => (p.position ? p.position : 'static')};\n\tleft: ${(p) => (p.left ? p.left : 'auto')};\n\tright: ${(p) => (p.right ? p.right : 'auto')};\n\ttop: ${(p) => (p.top ? p.top : 'auto')};\n\tbottom: ${(p) => (p.bottom ? p.bottom : 'auto')};\n\n\theight: ${(p) => (p.height ? p.height : 'auto')};\n\twidth: ${(p) => (p.width ? p.width : 'auto')};\n\tmax-width: ${(p) => (p.maxWidth ? p.maxWidth : 'none')};\n\tmin-width: ${(p) => (p.minWidth ? p.minWidth : 'none')};\n\tmargin: ${(p) => (p.margin ? p.margin : '0')};\n\tpadding: ${(p) => (p.padding ? p.padding : '15px')};\n\tborder-radius: ${styles.sizes.borderRadius};\n\n\ttext-align: ${(p) => (p.textAlign ? p.textAlign : 'left')};\n\tcolor: ${(p) => (p.color ? p.color : styles.colors.gray400)};\n\tbackground: ${(p) => (p.background ? p.background : styles.colors.white)};\n\tbox-shadow: ${(p) => (p.boxShadow ? p.boxShadow : styles.colors.pageBlockShadow)};\n\tcursor: ${(p) => (p.cursor ? p.cursor : 'default')};\n\n\ttransform: ${(p) => (p.transform ? p.transform : 'none')};\n\topacity: ${(p) => (p.opacity ? p.opacity : '1')};\n\tvisibility: ${(p) => (p.visibility ? p.visibility : 'visible')};\n\ttransition: ${(p) => (p.transition ? p.transition : 'none')};\n\tz-index: ${(p) => (p.zIndex ? p.zIndex : 'auto')};\n\n\t${(props) =>\n\t\tprops.active &&\n\t\tcss`\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t\ttransform: translateY(0);\n\t\t`}\n`\n\nconst Box = ({ children, ...props }) => {\n\treturn <StyledBox {...props}>{children}</StyledBox>\n}\n\nexport default Box\n","import React from 'react'\nimport Box from '../../../UI/Box/Box'\n\nimport styles from './Menu.module.scss'\nimport { Link } from 'react-router-dom'\n\nconst Menu = ({ profile, imageURL, isMenuOpen, toggleMenu, logout, closeOtherElements }) => {\n\tconst handleClick = (e) => {\n\t\te.stopPropagation()\n\t\tcloseOtherElements()\n\t}\n\n\tconst active = isMenuOpen\n\n\tconst styleBox = {\n\t\tposition: 'absolute',\n\t\ttop: '100%',\n\t\tright: '0',\n\t\tminWidth: '200px',\n\t\tpadding: '8px 0',\n\t\ttransform: ' translateY(10px)',\n\t\tvisibility: 'hidden',\n\t\topacity: '0',\n\t\ttransition: 'opacity 200ms linear, transform 200ms linear, visibility 200ms linear',\n\n\t\t//active prop in styled-components\n\t\tactive,\n\t}\n\n\treturn (\n\t\t<Box {...styleBox} className={`${styles.menu} ${active}`} onClick={handleClick}>\n\t\t\t<div className={styles.menu__top}>\n\t\t\t\t<div className={styles.menu__img}>\n\t\t\t\t\t<Link to='/profile'>\n\t\t\t\t\t\t<img src={imageURL} alt='avatar' />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.menu__title}>\n\t\t\t\t\t<Link to='/profile'>\n\t\t\t\t\t\t<div className={styles.menu__name}>{profile.fullName}</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to='/profile'>\n\t\t\t\t\t\t<div className={styles.menu__userId}>Ваш id {profile.userId}</div>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul className={styles.menu__list}>\n\t\t\t\t<Link to='/settings'>\n\t\t\t\t\t<li className={styles.menu__item} onClick={toggleMenu}>\n\t\t\t\t\t\tНастройки\n\t\t\t\t\t</li>\n\t\t\t\t</Link>\n\t\t\t\t<li className={styles.menu__item} onClick={logout}>\n\t\t\t\t\tВыйти\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</Box>\n\t)\n}\n\nexport default Menu\n","import React, { useMemo } from 'react'\nimport noAvatar from '../../../assets/images/no_avatar.png'\n\nconst imgStyle = {\n\tdisplay: 'block',\n\twidth: '100%',\n}\n\nconst Avatar = ({ size, margin, photo }) => {\n\tconst imageURL = photo ? photo : noAvatar\n\n\tconst avatarStyle = useMemo(\n\t\t() => ({\n\t\t\twidth: size ? size : '32px',\n\t\t\theight: size ? size : '32px',\n\t\t\tmargin: margin ? margin : '0',\n\t\t\tborderRadius: '50%',\n\t\t\toverflow: 'hidden',\n\t\t}),\n\t\t[size, margin],\n\t)\n\n\treturn (\n\t\t<div style={avatarStyle}>\n\t\t\t<img style={imgStyle} src={imageURL} alt='avatar' />\n\t\t</div>\n\t)\n}\n\nexport default Avatar\n","import React from 'react'\nimport noAvatar from '../../../assets/images/no_avatar.png'\nimport { FaAngleDown } from 'react-icons/fa'\nimport Menu from './Menu/Menu'\n\nimport styles from './Settings.module.scss'\nimport Avatar from '../../UI/Avatar/Avatar'\n\nconst Settings = React.forwardRef(\n\t({ profile, isMenuOpen, toggleMenu, logout, closeOtherElements }, ref) => {\n\t\tconst imageURL = profile?.photos.small ? profile.photos.small : noAvatar\n\t\tconst activeClass = isMenuOpen ? styles.active : ''\n\n\t\treturn (\n\t\t\t<div ref={ref} className={`${styles.menu} ${activeClass}`} onClick={toggleMenu}>\n\t\t\t\t<div className={styles.menu__name}>{profile.fullName}</div>\n\t\t\t\t<Avatar photo={profile?.photos.small} />\n\t\t\t\t<FaAngleDown className={styles.menu__icon} />\n\t\t\t\t<Menu\n\t\t\t\t\tlogout={logout}\n\t\t\t\t\tprofile={profile}\n\t\t\t\t\timageURL={imageURL}\n\t\t\t\t\tisMenuOpen={isMenuOpen}\n\t\t\t\t\ttoggleMenu={toggleMenu}\n\t\t\t\t\tcloseOtherElements={closeOtherElements}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t},\n)\n\nSettings.displayName = 'Settings'\n\nexport default Settings\n","import React, { useEffect, useRef } from 'react'\r\nimport Settings from './Settings'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { closeMenu, toggleMenu } from '../../../redux/slices/headerSlice'\r\nimport { closeUpdateStatus } from '../../../redux/slices/profileSlice'\r\nimport { logout } from '../../../redux/actions/authAction'\r\n\r\nconst SettingsContainer = () => {\r\n\tconst dispatch = useDispatch()\r\n\tconst authProfile = useSelector((state) => state.profile.authProfile)\r\n\tconst { isMenuOpen } = useSelector((state) => state.header)\r\n\tconst { isAuth } = useSelector((state) => state.auth)\r\n\tconst menuRef = useRef()\r\n\r\n\tconst closeOtherElements = () => {\r\n\t\tdispatch(closeUpdateStatus())\r\n\t}\r\n\tconst handleToggleMenu = () => {\r\n\t\tdispatch(toggleMenu())\r\n\t}\r\n\tconst handleCloseMenu = () => {\r\n\t\tdispatch(closeMenu())\r\n\t}\r\n\r\n\tconst handleLogout = () => {\r\n\t\tdispatch(logout())\r\n\t}\r\n\r\n\tconst handleOutsideClick = (event) => {\r\n\t\tconst path = event.path || (event.composedPath && event.composedPath())\r\n\t\tif (!path.includes(menuRef.current)) {\r\n\t\t\thandleCloseMenu()\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.body.addEventListener('click', handleOutsideClick)\r\n\t\treturn () => {\r\n\t\t\tdocument.body.removeEventListener('click', handleOutsideClick)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tif (!isAuth || !authProfile) return null\r\n\treturn (\r\n\t\t<Settings\r\n\t\t\tprofile={authProfile}\r\n\t\t\tisMenuOpen={isMenuOpen}\r\n\t\t\ttoggleMenu={handleToggleMenu}\r\n\t\t\tlogout={handleLogout}\r\n\t\t\tcloseOtherElements={closeOtherElements}\r\n\t\t\tref={menuRef}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default SettingsContainer\r\n","import React from 'react'\nimport Logo from './Logo'\nimport Container from '../UI/Container/Container'\nimport SettingsContainer from './Settings/SettingsContainer'\n\nimport styles from './Header.module.scss'\n\nconst Header = () => {\n\treturn (\n\t\t<header className={styles.header}>\n\t\t\t<Container>\n\t\t\t\t<div className={styles.header__container}>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t<SettingsContainer />\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t</header>\n\t)\n}\n\nexport default Header\n","import React from 'react'\nimport styled from 'styled-components'\nimport { darken, lighten } from 'polished'\n\nimport { styles } from '../../../styles/variables'\n\nconst StyledSpan = styled.span`\n\tdisplay: inline-block;\n`\nconst StyledButton = styled.button`\n\tdisplay: inline-block;\n\ttext-align: center;\n\theight: ${(props) => (props.height ? props.height : 'auto')};\n\twidth: ${(props) => (props.w ? props.w : '100%')};\n\tmin-width: ${(p) => (p.minWidth ? p.minWidth : 'auto')};\n\tpadding: ${(props) => (props.p ? props.p : '7px 16px')};\n\tmargin: ${(props) => (props.m ? props.m : '0')};\n\tbackground: ${(props) =>\n\t\tprops.secondary\n\t\t\t? styles.colors.buttonSecondaryBg\n\t\t\t: styles.colors.buttonPrimaryBg};\n\tborder-radius: ${styles.sizes.borderRadius};\n\tcolor: ${(props) =>\n\t\tprops.secondary\n\t\t\t? styles.colors.buttonSecondaryText\n\t\t\t: styles.colors.buttonPrimaryText};\n\tfont-size: ${(props) => (props.fz ? props.fz : 'inherit')};\n\tline-height: ${(props) => (props.lh ? props.lh : 'inherit')};\n\ttransition: background 0.1s linear;\n\n\t&:hover {\n\t\tbackground: ${(props) =>\n\t\t\tprops.secondary\n\t\t\t\t? darken(0.05, styles.colors.buttonSecondaryBg)\n\t\t\t\t: lighten(0.03, styles.colors.buttonPrimaryBg)};\n\t}\n\n\t&:active ${StyledSpan} {\n\t\ttransform: translateY(1px);\n\t}\n\n\t&:disabled {\n\t\tcursor: not-allowed;\n\t\tbackground: #999;\n\n\t\t&:hover {\n\t\t\tbackground: #999;\n\t\t}\n\t}\n`\n\nconst Button = ({ children, ...props }) => {\n\treturn (\n\t\t<StyledButton {...props}>\n\t\t\t<StyledSpan>{children}</StyledSpan>\n\t\t</StyledButton>\n\t)\n}\n\nexport default Button\n","import React from 'react'\r\nimport styled, { keyframes, css } from 'styled-components'\r\n\r\nconst loading1 = keyframes`\r\n  0% {\r\n    background: rgba(255,255,255, 0.3);\r\n  }\r\n  10% {\r\n    background: rgba(255,255,255, 1);\r\n  }\r\n`\r\n\r\nconst templateLoaderItem = styled.div`\r\n\tdisplay: inline-block;\r\n\twidth: 10px;\r\n\theight: 5px;\r\n\tbackground: rgba(255, 255, 255, 0.3);\r\n\tanimation: ${loading1} 1s ease-in-out infinite;\r\n\r\n\t${(props) =>\r\n\t\tprops.dots &&\r\n\t\tcss`\r\n\t\t\twidth: ${(p) => (p.dotsWidth ? p.width : '5px')};\r\n\t\t\theight: ${(p) => (p.dotsWidth ? p.width : '5px')};\r\n\t\t\tborder-radius: 50%;\r\n\t\t`}\r\n`\r\n\r\nconst LoaderItem1 = styled(templateLoaderItem)``\r\n\r\nconst LoaderItem2 = styled(templateLoaderItem)`\r\n\tmargin: ${(props) => (props.dots ? '0 4px' : '0 5px')};\r\n\tanimation-delay: 0.2s;\r\n`\r\n\r\nconst LoaderItem3 = styled(templateLoaderItem)`\r\n\tanimation-delay: 0.4s;\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n\tdisplay: flex;\r\n\twidth: fit-content;\r\n\tpadding: ${(p) => (p.dots ? '0' : '7px 15px')};\r\n\tbackground: ${(p) => (p.dots ? 'transparent' : '#000')};\r\n`\r\n\r\nconst ItemsLoader = (props) => {\r\n\treturn (\r\n\t\t<Wrapper {...props}>\r\n\t\t\t<LoaderItem1 {...props} />\r\n\t\t\t<LoaderItem2 {...props} />\r\n\t\t\t<LoaderItem3 {...props} />\r\n\t\t</Wrapper>\r\n\t)\r\n}\r\n\r\nexport default ItemsLoader\r\n","import React from 'react'\n\nimport { Field, Formik } from 'formik'\nimport Button from '../../UI/Button/Button'\nimport Box from '../../UI/Box/Box'\nimport ItemsLoader from '../../UI/Loader/ItemsLoader/ItemsLoader'\n\nimport styles from './LoginForm.module.scss'\nimport commonStyle from '../../../styles/commonStyles.module.scss'\n\nconst LoginForm = ({ onSubmit, initialValues, validationSchema, wrongData }) => {\n\treturn (\n\t\t<Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={onSubmit}>\n\t\t\t{(formik) => {\n\t\t\t\treturn (\n\t\t\t\t\t<form className={commonStyle.form} onSubmit={formik.handleSubmit}>\n\t\t\t\t\t\t<Box padding='25px 30px'>\n\t\t\t\t\t\t\t<div className={styles.form__title}>Войти в аккаунт</div>\n\t\t\t\t\t\t\t{formik.touched.email && formik.errors.email ? (\n\t\t\t\t\t\t\t\t<span className={commonStyle.form__error}>{formik.errors.email}</span>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className={commonStyle.form__inputContainer}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName={commonStyle.form__input}\n\t\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t{...formik.getFieldProps('email')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{formik.touched.password && formik.errors.password ? (\n\t\t\t\t\t\t\t\t<span className={commonStyle.form__error}>{formik.errors.password}</span>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className={commonStyle.form__inputContainer}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName={commonStyle.form__input}\n\t\t\t\t\t\t\t\t\tplaceholder='Пароль'\n\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\tautoComplete='on'\n\t\t\t\t\t\t\t\t\t{...formik.getFieldProps('password')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={commonStyle.form__inputContainer}>\n\t\t\t\t\t\t\t\t<label className={commonStyle.form__label}>\n\t\t\t\t\t\t\t\t\t<Field className={commonStyle.form__checkbox} type='checkbox' name='rememberMe' />\n\t\t\t\t\t\t\t\t\t<span className={commonStyle.form__labelText}>Запомнить меня</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{wrongData && !formik.dirty && (\n\t\t\t\t\t\t\t\t<span className={commonStyle.form__error}>{wrongData}</span>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={!(formik.isValid && formik.dirty && !formik.isSubmitting)}\n\t\t\t\t\t\t\t\t\tminWidth='120px'\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tp='10px 20px'\n\t\t\t\t\t\t\t\t\tw='content-fit'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{formik.isSubmitting ? <ItemsLoader dots /> : 'Войти'}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</form>\n\t\t\t\t)\n\t\t\t}}\n\t\t</Formik>\n\t)\n}\n\nexport default LoginForm\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as Yup from 'yup'\n\nimport LoginForm from './LoginForm'\nimport { login } from '../../../redux/actions/authAction'\n\nconst LoginFormContainer = () => {\n\tconst dispatch = useDispatch()\n\tconst { wrongData } = useSelector((state) => state.auth)\n\n\tconst initialValues = {\n\t\temail: '',\n\t\tpassword: '',\n\t\trememberMe: false,\n\t}\n\tconst validationSchema = Yup.object({\n\t\temail: Yup.string()\n\t\t\t.email('Некорректный email')\n\t\t\t.required('Обязательное поле'),\n\t\tpassword: Yup.string().required('Обязательное поле'),\n\t\trememberMe: Yup.boolean(),\n\t\tcaptcha: Yup.boolean(),\n\t})\n\n\tconst onSubmit = (values, { setSubmitting, resetForm }) => {\n\t\tconst loginData = {\n\t\t\temail: values.email,\n\t\t\tpassword: values.password,\n\t\t\trememberMe: values.rememberMe,\n\t\t}\n\t\tconst callbackOnEndRequest = () => {\n\t\t\tsetSubmitting(false)\n\t\t\tresetForm(initialValues)\n\t\t}\n\n\t\tdispatch(login({ loginData, callbackOnEndRequest }))\n\t}\n\n\treturn (\n\t\t<LoginForm\n\t\t\tonSubmit={onSubmit}\n\t\t\tinitialValues={initialValues}\n\t\t\tvalidationSchema={validationSchema}\n\t\t\twrongData={wrongData}\n\t\t/>\n\t)\n}\n\nexport default LoginFormContainer\n","import React from 'react'\nimport Container from '../UI/Container/Container'\nimport LoginFormContainer from './LoginForm/LoginFormContainer'\n\nimport styles from './AuthPage.module.scss'\n\nconst AuthPage = () => {\n\treturn (\n\t\t<div className={styles.auth}>\n\t\t\t<Container>\n\t\t\t\t<LoginFormContainer />\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default AuthPage\n","import React from 'react'\nimport { Link, useMatch, useResolvedPath } from 'react-router-dom'\n\nimport styles from './Sidebar.module.scss'\n\nconst CustomLink = ({ children, to, end, ...props }) => {\n\tlet resolved = useResolvedPath(to)\n\n\tlet match = useMatch({ path: resolved.pathname, end: end !== undefined ? false : true })\n\n\treturn (\n\t\t<li>\n\t\t\t<Link className={`${styles.menu__item} ${match ? styles.active : ''}`} to={to} {...props}>\n\t\t\t\t{children}\n\t\t\t</Link>\n\t\t</li>\n\t)\n}\n\nexport default CustomLink\n","import {\n\tFaCog,\n\tFaRegComment,\n\tFaRegUserCircle,\n\tFaUserFriends,\n} from 'react-icons/fa'\n\nexport const routes = [\n\t{ path: '/profile', props: {}, icon: FaRegUserCircle, title: 'Моя страница' },\n\t{ path: '/dialogs', props: {}, icon: FaRegComment, title: 'Сообщения' },\n\t{\n\t\tpath: '/friends',\n\t\tprops: { end: true },\n\t\ticon: FaUserFriends,\n\t\ttitle: 'Друзья',\n\t},\n\t{ path: '/settings', props: {}, icon: FaCog, title: 'Настройки' },\n]\n","import React from 'react'\n\nimport styles from './Sidebar.module.scss'\nimport CustomLink from './CustomLink'\nimport { routes } from '../../router/sidebarLinks'\n\nconst Sidebar = () => {\n\treturn (\n\t\t<nav className={styles.menu}>\n\t\t\t<ul className={styles.menu__list}>\n\t\t\t\t{routes.map((link) => (\n\t\t\t\t\t<CustomLink key={link.path} to={link.path} {...link.props}>\n\t\t\t\t\t\t<link.icon className={styles.menu__icon} />\n\t\t\t\t\t\t{link.title}\n\t\t\t\t\t</CustomLink>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</nav>\n\t)\n}\n\nexport default Sidebar\n","import styled, { keyframes } from 'styled-components'\nimport { styles } from '../../../../styles/variables'\n\nconst rotate = keyframes`\n  0% {\n    transform: rotate(30deg)\n  }\n  100% {\n    transform: rotate(390deg)\n  }\n  \n`\n\nconst CircleLoader = styled.div`\n\tposition: relative;\n\tdisplay: inline-block;\n\twidth: ${(props) => (props.size ? props.size : '25px')};\n\theight: ${(props) => (props.size ? props.size : '25px')};\n\tborder-radius: 50%;\n\n\tbackground: conic-gradient(#bababa 270deg, ${styles.colors.primary} 270deg);\n\tanimation: ${rotate} 2s infinite;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\twidth: 70%;\n\t\theight: 70%;\n\t\tborder-radius: 50%;\n\t\tbackground: #fff;\n\n\t\ttransform: translate(-50%, -50%);\n\t}\n`\n\nexport default CircleLoader\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport Avatar from '../../UI/Avatar/Avatar'\n\nimport styles from './dialogs.module.scss'\n\nconst DialogsItem = ({ item: { id, name, photos } }) => {\n\treturn (\n\t\t<li>\n\t\t\t<NavLink\n\t\t\t\tto={`/dialogs/${id}`}\n\t\t\t\tclassName={({ isActive }) =>\n\t\t\t\t\t[styles.dialog__item, isActive ? styles.active : ''].filter(Boolean).join(' ')\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Avatar photo={photos?.large} size='50px' margin='11px 14px 7px 0' />\n\t\t\t\t<div className={styles.dialog__data}>\n\t\t\t\t\t<span className={styles.dialog__name}>{name}</span>\n\t\t\t\t</div>\n\t\t\t</NavLink>\n\t\t</li>\n\t)\n}\n\nexport default DialogsItem\n","import React from 'react'\nimport DialogsItem from './DialogItem'\n\nimport styles from './dialogs.module.scss'\n\nconst DialogList = ({ dialogs }) => {\n\tdialogs = dialogs.map((d) => <DialogsItem key={d.id} item={d} />)\n\n\treturn (\n\t\t<div className={styles.dialog__list}>\n\t\t\t<ul>{dialogs}</ul>\n\t\t</div>\n\t)\n}\n\nexport default DialogList\n","import React from 'react'\n\nimport CircleLoader from '../../UI/Loader/CircleLoader/CircleLoader'\nimport Box from '../../UI/Box/Box'\nimport DialogList from './DialogList'\nimport { userService } from '../../../api/services/userService'\n\nimport commonStyle from '../../../styles/commonStyles.module.scss'\nimport styles from './dialogs.module.scss'\n\nconst Dialogs = () => {\n\tconst {\n\t\tdata: dialogs,\n\t\tisFetching,\n\t\tisError,\n\t} = userService.useFetchUsersQuery({ limit: 10, friend: true })\n\n\tif (isError) return <div>Произошла ошибка при загрузке диалогов</div>\n\tif (isFetching)\n\t\treturn (\n\t\t\t<div className={commonStyle.emptyBlock}>\n\t\t\t\t<CircleLoader />\n\t\t\t</div>\n\t\t)\n\tif (dialogs === undefined) return null\n\treturn (\n\t\t<div className={styles.dialog}>\n\t\t\t<Box padding='0'>\n\t\t\t\t<div className={commonStyle.title}>Диалоги</div>\n\t\t\t\t<DialogList dialogs={dialogs.items} />\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default Dialogs\n","import React from 'react'\nimport Dialogs from '../components/DialogsPage/Dialogs/Dialogs'\n\nconst DialogsPage = () => {\n\treturn <Dialogs />\n}\n\nexport default DialogsPage\n","import React from 'react'\nimport Button from '../../../UI/Button/Button'\nimport ItemsLoader from '../../../UI/Loader/ItemsLoader/ItemsLoader'\n\nconst SubscriptionButton = ({\n\tisSubscribed,\n\tsubscribe,\n\tisSubscribing,\n\tunsubscribe,\n\tisUnsubscribing,\n}) => {\n\tif (isSubscribed === undefined) return null\n\treturn isSubscribed ? (\n\t\t<Button disabled={isUnsubscribing} onClick={unsubscribe} secondary>\n\t\t\t{isUnsubscribing ? <ItemsLoader dots /> : 'Удалить из друзей'}\n\t\t</Button>\n\t) : (\n\t\t<Button disabled={isSubscribing} onClick={subscribe}>\n\t\t\t{isSubscribing ? <ItemsLoader dots /> : 'Добавить в друзья'}\n\t\t</Button>\n\t)\n}\n\nexport default SubscriptionButton\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport SubscriptionButton from './SubscriptionButton'\nimport { useSubscription } from '../../../../hooks/useSubscription'\n\nconst SubscriptionButtonContainer = () => {\n\tconst { userId } = useSelector((state) => state.profile.profile)\n\tconst {\n\t\tisSubscribed,\n\t\tisErrorCheckSubscription,\n\t\tsubscribe,\n\t\tisSubscribing,\n\t\tisErrorSubscribe,\n\t\tunsubscribe,\n\t\tisUnsubscribing,\n\t\tisErrorUnsubscribe,\n\t} = useSubscription(userId, true)\n\n\tif (isErrorCheckSubscription)\n\t\treturn (\n\t\t\t<span>\n\t\t\t\tПроизошла ошибка при проверки подписки y пользователя с id: {userId}\n\t\t\t</span>\n\t\t)\n\tif (isErrorSubscribe)\n\t\treturn (\n\t\t\t<span>Произошла ошибка при подписке на пользователя с id: {userId}</span>\n\t\t)\n\tif (isErrorUnsubscribe)\n\t\treturn (\n\t\t\t<span>Произошла ошибка при отписке от пользователя с id: {userId}</span>\n\t\t)\n\treturn (\n\t\t<SubscriptionButton\n\t\t\tisSubscribed={isSubscribed}\n\t\t\tsubscribe={subscribe}\n\t\t\tisSubscribing={isSubscribing}\n\t\t\tunsubscribe={unsubscribe}\n\t\t\tisUnsubscribing={isUnsubscribing}\n\t\t/>\n\t)\n}\n\nexport default SubscriptionButtonContainer\n","import { userService } from '../api/services/userService'\n\nexport const useSubscription = (userId, isFetchSubscription = false) => {\n\tconst {\n\t\tdata: isSubscribed,\n\t\tisFetching: isFetchingCheckSubscription,\n\t\tisError: isErrorCheckSubscription,\n\t} = isFetchSubscription\n\t\t? userService.useFetchCheckSubscriptionQuery(userId)\n\t\t: {}\n\tconst [\n\t\tsubscribe,\n\t\t{ isLoading: isLoadingSubscribe, isError: isErrorSubscribe },\n\t] = userService.useSubscribeOnUserMutation()\n\tconst [\n\t\tunsubscribe,\n\t\t{ isLoading: isLoadingUnsubscribe, isError: isErrorUnsubscribe },\n\t] = userService.useUnsubscribeFromUserMutation()\n\n\tconst handleSubscribe = () => {\n\t\tsubscribe(userId)\n\t}\n\tconst handleUnsubscribe = () => {\n\t\tunsubscribe(userId)\n\t}\n\n\tconst isSubscribing = isFetchSubscription\n\t\t? isLoadingSubscribe || isFetchingCheckSubscription\n\t\t: isLoadingSubscribe\n\tconst isUnsubscribing = isFetchSubscription\n\t\t? isLoadingUnsubscribe || isFetchingCheckSubscription\n\t\t: isLoadingUnsubscribe\n\n\tconst result = {\n\t\tsubscribe: handleSubscribe,\n\t\tisSubscribing,\n\t\tisErrorSubscribe,\n\t\tunsubscribe: handleUnsubscribe,\n\t\tisUnsubscribing,\n\t\tisErrorUnsubscribe,\n\t}\n\tif (isFetchSubscription) {\n\t\tresult.isSubscribed = isSubscribed\n\t\tresult.isFetchingCheckSubscription = isFetchingCheckSubscription\n\t\tresult.isErrorCheckSubscription = isErrorCheckSubscription\n\t}\n\n\treturn result\n}\n","import React from 'react'\nimport { FaArrowCircleUp } from 'react-icons/fa'\nimport styles from '../Avatar.module.scss'\n\nconst UpdateAvatar = ({ handleOnChangeFile }) => {\n\treturn (\n\t\t<div className={styles.updateAvatar}>\n\t\t\t<label className={styles.updateAvatar__label} htmlFor='updateAvatar'>\n\t\t\t\t<FaArrowCircleUp className={styles.updateAvatar__icon} />\n\t\t\t\tОбновить фотографию\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tclassName={styles.updateAvatar__input}\n\t\t\t\tonChange={handleOnChangeFile}\n\t\t\t\taccept='image/png, image/gif, image/jpeg'\n\t\t\t\tid='updateAvatar'\n\t\t\t\ttype='file'\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default UpdateAvatar\n","import React from 'react'\nimport UpdateAvatar from './UpdateAvatar'\nimport { useDispatch } from 'react-redux'\nimport { updatePhoto } from '../../../../../redux/actions/profileAction'\n\nconst UpdateAvatarContainer = () => {\n\tconst dispatch = useDispatch()\n\tconst handleOnChangeFile = (e) => {\n\t\tconst formData = new FormData()\n\t\tformData.append('image', e.target.files[0])\n\t\tdispatch(updatePhoto({ photoFile: formData }))\n\t}\n\n\treturn <UpdateAvatar handleOnChangeFile={handleOnChangeFile} />\n}\n\nexport default UpdateAvatarContainer\n","import React from 'react'\n\nimport styles from './AvatarLoader.module.scss'\nimport ItemsLoader from '../../../../UI/Loader/ItemsLoader/ItemsLoader'\n\nconst AvatarLoader = () => {\n\treturn (\n\t\t<div className={styles.loader}>\n\t\t\t<ItemsLoader />\n\t\t</div>\n\t)\n}\n\nexport default AvatarLoader\n","import React from 'react'\n\nimport UpdateAvatarContainer from './UpdateAvatar/UpdateAvatarContainer'\nimport styles from './Avatar.module.scss'\nimport AvatarLoader from './AvatarLoader/AvatarLoader'\n\nconst Avatar = ({ imageURL, isUpdatePhotoLoading, isAuthUserProfile }) => {\n\treturn (\n\t\t<div className={styles.avatar}>\n\t\t\t<div className={styles.avatar__image}>\n\t\t\t\t<img src={imageURL} alt='avatar' />\n\t\t\t</div>\n\t\t\t{isAuthUserProfile && !isUpdatePhotoLoading && <UpdateAvatarContainer />}\n\t\t\t{isAuthUserProfile && isUpdatePhotoLoading && <AvatarLoader />}\n\t\t</div>\n\t)\n}\n\nexport default Avatar\n","import React from 'react'\n\nimport Avatar from './Avatar'\nimport noAvatar from '../../../../assets/images/no_avatar.png'\nimport { useSelector } from 'react-redux'\n\nconst AvatarContainer = ({ isAuthUserProfile }) => {\n\tconst {\n\t\tprofile: { photos },\n\t\tisUpdatePhotoLoading,\n\t} = useSelector((state) => state.profile)\n\tconst imageURL = photos.large ? photos.large : noAvatar\n\n\treturn (\n\t\t<Avatar\n\t\t\timageURL={imageURL}\n\t\t\tisUpdatePhotoLoading={isUpdatePhotoLoading}\n\t\t\tisAuthUserProfile={isAuthUserProfile}\n\t\t/>\n\t)\n}\n\nexport default AvatarContainer\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Button from '../../../UI/Button/Button'\r\nimport Box from '../../../UI/Box/Box'\r\nimport SubscriptionButtonContainer from '../SubscriptionButton/SubscriptionButtonContainer'\r\nimport AvatarContainer from '../Avatar/AvatarContainer'\r\n\r\nconst TopBlock = ({ isAuthUserProfile, userId }) => {\r\n\treturn (\r\n\t\t<Box height='fit-content' margin='0 0 10px 0'>\r\n\t\t\t<AvatarContainer isAuthUserProfile={isAuthUserProfile} />\r\n\t\t\t{isAuthUserProfile ? (\r\n\t\t\t\t<Link to='/settings'>\r\n\t\t\t\t\t<Button secondary>Редактировать</Button>\r\n\t\t\t\t</Link>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Link to={`/dialogs/${userId}`}>\r\n\t\t\t\t\t\t<Button m='0 0 10px 0'>Написать сообщение</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<SubscriptionButtonContainer />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default TopBlock\r\n","import React from 'react'\nimport Avatar from '../../../../UI/Avatar/Avatar'\n\nimport styles from './FriendsItem.module.scss'\nimport { Link } from 'react-router-dom'\n\nconst FriendsItem = ({ photo, name, userId }) => {\n\treturn (\n\t\t<div className={styles.item}>\n\t\t\t<div className={styles.item__avatar}>\n\t\t\t\t{' '}\n\t\t\t\t<Link to={`/profile/${userId}`}>\n\t\t\t\t\t<Avatar photo={photo} size='50px' />\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<div className={styles.item__name}>\n\t\t\t\t{' '}\n\t\t\t\t<Link to={`/profile/${userId}`}>{name.slice(0, 7)}</Link>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default FriendsItem\n","import React from 'react'\n\nimport styles from './HeaderBlock.module.scss'\nimport { Link } from 'react-router-dom'\n\nconst HeaderBlock = ({ friendsCount }) => {\n\treturn (\n\t\t<div className={styles.header}>\n\t\t\t<Link to='/friends' className={styles.header__title}>\n\t\t\t\tДрузья\n\t\t\t</Link>\n\t\t\t<Link to='/friends' className={styles.header__amount}>\n\t\t\t\t{friendsCount}\n\t\t\t</Link>\n\t\t</div>\n\t)\n}\n\nexport default HeaderBlock\n","import React from 'react'\n\nimport FriendsItem from './FriensItem/FriendsItem'\nimport Box from '../../../UI/Box/Box'\nimport HeaderBlock from './HeaderBlock/HeaderBlock'\n\nimport styles from './FriendsBlock.module.scss'\n\nconst FriendsBlock = ({ friends, friendsCount }) => {\n\tconst friendsList = friends.map((f) => (\n\t\t<FriendsItem key={f.id} photo={f.photos?.small} name={f.name} userId={f.id} />\n\t))\n\n\treturn (\n\t\t<Box>\n\t\t\t<HeaderBlock friendsCount={friendsCount} />\n\t\t\t<div className={styles.friendsList}>{friendsList}</div>\n\t\t</Box>\n\t)\n}\n\nexport default FriendsBlock\n","import React from 'react'\n\nimport CircleLoader from '../../../UI/Loader/CircleLoader/CircleLoader'\nimport { userService } from '../../../../api/services/userService'\nimport { FaUndo } from 'react-icons/fa'\n\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\nimport FriendsBlock from './FriendsBlock'\n\nconst FriendsBlockContainer = () => {\n\tconst {\n\t\tdata: friends,\n\t\tisFetching,\n\t\tisError,\n\t\trefetch,\n\t} = userService.useFetchUsersQuery({ limit: 9, friend: true })\n\n\tif (isError)\n\t\treturn (\n\t\t\t<div className={commonStyle.emptyBlock}>\n\t\t\t\t<div className={commonStyle.emptyBlock__title}>\n\t\t\t\t\tПроизошла ошибка при загрузке друзей\n\t\t\t\t</div>\n\t\t\t\t<div className={commonStyle.refetch} onClick={refetch}>\n\t\t\t\t\t<FaUndo />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\tif (isFetching)\n\t\treturn (\n\t\t\t<div className={commonStyle.emptyBlock}>\n\t\t\t\t<CircleLoader />\n\t\t\t</div>\n\t\t)\n\tif (friends === undefined) return null\n\treturn (\n\t\t<FriendsBlock friends={friends.items} friendsCount={friends.totalCount} />\n\t)\n}\n\nexport default FriendsBlockContainer\n","import React from 'react'\r\n\r\nimport TopBlock from './TopBlock/TopBlock'\r\nimport FriendsBlockContainer from './FriendsBlock/FriendsBlockContainer'\r\n\r\nconst Side = ({ isAuthUserProfile, userId }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<TopBlock isAuthUserProfile={isAuthUserProfile} userId={userId} />\r\n\t\t\t{isAuthUserProfile && <FriendsBlockContainer />}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Side\r\n","import React from 'react'\n\nimport styles from './Info.module.scss'\n\nconst InfoRow = ({ title, body, link = false }) => {\n\tlet value = body\n\tif (link) {\n\t\tconst href = /^(http|https):\\/\\/[^ \"]+$/.test(body) ? body : 'https://' + body\n\t\tvalue = (\n\t\t\t<a href={href} target='_blank' rel='noreferrer'>\n\t\t\t\t{href}\n\t\t\t</a>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={styles.info__row}>\n\t\t\t\t<div className={styles.info__label}>{title}</div>\n\t\t\t\t<div className={styles.info__value}>\n\t\t\t\t\t{body ? value : <span className={styles.info__notSpecified}>не указано</span>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default InfoRow\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport styles from './Info.module.scss'\n\nconst InfoHeader = ({ title, isAuthUserProfile }) => {\n\treturn (\n\t\t<div className={styles.header}>\n\t\t\t<div className={styles.header__title}>{title}</div>\n\t\t\t<div className={styles.header__line}>\n\t\t\t\t{isAuthUserProfile && (\n\t\t\t\t\t<Link to='/settings'>\n\t\t\t\t\t\t<button className={styles.header__line_link}>Редактировать</button>\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default InfoHeader\n","import React from 'react'\n\nimport styles from './Info.module.scss'\nimport InfoRow from './InfoRow'\nimport InfoHeader from './InfoHeader'\n\nconst Info = ({\n\tisShowInfo,\n\tlookingForAJobDescription,\n\tlookingForAJob,\n\tcontacts,\n\tisAuthUserProfile,\n}) => {\n\tconst style = {\n\t\tdisplay: isShowInfo ? 'block' : 'none',\n\t}\n\n\tconst contactsList = Object.keys(contacts).map((key) => (\n\t\t<InfoRow key={key} title={key} body={contacts[key]} link={true} />\n\t))\n\n\treturn (\n\t\t<div style={style} className={styles.full_info}>\n\t\t\t<div className={styles.full_info__item}>\n\t\t\t\t<div className={styles.full_info__block}>\n\t\t\t\t\t<InfoHeader title='Поиск работы' isAuthUserProfile={isAuthUserProfile} />\n\t\t\t\t\t<InfoRow title='Ищу работу:' body={lookingForAJob ? 'Да' : 'Нет'} />\n\t\t\t\t\t<InfoRow title='Описание:' body={lookingForAJobDescription} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.full_info__block}>\n\t\t\t\t\t<InfoHeader title='Контакты' isAuthUserProfile={isAuthUserProfile} />\n\t\t\t\t\t{contactsList}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Info\n","import React from 'react'\n\nimport styles from './Info.module.scss'\nimport InfoRow from './InfoRow'\n\nconst Info = ({ handleToggleMoreInfo, isShowInfo, aboutMe }) => {\n\tconst textToggleMoreInfoButton = isShowInfo\n\t\t? 'Скрыть подробную информацию'\n\t\t: 'Показать подробную информацию'\n\n\treturn (\n\t\t<div className={styles.short_info}>\n\t\t\t<InfoRow title='Обо мне:' body={aboutMe} />\n\t\t\t<div className={styles.info__more_btn}>\n\t\t\t\t<button onClick={handleToggleMoreInfo} className={styles.info__more_btn}>\n\t\t\t\t\t{textToggleMoreInfoButton}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Info\n","import React, { useEffect, useState } from 'react'\nimport { Form, Formik, Field } from 'formik'\n\nimport Box from '../../../UI/Box/Box'\nimport Button from '../../../UI/Button/Button'\nimport ItemsLoader from '../../../UI/Loader/ItemsLoader/ItemsLoader'\n\nimport styles from './UpdateStatus.module.scss'\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\n\nconst UpdateStatus = ({\n\tstatus,\n\tisOpen,\n\tupdateStatus,\n\tisSuccess,\n\tisLoading,\n\tcloseUpdateStatus,\n}) => {\n\tconst [value, setValue] = useState(status)\n\tconst styleBox = {\n\t\tposition: 'absolute',\n\t\tpadding: '0',\n\t\tleft: '-20px',\n\t\tright: '-20px',\n\t\ttop: '3px',\n\t\tvisibility: 'hidden',\n\t\topacity: '0',\n\t\ttransform: 'translateY(10px)',\n\t\ttransition: 'opacity 200ms linear, transform 200ms linear, visibility 200ms linear',\n\t\tactive: isOpen,\n\t\tzIndex: 10,\n\t}\n\n\tuseEffect(() => {\n\t\tif (value !== status) updateStatus(value)\n\t}, [value, status])\n\n\tuseEffect(() => {\n\t\tif (isSuccess && !isLoading) closeUpdateStatus()\n\t}, [isSuccess, isLoading])\n\n\treturn (\n\t\t<Box {...styleBox}>\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ status: value }}\n\t\t\t\tonSubmit={(values) => {\n\t\t\t\t\tif (values.status !== status) {\n\t\t\t\t\t\tsetValue(values.status)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcloseUpdateStatus()\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Form className={styles.form}>\n\t\t\t\t\t<div className={commonStyle.form__inputContainer}>\n\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\tcomponent='textarea'\n\t\t\t\t\t\t\tclassName={commonStyle.form__textarea}\n\t\t\t\t\t\t\tmaxLength='300'\n\t\t\t\t\t\t\tplaceholder='Введите статус'\n\t\t\t\t\t\t\tname='status'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button p='7px 16px 8px' minWidth='96px' lh='11px' type='submit' w='fit-content'>\n\t\t\t\t\t\t{isLoading ? <ItemsLoader dots /> : 'Сохранить'}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t</Formik>\n\t\t</Box>\n\t)\n}\n\nexport default UpdateStatus\n","import React from 'react'\nimport UpdateStatus from './UpdateStatus'\nimport { useSelector } from 'react-redux'\nimport { profileService } from '../../../../api/services/profileService'\nimport { closeUpdateStatus } from '../../../../redux/slices/profileSlice'\nimport { useDispatch } from 'react-redux'\n\nconst UpdateStatusContainer = ({ status }) => {\n\tconst dispatch = useDispatch()\n\tconst [updateStatus, { isLoading, isError, isSuccess }] =\n\t\tprofileService.useUpdateStatusMutation()\n\tconst { isOpenUpdateStatus } = useSelector((state) => state.profile)\n\tconst handleUpdateStatus = (status) => {\n\t\tupdateStatus({ status })\n\t}\n\tconst handleCloseUpdateStatus = () => {\n\t\tdispatch(closeUpdateStatus())\n\t}\n\treturn (\n\t\t<>\n\t\t\t{isError && <div>Во время обновления статуса произошла ошибка</div>}\n\t\t\t{isOpenUpdateStatus ? (\n\t\t\t\t<UpdateStatus\n\t\t\t\t\tstatus={status}\n\t\t\t\t\tupdateStatus={handleUpdateStatus}\n\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\tisSuccess={isSuccess}\n\t\t\t\t\tisOpen={isOpenUpdateStatus}\n\t\t\t\t\tcloseUpdateStatus={handleCloseUpdateStatus}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</>\n\t)\n}\n\nexport default UpdateStatusContainer\n","import React from 'react'\nimport UpdateStatusContainer from '../UpdateStatus/UpdateStatusContainer'\n\nimport styles from './Status.module.scss'\n\nconst Status = React.forwardRef(\n\t({ status, isAuthUserProfile, openUpdateStatus, closeOtherElements }, ref) => {\n\t\tconst interactClass = isAuthUserProfile ? styles.interact : ''\n\t\tconst handleClick = (e) => {\n\t\t\te.stopPropagation()\n\t\t\tcloseOtherElements()\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{isAuthUserProfile ? (\n\t\t\t\t\t<div ref={ref} onClick={handleClick}>\n\t\t\t\t\t\t<div onClick={openUpdateStatus} className={`${styles.status} ${interactClass}`}>\n\t\t\t\t\t\t\t{status ? status : <span className={styles.status__empty}>Укажите статус</span>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<UpdateStatusContainer status={status} />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className={`${styles.status}`}>{status}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t},\n)\n\nStatus.displayName = 'Status'\n\nexport default Status\n","import React, { useEffect, useRef } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport Status from './Status'\n\nimport {\n\tcloseUpdateStatus,\n\topenUpdateStatus,\n} from '../../../../redux/slices/profileSlice'\nimport { profileService } from '../../../../api/services/profileService'\nimport { closeMenu } from '../../../../redux/slices/headerSlice'\nimport CircleLoader from '../../../UI/Loader/CircleLoader/CircleLoader'\n\nconst StatusContainer = ({ userId, isAuthUserProfile }) => {\n\tconst dispatch = useDispatch()\n\tconst {\n\t\tdata: status,\n\t\tisError,\n\t\tisFetching,\n\t} = profileService.useFetchStatusQuery(userId)\n\n\tconst statusRef = useRef()\n\tconst closeChangeStatus = () => {\n\t\tdispatch(closeUpdateStatus())\n\t}\n\tlet openChangeStatus = () => {}\n\tconst closeOtherElements = () => {\n\t\tdispatch(closeMenu())\n\t}\n\tif (isAuthUserProfile)\n\t\topenChangeStatus = () => {\n\t\t\tdispatch(openUpdateStatus())\n\t\t}\n\n\tconst handleCloseUpdateStatus = (event) => {\n\t\tconst path = event.path || (event.composedPath && event.composedPath())\n\n\t\tif (!path.includes(statusRef.current)) {\n\t\t\tcloseChangeStatus()\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tdocument.body.addEventListener('click', handleCloseUpdateStatus)\n\t\treturn () => {\n\t\t\tdocument.body.removeEventListener('click', handleCloseUpdateStatus)\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<>\n\t\t\t{isError && <div>Произошла ошибка призагрузке статуса</div>}\n\t\t\t{isFetching && (\n\t\t\t\t<div style={{ margin: '5px 0 0' }}>\n\t\t\t\t\t<CircleLoader size='15px' />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{!isFetching && (\n\t\t\t\t<Status\n\t\t\t\t\tref={statusRef}\n\t\t\t\t\tstatus={status}\n\t\t\t\t\tisAuthUserProfile={isAuthUserProfile}\n\t\t\t\t\topenUpdateStatus={openChangeStatus}\n\t\t\t\t\tcloseOtherElements={closeOtherElements}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default StatusContainer\n","import React, { useState } from 'react'\n\nimport Box from '../../../UI/Box/Box'\nimport InfoFull from './InfoFull'\nimport InfoShort from './InfoShort'\n\nimport styles from './Info.module.scss'\nimport StatusContainer from '../Status/StatusContainer'\n\nconst Info = ({\n\taboutMe,\n\tcontacts,\n\tfullName,\n\tlookingForAJob,\n\tlookingForAJobDescription,\n\tuserId,\n\tisAuthUserProfile,\n}) => {\n\tconst [isShowMoreInfo, setShowMoreInfo] = useState(true)\n\tconst handleToggleMoreInfo = () => {\n\t\tsetShowMoreInfo((prev) => !prev)\n\t}\n\n\treturn (\n\t\t<Box margin='0 0 10px 0'>\n\t\t\t<div className={styles.info}>\n\t\t\t\t<div className={styles.info__top}>\n\t\t\t\t\t<div className={styles.info__name}>{fullName}</div>\n\t\t\t\t\t<StatusContainer isAuthUserProfile={isAuthUserProfile} userId={userId} />\n\t\t\t\t</div>\n\t\t\t\t<InfoShort\n\t\t\t\t\taboutMe={aboutMe}\n\t\t\t\t\tisShowInfo={isShowMoreInfo}\n\t\t\t\t\thandleToggleMoreInfo={handleToggleMoreInfo}\n\t\t\t\t/>\n\t\t\t\t<InfoFull\n\t\t\t\t\tisShowInfo={isShowMoreInfo}\n\t\t\t\t\tcontacts={contacts}\n\t\t\t\t\tlookingForAJob={lookingForAJob}\n\t\t\t\t\tlookingForAJobDescription={lookingForAJobDescription}\n\t\t\t\t\tisAuthUserProfile={isAuthUserProfile}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Box>\n\t)\n}\n\nexport default Info\n","import React, { useState } from 'react'\nimport Box from '../../../UI/Box/Box'\nimport Button from '../../../UI/Button/Button'\n\nimport styles from './CreatePost.module.scss'\n\nconst CreatePost = React.forwardRef(({ addPost, isOpenCreatePost, openCreatePost }, ref) => {\n\tconst [postText, setPostText] = useState('')\n\n\tconst isActiveCreatePost = postText.length > 0 || isOpenCreatePost ? styles.active : ''\n\tconst isDisabledButton = postText.length < 1\n\n\tconst handleChangePost = (e) => {\n\t\tsetPostText(e.target.value)\n\t}\n\n\tconst handleAddPost = () => {\n\t\taddPost(postText)\n\t\tsetPostText('')\n\t}\n\n\treturn (\n\t\t<form ref={ref} className={isActiveCreatePost}>\n\t\t\t<Box margin={'10px 0'}>\n\t\t\t\t<textarea\n\t\t\t\t\tclassName={styles.createPost__textarea}\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='newPost'\n\t\t\t\t\tid='newPost'\n\t\t\t\t\tplaceholder='Что у вас нового?'\n\t\t\t\t\tvalue={postText}\n\t\t\t\t\tonFocus={openCreatePost}\n\t\t\t\t\tonChange={handleChangePost}\n\t\t\t\t/>\n\t\t\t\t<div className={styles.createPost__wrapperButton}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName={styles.createPost__button}\n\t\t\t\t\t\tw='min-content'\n\t\t\t\t\t\tdisabled={isDisabledButton}\n\t\t\t\t\t\tonClick={handleAddPost}\n\t\t\t\t\t>\n\t\t\t\t\t\tОтправить\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t</form>\n\t)\n})\n\nCreatePost.displayName = 'CreatePost'\n\nexport default CreatePost\n","import React, { useEffect, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { v1 as uuidv1 } from 'uuid'\n\nimport { openCreatePost, closeCreatePost } from '../../../../redux/slices/profileSlice'\nimport CreatePost from './CreatePost'\n\nconst CreatePostContainer = ({ setPosts, posts }) => {\n\tconst createPostRef = useRef()\n\tconst dispatch = useDispatch()\n\tconst {\n\t\tprofile: { userId },\n\t\tisOpenCreatePost,\n\t} = useSelector((state) => state.profile)\n\n\tconst handleOpenCreatePost = () => {\n\t\tdispatch(openCreatePost())\n\t}\n\n\tconst handleCloseCreatePost = () => {\n\t\tdispatch(closeCreatePost())\n\t}\n\n\tconst handleAddPost = (text) => {\n\t\tconst post = {\n\t\t\tid: uuidv1(),\n\t\t\tuserId,\n\t\t\ttext,\n\t\t\tdate: Date.now(),\n\t\t\tusersIdLiked: [],\n\t\t}\n\t\tconst newPosts = [...posts]\n\t\tnewPosts.push(post)\n\t\tsetPosts(newPosts)\n\t}\n\n\tconst handleOutsideClick = (event) => {\n\t\tconst path = event.path || (event.composedPath && event.composedPath())\n\t\tif (!path.includes(createPostRef.current)) {\n\t\t\thandleCloseCreatePost()\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tdocument.body.addEventListener('click', handleOutsideClick)\n\t\treturn () => {\n\t\t\tdocument.body.removeEventListener('click', handleOutsideClick)\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<CreatePost\n\t\t\tref={createPostRef}\n\t\t\taddPost={handleAddPost}\n\t\t\tisOpenCreatePost={isOpenCreatePost}\n\t\t\topenCreatePost={handleOpenCreatePost}\n\t\t/>\n\t)\n}\n\nexport default CreatePostContainer\n","import React, { useState } from 'react'\n\nimport { FaHeart, FaRegHeart } from 'react-icons/fa'\n\nimport styles from './LikeButton.module.scss'\n\nconst LikeButton = ({ isLiked, toggleLike }) => {\n\tconst [isAnimate, setIsAnimate] = useState(false)\n\tconst classLiked = isLiked ? styles.liked : styles.notLiked\n\tconst classAnimation = isLiked && isAnimate ? styles.animation : ''\n\n\tconst handleToggleLike = () => {\n\t\ttoggleLike()\n\t\tif (!isAnimate) {\n\t\t\tsetIsAnimate(true)\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${styles.likeWrapper} ${classLiked} ${classAnimation}`}\n\t\t\tonClick={handleToggleLike}\n\t\t>\n\t\t\t<div className={styles.iconWrapper}>\n\t\t\t\t{isLiked && <FaHeart className={styles.IconLiked} />}\n\t\t\t\t{!isLiked && <FaRegHeart className={styles.IconNotLiked} />}\n\t\t\t</div>\n\t\t\t<button className={`${styles.likeButton}`}>Нравиться</button>\n\t\t</div>\n\t)\n}\n\nexport default LikeButton\n","import React from 'react'\nimport { FaHeart } from 'react-icons/fa'\nimport styles from './LikeCount.module.scss'\n\nconst LikeCount = ({ likesCount }) => {\n\treturn (\n\t\t<div className={styles.likes}>\n\t\t\t<div className={styles.iconWrapper}>\n\t\t\t\t<FaHeart className={styles.likesCount__icon} />\n\t\t\t</div>\n\t\t\t<div className={styles.likesCount}>{likesCount}</div>\n\t\t</div>\n\t)\n}\n\nexport default LikeCount\n","import React from 'react'\n\nimport LikeButton from '../LikeButton/LikeButton'\nimport LikeCount from '../LikeCount/LikeCount'\n\nimport styles from './PostItemFooter.module.scss'\n\nconst PostItemFooter = ({ post, profile, toggleLike }) => {\n\tconst isLiked = post.usersIdLiked.includes(profile.userId)\n\tconst likesCount = post.usersIdLiked.length\n\n\tconst handleToggleLike = () => {\n\t\ttoggleLike({ postId: post.id, userId: profile.userId })\n\t}\n\n\treturn (\n\t\t<div className={styles.footer}>\n\t\t\t<LikeButton isLiked={isLiked} toggleLike={handleToggleLike} />\n\t\t\t{likesCount > 0 && <LikeCount likesCount={likesCount} />}\n\t\t</div>\n\t)\n}\n\nexport default PostItemFooter\n","export const checkDate = (checkingDate, verificationDate) => {\r\n\tif (typeof verificationDate === 'string') {\r\n\t\tverificationDate =\r\n\t\t\tverificationDate === 'сегодня' || verificationDate === 'tooday'\r\n\t\t\t\t? new Date()\r\n\t\t\t\t: verificationDate\r\n\t\tverificationDate =\r\n\t\t\tverificationDate === 'вчера' || verificationDate === 'yesterday'\r\n\t\t\t\t? getYesterday(new Date())\r\n\t\t\t\t: verificationDate\r\n\t} else if (typeof verificationDate === 'number') {\r\n\t\tverificationDate = new Date(verificationDate)\r\n\t}\r\n\r\n\treturn checkingDate.setHours(0, 0, 0, 0) === verificationDate.setHours(0, 0, 0, 0)\r\n}\r\n\r\nfunction getYesterday(d) {\r\n\td.setDate(d.getDate() - 1)\r\n\treturn d\r\n}\r\n","import React from 'react'\n\nimport Box from '../../../../UI/Box/Box'\nimport Avatar from '../../../../UI/Avatar/Avatar'\nimport PostItemFooter from './PostItemFooter/PostItemFooter'\nimport { checkDate } from '../../../../../utils/checkDate'\n\nimport styles from '../post.module.scss'\n\nconst PostItem = ({ post, profile, toggleLike }) => {\n\tconst date = new Date(post.date)\n\tconst options = {\n\t\tday: 'numeric',\n\t\tmonth: 'long',\n\t\tyear: 'numeric',\n\t}\n\tlet postDate = date.toLocaleString('ru', options)\n\tpostDate = checkDate(date, 'сегодня') ? 'сегодня' : postDate\n\tpostDate = checkDate(date, 'вчера') ? 'вчера' : postDate\n\n\treturn (\n\t\t<Box className={styles.post}>\n\t\t\t<article>\n\t\t\t\t<div className={styles.post__header}>\n\t\t\t\t\t<Avatar photo={profile.photos?.small} margin='0 10px 0 0' />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={styles.post__name}>{profile.fullName}</div>\n\t\t\t\t\t\t<div className={styles.post__date}>{postDate}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.post__text}>{post.text}</div>\n\t\t\t\t<PostItemFooter toggleLike={toggleLike} post={post} profile={profile} />\n\t\t\t</article>\n\t\t</Box>\n\t)\n}\n\nexport default PostItem\n","import React from 'react'\n\nimport { useSelector } from 'react-redux'\nimport PostItem from './PostItem'\n\nconst PostItemContainer = ({ post, setPosts, posts }) => {\n\tconst profile = useSelector((state) => state.profile.profile)\n\n\tconst toggleLike = ({ postId, userId }) => {\n\t\tconst newPosts = [...posts]\n\t\tnewPosts.forEach((p) => {\n\t\t\tif (p.id === postId) {\n\t\t\t\tlet isInclude = false\n\t\t\t\tp.usersIdLiked = p.usersIdLiked.filter((likeId) => {\n\t\t\t\t\tif (likeId === userId) isInclude = true\n\t\t\t\t\treturn likeId !== userId\n\t\t\t\t})\n\t\t\t\tif (!isInclude) p.usersIdLiked.push(userId)\n\t\t\t}\n\t\t})\n\t\tsetPosts(newPosts)\n\t}\n\n\treturn <PostItem post={post} profile={profile} toggleLike={toggleLike} />\n}\n\nexport default PostItemContainer\n","import React from 'react'\nimport PostItemContainer from './PostItem/PostItemContainer'\n\nimport styles from './post.module.scss'\n\nconst PostList = ({ posts, setPosts }) => {\n\tconst postItems = posts\n\t\t.slice()\n\t\t.reverse()\n\t\t.map((p, index) => <PostItemContainer key={index} post={p} setPosts={setPosts} posts={posts} />)\n\n\treturn <div styles={styles.post_list}>{postItems}</div>\n}\n\nexport default PostList\n","import React from 'react'\nimport { FaRegNewspaper } from 'react-icons/fa'\nimport Box from '../../../../UI/Box/Box'\n\nimport styles from './NoPosts.module.scss'\n\nconst NoPosts = () => {\n\treturn (\n\t\t<Box className={styles.noPosts} padding='0'>\n\t\t\t<div className={styles.noPosts__header}>Нет постов</div>\n\t\t\t<div className={styles.noPosts__content}>\n\t\t\t\t<div className={styles.noPosts__icon}>\n\t\t\t\t\t<FaRegNewspaper />\n\t\t\t\t</div>\n\t\t\t\t<div>Пока нет ни одного поста</div>\n\t\t\t</div>\n\t\t</Box>\n\t)\n}\n\nexport default NoPosts\n","import { useState } from 'react'\r\n\r\nexport const useLocalStorage = (key, initialValue) => {\r\n\t// State to store our value\r\n\t// Pass initial state function to useState so logic is only executed once\r\n\tconst [storedValue, setStoredValue] = useState(() => {\r\n\t\ttry {\r\n\t\t\t// Get from local storage by key\r\n\t\t\tconst item = window.localStorage.getItem(key)\r\n\t\t\t// Parse stored json or if none return initialValue\r\n\t\t\treturn item ? JSON.parse(item) : initialValue\r\n\t\t} catch (error) {\r\n\t\t\t// If error also return initialValue\r\n\t\t\t// console.log(error)\r\n\t\t\treturn initialValue\r\n\t\t}\r\n\t})\r\n\t// Return a wrapped version of useState's setter function that ...\r\n\t// ... persists the new value to localStorage.\r\n\tconst setValue = (value) => {\r\n\t\ttry {\r\n\t\t\t// Allow value to be a function so we have same API as useState\r\n\t\t\tconst valueToStore =\r\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value\r\n\t\t\t// Save state\r\n\t\t\tsetStoredValue(valueToStore)\r\n\t\t\t// Save to local storage\r\n\t\t\twindow.localStorage.setItem(key, JSON.stringify(valueToStore))\r\n\t\t} catch (error) {\r\n\t\t\t// A more advanced implementation would handle the error case\r\n\t\t\t// console.log(error)\r\n\t\t}\r\n\t}\r\n\treturn [storedValue, setValue]\r\n}\r\n","import React, { useEffect } from 'react'\nimport Info from './Info/Info'\nimport CreatePostContainer from './CreatePost/CreatePostContainer'\nimport PostList from './Post/PostList'\nimport NoPosts from './Post/NoPosts/NoPosts'\nimport { useSelector } from 'react-redux'\nimport { useLocalStorage } from '../../../hooks/useLocalStorage'\n\nimport styles from '../Profile/profile.module.scss'\n\nconst Content = ({ profile, isAuthUserProfile }) => {\n\tconst defaultPosts = [\n\t\t{\n\t\t\tid: 1,\n\t\t\tuserId: 14640,\n\t\t\ttext: 'Едва ли ни единственное, что можно сказать твердо о том, как прожить классную жизнь — надо обязательно делать то, что нужно…и не делать того, чего не нужно. От этого и будем отталкиваться.',\n\t\t\tdate: 1559854800000,\n\t\t\tlikeCount: 7,\n\t\t\tusersIdLiked: [1234, 312, 454, 4534],\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\tuserId: 14640,\n\t\t\ttext: 'Да. Теперь я официально могу танцевать, когда моё приложение работает, и плакать, когда не работает, потому что, теперь я работаю из дома. Раньше мне приходилось скрывать свои чувства.',\n\t\t\tdate: 1637235449721,\n\t\t\tlikeCount: 13,\n\t\t\tusersIdLiked: [5454, 654, 645, 756, 7456, 756, 765],\n\t\t},\n\t\t{\n\t\t\tid: 3,\n\t\t\tuserId: 14640,\n\t\t\ttext: 'Чтобы понять рекурсию, нужно сперва понять рекурсию.',\n\t\t\tdate: 1637269200000,\n\t\t\tlikeCount: 13,\n\t\t\tusersIdLiked: [5454, 654, 645, 756, 7456, 756, 765, 545, 6532, 5344],\n\t\t},\n\t]\n\tconst authId = useSelector((state) => state.auth.userId)\n\tconst [posts, setPosts] = useLocalStorage(`post${authId}`, defaultPosts)\n\n\tuseEffect(() => {}, posts)\n\n\treturn (\n\t\t<div className={styles.profile__content}>\n\t\t\t<Info {...profile} isAuthUserProfile={isAuthUserProfile} />\n\t\t\t{isAuthUserProfile && <CreatePostContainer setPosts={setPosts} posts={posts} />}\n\t\t\t{isAuthUserProfile ? <PostList posts={posts} setPosts={setPosts} /> : <NoPosts />}\n\t\t</div>\n\t)\n}\n\nexport default Content\n","import React from 'react'\nimport Box from '../Box/Box'\nimport styled from 'styled-components'\n\nconst Title = styled.h4`\n\tfont-size: ${(props) => (props.fontSize ? props.fontSize : '1.4rem')};\n`\nconst MessageBlock = ({ children, fontSize, background }) => {\n\treturn (\n\t\t<Box background={background} boxShadow='none' padding='50px 0 0 0' textAlign='center'>\n\t\t\t<Title fontSize={fontSize}>{children}</Title>\n\t\t</Box>\n\t)\n}\n\nexport default MessageBlock\n","import React from 'react'\n\nimport Side from '../Side/Side'\nimport Content from '../Content/Content'\nimport MessageBlock from '../../UI/MessageBlock/MessageBlock'\nimport CircleLoader from '../../UI/Loader/CircleLoader/CircleLoader'\n\nimport styles from './profile.module.scss'\nimport commonStyles from '../../../styles/commonStyles.module.scss'\n\nconst Profile = ({ profile, error, isLoading, isAuthUserProfile }) => {\n\treturn (\n\t\t<>\n\t\t\t{error && <MessageBlock>{error}</MessageBlock>}\n\t\t\t{!error &&\n\t\t\t\t(profile && !isLoading ? (\n\t\t\t\t\t<div className={styles.profile}>\n\t\t\t\t\t\t<Side isAuthUserProfile={isAuthUserProfile} userId={profile.userId} />\n\t\t\t\t\t\t<Content profile={profile} isAuthUserProfile={isAuthUserProfile} />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className={commonStyles.emptyBlock}>\n\t\t\t\t\t\t<CircleLoader />\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport default Profile\n","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\n\nimport Profile from './Profile'\nimport { fetchProfile } from '../../../redux/actions/profileAction'\n\nconst ProfileContainer = () => {\n\tconst dispatch = useDispatch()\n\tconst profileData = useSelector((state) => state.profile)\n\tconst authUserId = useSelector((state) => state.auth.userId)\n\tconst { userId: currentUserId } = useParams()\n\tconst userId = currentUserId ? currentUserId : authUserId\n\tconst isAuthUserProfile = authUserId === userId\n\n\tuseEffect(() => {\n\t\tif (userId) {\n\t\t\tdispatch(fetchProfile({ id: userId, isAuthUserProfile }))\n\t\t}\n\t}, [userId])\n\n\treturn <Profile {...profileData} isAuthUserProfile={isAuthUserProfile} />\n}\n\nexport default ProfileContainer\n","import React from 'react'\r\nimport ProfileContainer from '../components/ProfilePage/Profile/ProfileContainer'\r\n\r\nconst ProfilePage = () => {\r\n    return <ProfileContainer/>\r\n}\r\n\r\nexport default ProfilePage\r\n","import React from 'react'\nimport { Field } from 'formik'\n\nimport styles from '../../Settings.module.scss'\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\n\nconst MainBlock = ({ title, header, formik }) => {\n\treturn (\n\t\t<>\n\t\t\t{header && (\n\t\t\t\t<div className={commonStyle.title}>\n\t\t\t\t\t<h4 className={commonStyle.title__header}>Обо мне</h4>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className={styles.form__block}>\n\t\t\t\t{title && <div className={styles.form__subheader}>Обо мне</div>}\n\t\t\t\t{formik.touched.fullName && formik.errors.fullName ? (\n\t\t\t\t\t<div className={styles.form__errorRow}>\n\t\t\t\t\t\t<span />\n\t\t\t\t\t\t<span className={commonStyle.form__error}>{formik.errors.fullName}</span>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t\t<label className={styles.form__row}>\n\t\t\t\t\t<span className={styles.form__title}>Никнейм:</span>\n\t\t\t\t\t<Field className={commonStyle.form__input} name='fullName' type='text' />\n\t\t\t\t</label>\n\t\t\t\t<label className={`${styles.form__row} ${styles.alignStart}`}>\n\t\t\t\t\t<span className={styles.form__title}>Oбо мне:</span>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tclassName={commonStyle.form__textarea}\n\t\t\t\t\t\tcomponent='textarea'\n\t\t\t\t\t\tname='aboutMe'\n\t\t\t\t\t\ttype='textarea'\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default MainBlock\n","import React from 'react'\nimport { Field } from 'formik'\n\nimport styles from '../../Settings.module.scss'\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\n\nconst WorkBlock = ({\n\ttitle,\n\theader,\n\tlookingForAJobSettings: { handlerTrue, handlerFalse, isLookingFor },\n}) => {\n\treturn (\n\t\t<>\n\t\t\t{header && (\n\t\t\t\t<div className={commonStyle.title}>\n\t\t\t\t\t<h4 className={commonStyle.title__header}>Работа</h4>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className={styles.form__block}>\n\t\t\t\t{title && <div className={styles.form__subheader}>Работа</div>}\n\t\t\t\t<label className={styles.form__row}>\n\t\t\t\t\t<span className={styles.form__title}>Ищу работу:</span>\n\t\t\t\t\t<div className={styles.form__radioGroup} role='group' aria-labelledby='my-radio-group'>\n\t\t\t\t\t\t<label className={styles.form__radioLabel} onClick={handlerTrue}>\n\t\t\t\t\t\t\t<Field type='radio' name='lookingForAJob' value={true} checked={isLookingFor} />\n\t\t\t\t\t\t\t<span className={styles.form__radioValue}>Да</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label className={styles.form__radioLabel} onClick={handlerFalse}>\n\t\t\t\t\t\t\t<Field type='radio' name='lookingForAJob' value={false} checked={!isLookingFor} />\n\t\t\t\t\t\t\t<span className={styles.form__radioValue}>Нет</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<label className={`${styles.form__row} ${styles.alignStart}`}>\n\t\t\t\t\t<span className={styles.form__title}>Описание:</span>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tclassName={commonStyle.form__textarea}\n\t\t\t\t\t\tcomponent='textarea'\n\t\t\t\t\t\tname='lookingForAJobDescription'\n\t\t\t\t\t\ttype='textarea'\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default WorkBlock\n","import React from 'react'\nimport { Field } from 'formik'\n\nimport styles from '../../Settings.module.scss'\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\n\nconst ContactField = ({ formik, name, type = 'text' }) => {\n\treturn (\n\t\t<>\n\t\t\t{formik.touched[name] && formik.errors[name] ? (\n\t\t\t\t<div className={styles.form__errorRow}>\n\t\t\t\t\t<span />\n\t\t\t\t\t<span className={commonStyle.form__error}>{formik.errors[name]}</span>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t<label className={styles.form__row}>\n\t\t\t\t<span className={styles.form__title}>{name}:</span>\n\t\t\t\t<Field className={commonStyle.form__input} name={name} type={type} />\n\t\t\t</label>\n\t\t</>\n\t)\n}\n\nexport default ContactField\n","import React from 'react'\n\nimport ContactField from '../ContactField/ContactField'\n\nimport styles from '../../Settings.module.scss'\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\n\nconst ContactsBlock = ({ title, header, formik }) => {\n\treturn (\n\t\t<>\n\t\t\t{header && (\n\t\t\t\t<div className={commonStyle.title}>\n\t\t\t\t\t<h4 className={commonStyle.title__header}>Контакты</h4>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className={styles.form__block}>\n\t\t\t\t{title && <div className={styles.form__subheader}>Контакты</div>}\n\t\t\t\t<ContactField name='github' formik={formik} />\n\t\t\t\t<ContactField name='vk' formik={formik} />\n\t\t\t\t<ContactField name='facebook' formik={formik} />\n\t\t\t\t<ContactField name='instagram' formik={formik} />\n\t\t\t\t<ContactField name='twitter' formik={formik} />\n\t\t\t\t<ContactField name='website' formik={formik} />\n\t\t\t\t<ContactField name='youtube' formik={formik} />\n\t\t\t\t<ContactField name='mainLink' formik={formik} />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default ContactsBlock\n","import React from 'react'\r\n\r\nimport MainBlock from '../MainBlock/MainBlock'\r\nimport WorkBlock from '../WorkBlock/WorkBlock'\r\nimport ContactsBlock from '../ContactsBlock/ContactsBlock'\r\n\r\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\r\n\r\nconst AllBlocks = ({ lookingForAJobSettings, formik }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={commonStyle.title}>\r\n\t\t\t\t<h4 className={commonStyle.title__header}>Все настройки</h4>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<MainBlock title formik={formik} />\r\n\t\t\t\t<WorkBlock title lookingForAJobSettings={lookingForAJobSettings} />\r\n\t\t\t\t<ContactsBlock title formik={formik} />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default AllBlocks\r\n","import React, { useState } from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport { Formik } from 'formik'\n\nimport Button from '../../UI/Button/Button'\nimport AllBlocks from './AllBlocks.jsx/AllBlocks'\nimport WorkBlock from './WorkBlock/WorkBlock'\nimport ContactsBlock from './ContactsBlock/ContactsBlock'\nimport MainBlock from './MainBlock/MainBlock'\nimport ItemsLoader from '../../UI/Loader/ItemsLoader/ItemsLoader'\n\nimport styles from '../Settings.module.scss'\n\nconst SettingsForm = ({ initialValues, handleOnSubmit, isUpdatingProfile, validationSchema }) => {\n\tconst [lookingForAJob, setLookingForAJob] = useState(initialValues.lookingForAJob)\n\n\tconst handleIsLookingForTrue = () => {\n\t\tsetLookingForAJob(true)\n\t}\n\n\tconst handleIsLookingForFalse = () => {\n\t\tsetLookingForAJob(false)\n\t}\n\n\tconst lookingForAJobSettings = {\n\t\tisLookingFor: lookingForAJob,\n\t\thandlerTrue: handleIsLookingForTrue,\n\t\thandlerFalse: handleIsLookingForFalse,\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tonSubmit={handleOnSubmit}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t>\n\t\t\t\t{(formik) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<form onSubmit={formik.handleSubmit} className={styles.form}>\n\t\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath='/'\n\t\t\t\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t\t\t\t<AllBlocks lookingForAJobSettings={lookingForAJobSettings} formik={formik} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route path='/main' element={<MainBlock header formik={formik} />} />\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath='/work'\n\t\t\t\t\t\t\t\t\telement={<WorkBlock header lookingForAJobSettings={lookingForAJobSettings} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route path='/contacts' element={<ContactsBlock header formik={formik} />} />\n\t\t\t\t\t\t\t</Routes>\n\n\t\t\t\t\t\t\t<div className={styles.form__button}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tminWidth='100px'\n\t\t\t\t\t\t\t\t\tdisabled={isUpdatingProfile || !formik.isValid}\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tw='fit-content'\n\t\t\t\t\t\t\t\t\tp='6px 20px 7px'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isUpdatingProfile ? <ItemsLoader dots /> : 'Сохранить'}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Formik>\n\t\t</>\n\t)\n}\n\nexport default SettingsForm\n","import React from 'react'\r\n\r\nimport * as Yup from 'yup'\r\nimport { useSelector } from 'react-redux'\r\nimport SettingsForm from './SettingsForm'\r\nimport { profileService } from '../../../api/services/profileService'\r\n\r\nconst SettingsFormContainer = () => {\r\n\tconst [updateProfile, { isLoading: isUpdatingProfile }] =\r\n\t\tprofileService.useUpdateProfileMutation()\r\n\r\n\tconst {\r\n\t\tfullName,\r\n\t\taboutMe,\r\n\t\tuserId,\r\n\t\tlookingForAJob,\r\n\t\tlookingForAJobDescription,\r\n\t\tcontacts: { github, vk, facebook, instagram, twitter, website, youtube, mainLink },\r\n\t} = useSelector((state) => state.profile.authProfile)\r\n\r\n\tconst initialValues = {\r\n\t\tuserId,\r\n\t\tfullName,\r\n\t\taboutMe,\r\n\t\tlookingForAJob,\r\n\t\tlookingForAJobDescription,\r\n\t\tgithub,\r\n\t\tvk,\r\n\t\tfacebook,\r\n\t\tinstagram,\r\n\t\ttwitter,\r\n\t\twebsite,\r\n\t\tyoutube,\r\n\t\tmainLink,\r\n\t}\r\n\r\n\tconst regExpURL =\r\n\t\t/^((https?):\\/\\/)?(www.)?[a-z0-9-]+(\\.[a-z]{2,}){1,3}(#?\\/?[a-zA-Z0-9#-]+)*\\/?(\\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/i\r\n\tconst validationSchema = Yup.object({\r\n\t\tfullName: Yup.string().min(2, 'Минимум 2 символа').required('Обязательное поле'),\r\n\t\tgithub: Yup.lazy((value) =>\r\n\t\t\t!value ? Yup.string() : Yup.string().matches(regExpURL, 'Некорректная ссылка'),\r\n\t\t),\r\n\t\tvk: Yup.lazy((value) =>\r\n\t\t\t!value ? Yup.string() : Yup.string().matches(regExpURL, 'Некорректная ссылка'),\r\n\t\t),\r\n\t\tfacebook: Yup.lazy((value) =>\r\n\t\t\t!value ? Yup.string() : Yup.string().matches(regExpURL, 'Некорректная ссылка'),\r\n\t\t),\r\n\t\tinstagram: Yup.lazy((value) =>\r\n\t\t\t!value ? Yup.string() : Yup.string().matches(regExpURL, 'Некорректная ссылка'),\r\n\t\t),\r\n\t\ttwitter: Yup.lazy((value) =>\r\n\t\t\t!value ? Yup.string() : Yup.string().matches(regExpURL, 'Некорректная ссылка'),\r\n\t\t),\r\n\t\twebsite: Yup.lazy((value) =>\r\n\t\t\t!value ? Yup.string() : Yup.string().matches(regExpURL, 'Некорректная ссылка'),\r\n\t\t),\r\n\t\tyoutube: Yup.lazy((value) =>\r\n\t\t\t!value ? Yup.string() : Yup.string().matches(regExpURL, 'Некорректная ссылка'),\r\n\t\t),\r\n\t\tmainLink: Yup.lazy((value) =>\r\n\t\t\t!value ? Yup.string() : Yup.string().matches(regExpURL, 'Некорректная ссылка'),\r\n\t\t),\r\n\t})\r\n\r\n\tconst handleOnSubmit = ({\r\n\t\tuserId,\r\n\t\tfullName,\r\n\t\taboutMe,\r\n\t\tlookingForAJob,\r\n\t\tlookingForAJobDescription,\r\n\t\tgithub,\r\n\t\tvk,\r\n\t\tfacebook,\r\n\t\tinstagram,\r\n\t\ttwitter,\r\n\t\twebsite,\r\n\t\tyoutube,\r\n\t\tmainLink,\r\n\t}) => {\r\n\t\tconst result = {\r\n\t\t\tuserId,\r\n\t\t\tfullName,\r\n\t\t\taboutMe,\r\n\t\t\tlookingForAJob,\r\n\t\t\tlookingForAJobDescription,\r\n\t\t\tcontacts: {\r\n\t\t\t\tgithub,\r\n\t\t\t\tvk,\r\n\t\t\t\tfacebook,\r\n\t\t\t\tinstagram,\r\n\t\t\t\ttwitter,\r\n\t\t\t\twebsite,\r\n\t\t\t\tyoutube,\r\n\t\t\t\tmainLink,\r\n\t\t\t},\r\n\t\t}\r\n\t\tupdateProfile(result)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SettingsForm\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tinitialValues={initialValues}\r\n\t\t\thandleOnSubmit={handleOnSubmit}\r\n\t\t\tisUpdatingProfile={isUpdatingProfile}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default SettingsFormContainer\r\n","import React from 'react'\nimport Box from '../../UI/Box/Box'\nimport SettingsFormContainer from '../SettingsForm/SettingsFormContainer'\nimport { useSelector } from 'react-redux'\n\nconst Content = () => {\n\tconst { isInitial } = useSelector((state) => state.profile)\n\n\treturn (\n\t\t<Box padding='0 0 15px 0'>{isInitial && <SettingsFormContainer />}</Box>\n\t)\n}\n\nexport default Content\n","import React from 'react'\nimport { Link, useMatch, useResolvedPath } from 'react-router-dom'\n\nimport styles from './CustomLink.module.scss'\n\nconst CustomLink = ({ children, to, ...props }) => {\n\tlet resolved = useResolvedPath(to)\n\tlet match = useMatch({ path: resolved.pathname, end: true })\n\n\treturn (\n\t\t<Link\n\t\t\tclassName={match ? `${styles.menu__item} ${styles.active}` : `${styles.menu__item}`}\n\t\t\tto={to}\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Link>\n\t)\n}\n\nexport default CustomLink\n","import React from 'react'\n\nimport Box from '../../UI/Box/Box'\nimport CustomLink from '../../UI/CustomLink/CustomLink'\n\nimport styles from '../../UI/CustomLink/CustomLink.module.scss'\n\nconst Side = () => {\n\treturn (\n\t\t<Box>\n\t\t\t<nav className={styles.menu}>\n\t\t\t\t<ul className={styles.menu__list}>\n\t\t\t\t\t<CustomLink to='/settings'>Все настройки</CustomLink>\n\t\t\t\t\t<CustomLink to='main'>Обо мне</CustomLink>\n\t\t\t\t\t<CustomLink to='work'>Работа</CustomLink>\n\t\t\t\t\t<CustomLink to='contacts'>Контакты</CustomLink>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</Box>\n\t)\n}\n\nexport default Side\n","import React from 'react'\n\nimport Content from './Content/Content'\nimport Side from './Side/Side'\n\nimport styles from './Settings.module.scss'\n\nconst Settings = () => {\n\treturn (\n\t\t<div className={styles.settings}>\n\t\t\t<Content />\n\t\t\t<Side />\n\t\t</div>\n\t)\n}\n\nexport default Settings\n","import React from 'react'\nimport Settings from '../components/SettingsPage/Settings'\n\nconst SettingsPage = () => {\n\treturn <Settings />\n}\n\nexport default SettingsPage\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Box from '../../../../UI/Box/Box'\n\nimport styles from '../FriendsItem.module.scss'\n\nconst Menu = ({ friend, unfollow }) => {\n\tconst styleBox = {\n\t\tposition: 'absolute',\n\t\ttop: '100%',\n\t\tright: '-25px',\n\t\tminWidth: '200px',\n\t\tpadding: '5px 0',\n\t\ttransform: ' translateY(10px)',\n\t\tvisibility: 'hidden',\n\t\topacity: '0',\n\t\ttransition: 'opacity 200ms linear, transform 200ms linear, visibility 200ms linear',\n\t}\n\n\treturn (\n\t\t<div className={styles.friend__icon}>\n\t\t\t<svg width='20' height='12'>\n\t\t\t\t<circle cy='6' cx='3' r='2' fill='currentColor' />\n\t\t\t\t<circle cy='6' cx='10' r='2' fill='currentColor' />\n\t\t\t\t<circle cy='6' cx='17' r='2' fill='currentColor' />\n\t\t\t</svg>\n\t\t\t<Box {...styleBox} className={styles.menu}>\n\t\t\t\t<div className={styles.menu__triangle} />\n\t\t\t\t<ul className={styles.menu__list}>\n\t\t\t\t\t<Link className={styles.menu__item} to={`/profile/${friend.id}`}>\n\t\t\t\t\t\tПосмотреть профиль\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button className={styles.menu__item} onClick={unfollow}>\n\t\t\t\t\t\tУдалить из друзей\n\t\t\t\t\t</button>\n\t\t\t\t</ul>\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default Menu\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport noAvatar from '../../../../assets/images/no_avatar.png'\n\nimport styles from './FriendsItem.module.scss'\n\nconst Avatar = ({ friend }) => {\n\tconst avatar = friend.photos.large ? friend.photos.large : noAvatar\n\n\treturn (\n\t\t<div className={styles.friend__avatar}>\n\t\t\t<Link to={`/profile/${friend.id}`}>\n\t\t\t\t<img src={avatar} alt='avatar' />\n\t\t\t</Link>\n\t\t</div>\n\t)\n}\n\nexport default Avatar\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport styles from './FriendsItem.module.scss'\n\nconst Info = ({ friend }) => {\n\tconst status = friend.status ? friend.status : ''\n\n\treturn (\n\t\t<div className={styles.friend__info}>\n\t\t\t<div className={styles.friend__name}>\n\t\t\t\t<Link to={`/profile/${friend.id}`}>{friend.name}</Link>\n\t\t\t</div>\n\t\t\t{status && <div className={styles.friend__status}>{status}</div>}\n\t\t\t<div className={styles.friend__message}>\n\t\t\t\t<Link to={`/dialogs/${friend.id}`}>Написать сообщение</Link>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Info\n","import React from 'react'\nimport CircleLoader from '../../../UI/Loader/CircleLoader/CircleLoader'\nimport Menu from './Menu/Menu'\nimport Avatar from './Avatar'\nimport Info from './Info'\n\nimport styles from './FriendsItem.module.scss'\n\nconst FriendsItem = ({ friend, follow, unfollow, isLoading }) => {\n\tconst classUnfollowed = friend.followed ? '' : styles.unfollowed\n\n\treturn (\n\t\t<li className={`${styles.friend} ${classUnfollowed}`}>\n\t\t\t<Avatar friend={friend} />\n\t\t\t<Info friend={friend} />\n\t\t\t<div className={styles.friend__dots}>\n\t\t\t\t{isLoading ? (\n\t\t\t\t\t<CircleLoader />\n\t\t\t\t) : friend.followed ? (\n\t\t\t\t\t<Menu friend={friend} unfollow={unfollow} />\n\t\t\t\t) : (\n\t\t\t\t\t<span className={styles.friend__cancel} onClick={follow}>\n\t\t\t\t\t\tОтмена\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</li>\n\t)\n}\n\nexport default FriendsItem\n","import React from 'react'\r\nimport FriendsItem from './FriendsItem'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {followFriend, unfollowFriend} from '../../../../redux/actions/friendAction'\r\n\r\nconst FriendsItemContainer = ({friend}) => {\r\n    const dispatch = useDispatch()\r\n    const {subscribingInProgress} = useSelector(state => state.friend)\r\n    const isLoading = subscribingInProgress.includes(friend.id)\r\n\r\n\r\n    const follow = () => {\r\n        dispatch(followFriend(friend.id))\r\n    }\r\n\r\n    const unfollow = () => {\r\n        dispatch(unfollowFriend(friend.id))\r\n    }\r\n\r\n    return (\r\n        <FriendsItem friend={friend} isLoading={isLoading} follow={follow} unfollow={unfollow}/>\r\n    )\r\n}\r\n\r\nexport default FriendsItemContainer","import React from 'react'\nimport FriendsItemContainer from '../FriendsItem/FriendsItemContainer'\n\nimport styles from './FriendsList.module.scss'\n\nconst FriendsList = ({ friends }) => {\n\tconst friendsList = friends.map((f) => <FriendsItemContainer key={f.id} friend={f} />)\n\n\treturn <ul className={styles.friends}>{friendsList}</ul>\n}\n\nexport default FriendsList\n","import { useEffect, useRef } from 'react'\n\nexport const useObserver = ({ ref, canLoad, isLoading, currentPage, callback, search }) => {\n\tconst observer = useRef()\n\n\tuseEffect(() => {\n\t\tif (isLoading) return\n\t\tif (observer.current) observer.current.disconnect()\n\n\t\tconst options = {\n\t\t\troot: document,\n\t\t\trootMargin: '0px',\n\t\t\tthreshold: 0,\n\t\t}\n\n\t\tconst cb = (entries, observer) => {\n\t\t\tif (entries[0].isIntersecting && canLoad) {\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\n\t\tobserver.current = new IntersectionObserver(cb, options)\n\t\tobserver.current.observe(ref.current)\n\t\t//eslint-disable-next-line\n\t}, [isLoading, currentPage, search])\n}\n","import React, { useEffect, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { resetFriends } from '../../../../redux/slices/friendSlice'\nimport FriendsList from './FriendsList'\nimport { useObserver } from '../../../../hooks/useObserver'\nimport CircleLoader from '../../../UI/Loader/CircleLoader/CircleLoader'\nimport MessageBlock from '../../../UI/MessageBlock/MessageBlock'\nimport { fetchAllFriends } from '../../../../redux/actions/friendAction'\n\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\n\nconst FriendsListContainer = () => {\n\tconst dispatch = useDispatch()\n\tconst { isLoading, friends, currentPage, totalPages, limit, error, isInit } = useSelector(\n\t\t(state) => state.friend,\n\t)\n\tconst lastElement = useRef()\n\tconst pageRef = useRef(currentPage)\n\n\tuseObserver({\n\t\tref: lastElement,\n\t\tcanLoad: totalPages >= pageRef.current,\n\t\tisLoading,\n\t\tcallback: () => {\n\t\t\tdispatch(fetchAllFriends({ friend: true, count: limit, page: pageRef.current }))\n\t\t\tpageRef.current += 1\n\t\t},\n\t})\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tdispatch(resetFriends())\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<>\n\t\t\t{isInit &&\n\t\t\t\t!error &&\n\t\t\t\t(friends.length ? (\n\t\t\t\t\t<FriendsList friends={friends} />\n\t\t\t\t) : (\n\t\t\t\t\t<MessageBlock>Совпадений не найдено</MessageBlock>\n\t\t\t\t))}\n\t\t\t{isLoading && !error && (\n\t\t\t\t<div className={commonStyle.emptyBlock}>\n\t\t\t\t\t<CircleLoader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{error && <MessageBlock>{error}</MessageBlock>}\n\t\t\t<div style={{ height: '10px' }} ref={lastElement} />\n\t\t</>\n\t)\n}\n\nexport default FriendsListContainer\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport FriendsListContainer from './FriendsList/FriendsListContainer'\nimport Button from '../../UI/Button/Button'\n\nimport commonStyles from '../../../styles/commonStyles.module.scss'\n\nconst MyFriends = () => {\n\tconst { totalFriends, isInit } = useSelector((state) => state.friend)\n\n\treturn (\n\t\t<>\n\t\t\t<div>\n\t\t\t\t<div className={commonStyles.title}>\n\t\t\t\t\t<h4 className={commonStyles.title__header}>\n\t\t\t\t\t\tВсе друзья\n\t\t\t\t\t\t{isInit && (\n\t\t\t\t\t\t\t<span className={commonStyles.title__amount}>{totalFriends}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<NavLink to='/friends/search'>\n\t\t\t\t\t\t<Button fz='0.9rem' h='25px'>\n\t\t\t\t\t\t\tНайти друзей\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<FriendsListContainer />\n\t\t</>\n\t)\n}\n\nexport default MyFriends\n","import React from 'react'\n\nimport styles from './UserPupup.module.scss'\nimport ItemsLoader from '../../../UI/Loader/ItemsLoader/ItemsLoader'\n\nconst UserPupup = ({ unfollow, isLoading }) => {\n\treturn (\n\t\t<div className={styles.popup}>\n\t\t\t{isLoading ? (\n\t\t\t\t<ItemsLoader />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className={styles.popup__title}>Добавлен в друзья</div>\n\t\t\t\t\t<div className={styles.popup__buttonWrapper}>\n\t\t\t\t\t\t<button onClick={unfollow} className={styles.popup__button}>\n\t\t\t\t\t\t\tОтменить\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default UserPupup\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport UserPupup from '../UserPopup/UserPupup'\nimport noAvatar from '../../../../assets/images/no_avatar.png'\n\nimport { FaUserPlus } from 'react-icons/fa'\nimport styles from '../User.module.scss'\n\nconst UserItem = ({ user, follow, unfollow, isLoading }) => {\n\tconst avatar = user.photos.large ? user.photos.large : noAvatar\n\n\treturn (\n\t\t<div className={styles.user__item}>\n\t\t\t<div className={styles.user__avatar}>\n\t\t\t\t<NavLink to={`/profile/${user.id}`}>\n\t\t\t\t\t<img className={styles.user__img} src={avatar} alt='avatar' />\n\t\t\t\t</NavLink>\n\t\t\t\t{(isLoading || user.followed) && <UserPupup unfollow={unfollow} isLoading={isLoading} />}\n\t\t\t</div>\n\t\t\t<div className={styles.user__info}>\n\t\t\t\t<NavLink to={`/profile/${user.id}`} className={styles.user__name}>\n\t\t\t\t\t{user.name}\n\t\t\t\t</NavLink>\n\t\t\t\t<div className={styles.user__button}>\n\t\t\t\t\t{!user.followed && (\n\t\t\t\t\t\t<button onClick={follow} className={styles.user__add}>\n\t\t\t\t\t\t\t<FaUserPlus className={styles.user__icon} />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default UserItem\n","import React from 'react'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { followUser, unfollowUser } from '../../../../redux/actions/userAction'\nimport UserItem from './UserItem'\n\nconst UserItemContainer = ({ user }) => {\n\tconst dispatch = useDispatch()\n\tconst { subscribingInProgress } = useSelector((state) => state.user)\n\tconst isLoading = subscribingInProgress.includes(user.id)\n\n\tconst handleFollow = () => {\n\t\tdispatch(followUser(user.id))\n\t}\n\n\tconst handleUnfollow = (e) => {\n\t\te.stopPropagation()\n\t\tdispatch(unfollowUser(user.id))\n\t}\n\n\treturn (\n\t\t<UserItem\n\t\t\tfollow={handleFollow}\n\t\t\tunfollow={handleUnfollow}\n\t\t\tuser={user}\n\t\t\tisLoading={isLoading}\n\t\t/>\n\t)\n}\n\nexport default UserItemContainer\n","import React from 'react'\nimport UserItemContainer from '../UserItem/UserItemContainer'\n\nimport styles from '../User.module.scss'\n\nconst UserList = ({ users }) => {\n\tconst usersItems = users.map((u) => <UserItemContainer key={u.id} user={u} />)\n\n\treturn <ul className={styles.user__list}>{usersItems}</ul>\n}\n\nexport default UserList\n","import React, { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport UserList from './UserList'\nimport { fetchUsers } from '../../../../redux/actions/userAction'\nimport CircleLoader from '../../../UI/Loader/CircleLoader/CircleLoader'\nimport MessageBlock from '../../../UI/MessageBlock/MessageBlock'\nimport { resetUsers, setSearch } from '../../../../redux/slices/userSlice'\nimport { useObserver } from '../../../../hooks/useObserver'\n\nimport commonStyle from '../../../../styles/commonStyles.module.scss'\n\nconst UserListContainer = () => {\n\tconst dispatch = useDispatch()\n\tconst { users, isLoading, error, isInit, totalPages, currentPage, limit, search } = useSelector(\n\t\t(state) => state.user,\n\t)\n\tconst lastElement = useRef()\n\tconst pageRef = useRef(currentPage)\n\tuseObserver({\n\t\tref: lastElement,\n\t\tcanLoad: totalPages >= pageRef.current,\n\t\tisLoading,\n\t\tcurrentPage: pageRef.current,\n\t\tsearch,\n\t\tcallback: () => {\n\t\t\tdispatch(fetchUsers({ friend: false, count: limit, page: pageRef.current, term: search }))\n\t\t\tpageRef.current++\n\t\t},\n\t})\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tdispatch(resetUsers())\n\t\t\tdispatch(setSearch(''))\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tdispatch(resetUsers())\n\t\tpageRef.current = 1\n\t}, [search])\n\n\tif (error) return <MessageBlock>{error}</MessageBlock>\n\treturn (\n\t\t<>\n\t\t\t{isInit &&\n\t\t\t\t(users.length ? (\n\t\t\t\t\t<UserList users={users} />\n\t\t\t\t) : (\n\t\t\t\t\t<MessageBlock fontSize='1rem'>Ваш запрос не дал результатов</MessageBlock>\n\t\t\t\t))}\n\t\t\t{isLoading && (\n\t\t\t\t<div className={commonStyle.emptyBlock}>\n\t\t\t\t\t<CircleLoader />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className={commonStyle.emptyBlock} ref={lastElement} />\n\t\t</>\n\t)\n}\n\nexport default UserListContainer\n","import React, { useCallback, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { resetUsers, setSearch } from '../../../../redux/slices/userSlice'\nimport { FaSearch } from 'react-icons/fa'\nimport { debounce } from '../../../../utils/debounce'\n\nimport styles from './UserSearch.module.scss'\n\nconst UserSearch = () => {\n\tconst dispatch = useDispatch()\n\tconst { search } = useSelector((state) => state.user)\n\tconst [searchValue, setSearchValue] = useState(search)\n\n\tconst searchDebounce = useCallback(\n\t\tdebounce((value) => {\n\t\t\tdispatch(resetUsers())\n\t\t\tdispatch(setSearch(value))\n\t\t}, 700),\n\t\t[],\n\t)\n\n\tlet handleChange = (e) => {\n\t\tconst { value } = e.target\n\t\tsetSearchValue(value)\n\t\tsearchDebounce(value)\n\t}\n\n\treturn (\n\t\t<label className={styles.search}>\n\t\t\t<FaSearch className={styles.search__icon} />\n\t\t\t<input\n\t\t\t\tvalue={searchValue}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tclassName={styles.search__input}\n\t\t\t\ttype='text'\n\t\t\t\tplaceholder='Поиск друзей'\n\t\t\t/>\n\t\t</label>\n\t)\n}\n\nexport default UserSearch\n","export const debounce = (fn, ms) => {\n\tlet timeout\n\treturn function () {\n\t\tconst fnCall = () => {\n\t\t\tfn.apply(this, arguments)\n\t\t}\n\n\t\tclearTimeout(timeout)\n\n\t\ttimeout = setTimeout(fnCall, ms)\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport UserListContainer from './UserList/UserListContainer'\n\nimport commonStyles from '../../../styles/commonStyles.module.scss'\nimport Button from '../../UI/Button/Button'\nimport { NavLink } from 'react-router-dom'\nimport UserSearch from './UserSearch/UserSearch'\n\nconst Users = () => {\n\tconst { totalUsers, isInit } = useSelector((state) => state.user)\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={commonStyles.title}>\n\t\t\t\t<h4 className={commonStyles.title__header}>\n\t\t\t\t\tНайти друзей\n\t\t\t\t\t{isInit && <span className={commonStyles.title__amount}>{totalUsers}</span>}\n\t\t\t\t</h4>\n\t\t\t\t<NavLink to='/friends'>\n\t\t\t\t\t<Button fz='0.9rem' h='25px'>\n\t\t\t\t\t\tМои друзья\n\t\t\t\t\t</Button>\n\t\t\t\t</NavLink>\n\t\t\t</div>\n\t\t\t<UserSearch />\n\t\t\t<UserListContainer />\n\t\t</div>\n\t)\n}\n\nexport default Users\n","import React from 'react'\r\nimport Box from '../../UI/Box/Box'\r\nimport {Route, Routes} from 'react-router-dom'\r\nimport MyFriends from '../MyFriends/MyFriends'\r\nimport Users from '../User/Users'\r\n\r\nconst Content = () => {\r\n    return (\r\n        <Box padding='0'>\r\n            <Routes>\r\n                <Route path='/search' element={<Users />}/>\r\n                <Route path='/' element={<MyFriends/>}/>\r\n            </Routes>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Content","import React from 'react'\nimport Box from '../../UI/Box/Box'\nimport CustomLink from '../../UI/CustomLink/CustomLink'\n\nimport styles from '../../UI/CustomLink/CustomLink.module.scss'\n\nconst Side = () => {\n\treturn (\n\t\t<Box>\n\t\t\t<nav className={styles.menu}>\n\t\t\t\t<ul className={styles.menu__list}>\n\t\t\t\t\t<CustomLink to='/friends'>Мои друзья</CustomLink>\n\t\t\t\t\t<CustomLink to='/friends/search'>Поиск друзей</CustomLink>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</Box>\n\t)\n}\n\nexport default Side\n","import React from 'react'\nimport Content from './Content/Content'\nimport Side from './Side/Side'\n\nimport styles from './friends.module.scss'\n\nconst Friends = () => {\n\treturn (\n\t\t<div className={styles.friends}>\n\t\t\t<Content />\n\t\t\t<Side />\n\t\t</div>\n\t)\n}\n\nexport default Friends\n","import React from 'react'\nimport Friends from '../components/FriendsPage/Friends'\n\nconst FriendsPage = () => {\n\treturn <Friends />\n}\n\nexport default FriendsPage\n","import React from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport Avatar from '../../UI/Avatar/Avatar'\n\nimport { FaChevronLeft } from 'react-icons/fa'\nimport styles from './MessageTopSection.module.scss'\n\nconst MessageTopSection = ({ title, photo, userId }) => {\n\tconst navigate = useNavigate()\n\tconst handleGoBack = () => {\n\t\tnavigate(-1)\n\t}\n\n\treturn (\n\t\t<div className={styles.section}>\n\t\t\t<button className={styles.section__button} onClick={handleGoBack}>\n\t\t\t\t<FaChevronLeft className={styles.section__icon} />\n\t\t\t\tНазад\n\t\t\t</button>\n\t\t\t<div className={styles.section__chatInfo}>\n\t\t\t\t<Link to={`/profile/${userId}`}>\n\t\t\t\t\t<span>{title}</span>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t\t<Link to={`/profile/${userId}`}>\n\t\t\t\t<Avatar photo={photo} />\n\t\t\t</Link>\n\t\t</div>\n\t)\n}\n\nexport default MessageTopSection\n","import React from 'react'\n\nimport styles from '../message.module.scss'\nimport Avatar from '../../UI/Avatar/Avatar'\n\nconst MessageItem = ({ id, text, userId, date, messages, authProfile, profile }) => {\n\tlet isShowAdditionalInfo = false\n\tconst imageURL = userId === profile.userId ? profile.photos.small : authProfile.photos.small\n\tconst name = userId === profile.userId ? profile.fullName : authProfile.fullName\n\n\tfor (let i = 0; i < messages.length; i++) {\n\t\tif (messages[i].id === id) {\n\t\t\tif (messages[i - 1]?.userId !== userId || date - messages[i - 1]?.date > 1000 * 60)\n\t\t\t\tisShowAdditionalInfo = true\n\t\t\tbreak\n\t\t}\n\t}\n\n\tconst classItem = isShowAdditionalInfo ? styles.message__block : ''\n\n\treturn (\n\t\t<li className={`${styles.message__item} ${classItem}`}>\n\t\t\t<div className={styles.message__avatar}>\n\t\t\t\t{isShowAdditionalInfo && <Avatar photo={imageURL} size='36px' alt='avatar' />}\n\t\t\t</div>\n\t\t\t<div className={styles.message__content}>\n\t\t\t\t{isShowAdditionalInfo && (\n\t\t\t\t\t<div className={styles.message__contentHeader}>\n\t\t\t\t\t\t<div className={styles.message__name}>{name}</div>\n\t\t\t\t\t\t<div className={styles.message__time}>\n\t\t\t\t\t\t\t{new Date(date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<div className={styles.message__text}>{text}</div>\n\t\t\t</div>\n\t\t</li>\n\t)\n}\n\nexport default MessageItem\n","import React from 'react'\nimport MessageItem from '../MessageIitem/MessageItem'\n\nimport styles from '../message.module.scss'\n\nconst MessageList = ({ messages, profile, authProfile }) => {\n\tconst messageItems = messages.map((m) => (\n\t\t<MessageItem\n\t\t\tkey={m.id}\n\t\t\t{...m}\n\t\t\tmessages={messages}\n\t\t\tprofile={profile}\n\t\t\tauthProfile={authProfile}\n\t\t/>\n\t))\n\n\tif (messageItems.length === 0)\n\t\treturn (\n\t\t\t<div className={styles.noMessage}>\n\t\t\t\t<div>Нет переписки с {profile.fullName}.</div>\n\t\t\t\t<div>Отправте сообщение!</div>\n\t\t\t</div>\n\t\t)\n\treturn (\n\t\t<>\n\t\t\t<ul className={styles.message__list}>{messageItems}</ul>\n\t\t</>\n\t)\n}\n\nexport default MessageList\n","import React, { useState } from 'react'\nimport { FaTelegramPlane } from 'react-icons/fa'\n\nimport styles from './CreateMessage.module.scss'\n\nconst CreateMessage = ({ addMessage }) => {\n\tconst [message, setMessage] = useState('')\n\tconst handleChangeMessage = (e) => {\n\t\tsetMessage(e.target.value)\n\t}\n\n\tconst handleAddMessage = (e) => {\n\t\te.preventDefault()\n\t\tif (message.trim().length > 0) {\n\t\t\taddMessage(message)\n\t\t\tsetMessage('')\n\t\t}\n\t}\n\n\treturn (\n\t\t<form className={styles.create}>\n\t\t\t<input\n\t\t\t\tclassName={styles.create__input}\n\t\t\t\ttype='text'\n\t\t\t\tplaceholder='Напишите сообщение...'\n\t\t\t\tvalue={message}\n\t\t\t\tonChange={handleChangeMessage}\n\t\t\t/>\n\t\t\t<button type='submit' className={styles.create__button} onClick={handleAddMessage}>\n\t\t\t\t<FaTelegramPlane className={styles.create__icon} />\n\t\t\t</button>\n\t\t</form>\n\t)\n}\n\nexport default CreateMessage\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { useLocalStorage } from '../../../hooks/useLocalStorage'\nimport MessageList from './MessageList'\nimport CreateMessage from '../CreateMessage/CreateMessage'\n\nconst MessageListContainer = ({ dialog }) => {\n\tconst { userId } = dialog\n\tconst authProfile = useSelector((state) => state.profile.authProfile)\n\tconst { userId: authUserId } = authProfile\n\n\tconst [messages, setMessages] = useLocalStorage(`dialog${userId}${authUserId}`, [])\n\tconst [dialogList, setDialogList] = useLocalStorage(`dialogList${authUserId}`, [])\n\n\tconst updateDialogList = () => {\n\t\tif (!dialogList.includes(userId)) {\n\t\t\tconst newDialogList = [...dialogList]\n\t\t\tnewDialogList.push(userId)\n\t\t\tsetDialogList(newDialogList)\n\t\t}\n\t}\n\tconst handleAddMessage = (text) => {\n\t\tconst newMessages = [...messages]\n\t\tnewMessages.push({\n\t\t\tid: messages.length + 1,\n\t\t\ttext,\n\t\t\tuserId: authProfile.userId,\n\t\t\tdate: Date.now(),\n\t\t})\n\t\tsetMessages(newMessages)\n\t\tupdateDialogList()\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<MessageList messages={messages} profile={dialog} authProfile={authProfile} />\n\t\t\t<CreateMessage addMessage={handleAddMessage} />\n\t\t</>\n\t)\n}\n\nexport default MessageListContainer\n","import React from 'react'\nimport Box from '../UI/Box/Box'\nimport MessageTopSection from './MessageTopSection/MessageTopSection'\nimport MessageListContainer from './MessageList/MessageListContainer'\n\nimport styles from './message.module.scss'\n\nconst Message = ({ dialog }) => {\n\tconst { fullName, photos, userId } = dialog\n\treturn (\n\t\t<div className={styles.message}>\n\t\t\t<MessageTopSection title={fullName} photo={photos?.small} userId={userId} />\n\t\t\t<Box height='100%' padding='47px 0 62px'>\n\t\t\t\t<MessageListContainer dialog={dialog} />\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default Message\n","import React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { profileService } from '../../api/services/profileService'\r\nimport Message from './Message'\r\nimport commonStyle from '../../styles/commonStyles.module.scss'\r\nimport CircleLoader from '../UI/Loader/CircleLoader/CircleLoader'\r\n\r\nconst MessageContainer = () => {\r\n\tconst { userId } = useParams()\r\n\tconst {\r\n\t\tdata: dialog,\r\n\t\tisFetching: isFetchingDialog,\r\n\t\tisError: isErrorDialog,\r\n\t} = profileService.useFetchProfileQuery(userId)\r\n\r\n\tif (isErrorDialog) return <div>Произошла ошибка при загрузке сообщений</div>\r\n\tif (isFetchingDialog)\r\n\t\treturn (\r\n\t\t\t<div className={commonStyle.emptyBlock}>\r\n\t\t\t\t<CircleLoader />\r\n\t\t\t</div>\r\n\t\t)\r\n\tif (dialog === undefined) return null\r\n\treturn <Message dialog={dialog} />\r\n}\r\n\r\nexport default MessageContainer\r\n","import {\n\tDialogsPage,\n\tProfilePage,\n\tFriendsPage,\n\tMessagePage,\n\tSettingsPage,\n} from '../pages'\n\nexport const publicRoutes = [\n\t{ path: '/dialogs', component: DialogsPage },\n\t{ path: '/dialogs/:userId', component: MessagePage },\n\t{ path: '/friends/*', component: FriendsPage },\n\t{ path: '/settings/*', component: SettingsPage },\n\t{ path: '/profile', component: ProfilePage },\n\t{ path: '/profile/:userId', component: ProfilePage },\n]\n\nexport const privateRoutes = [\n\t{ path: '/profile/:userId?', component: ProfilePage },\n\t{ path: '/friends/search', component: FriendsPage },\n]\n","import React from 'react'\r\nimport MessageContainer from '../components/MessagePage/MessageContainer'\r\n\r\nconst MessagePage = () => {\r\n\treturn <MessageContainer />\r\n}\r\n\r\nexport default MessagePage\r\n","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport {Route, Routes, Navigate} from 'react-router-dom'\r\nimport {privateRoutes, publicRoutes} from '../../router/contentRoutes'\r\n\r\n\r\nconst ContentRouter = () => {\r\n    const {isAuth} = useSelector(state => state.auth)\r\n\r\n    return (\r\n        isAuth ?\r\n        <Routes>\r\n            {publicRoutes.map(route =>\r\n                <Route\r\n                    element={<route.component/>}\r\n                    path={route.path}\r\n                    key={route.path}\r\n                />\r\n            )}\r\n            <Route path='/*' element={<Navigate to='/profile' />}/>\r\n        </Routes>\r\n            :\r\n        <Routes>\r\n            {privateRoutes.map(route =>\r\n                <Route\r\n                    element={<route.component/>}\r\n                    path={route.path}\r\n                    key={route.path}\r\n                />\r\n            )}\r\n            <Route path='/*' element={<Navigate to='/'/>} />\r\n        </Routes>\r\n    )\r\n}\r\n\r\nexport default ContentRouter","import React from 'react'\nimport ContentRouter from '../Routers/ContentRouter'\n\nimport styles from './Content.module.scss'\n\nconst Content = () => {\n\treturn (\n\t\t<main className={styles.main}>\n\t\t\t<ContentRouter />\n\t\t</main>\n\t)\n}\n\nexport default Content\n","import React from 'react'\nimport Sidebar from '../Sidebar/Sidebar'\nimport Content from '../Content/Content'\nimport Container from '../UI/Container/Container'\nimport { useSelector } from 'react-redux'\nimport LoginForm from '../AuthPage/LoginForm/LoginForm'\n\nimport styles from './AppContainer.module.scss'\n\nconst AppContainer = () => {\n\tconst { isAuth } = useSelector((state) => state.auth)\n\treturn (\n\t\t<Container minWidth='860px'>\n\t\t\t<div className={styles.app}>\n\t\t\t\t<div className={styles.app__sidebar}>{isAuth ? <Sidebar /> : <LoginForm />}</div>\n\t\t\t\t<div className={styles.app__content}>\n\t\t\t\t\t<Content />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Container>\n\t)\n}\n\nexport default AppContainer\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Navigate, Route, Routes } from 'react-router-dom'\nimport AuthPage from '../AuthPage/AuthPage'\nimport AppContainer from '../AppContainer/AppContainer'\n\nconst AppRouter = () => {\n\tconst { isAuth } = useSelector((state) => state.auth)\n\treturn isAuth ? (\n\t\t<AppContainer />\n\t) : (\n\t\t<Routes>\n\t\t\t<Route path='/' element={<AuthPage />} />\n\t\t\t<Route path='/friends' element={<AppContainer />} />\n\t\t\t<Route path='/*' element={<Navigate to='/' />} />\n\t\t</Routes>\n\t)\n}\n\nexport default AppRouter\n","import React, { useEffect } from 'react'\nimport { authMe } from './redux/actions/authAction'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Header from './components/Header/Header'\nimport AppRouter from './components/Routers/AppRouter'\n\nimport './styles/App.scss'\nimport { fetchProfile } from './redux/actions/profileAction'\n\nfunction App() {\n\tconst dispatch = useDispatch()\n\tconst { isInitialApp, isAuth, userId } = useSelector((state) => state.auth)\n\n\tuseEffect(() => {\n\t\tdispatch(authMe())\n\t}, [isAuth])\n\n\tuseEffect(() => {\n\t\tif (userId) {\n\t\t\tdispatch(fetchProfile({ id: userId, initial: true }))\n\t\t}\n\t}, [userId])\n\n\tif (!isInitialApp) return null\n\treturn (\n\t\t<div className='app'>\n\t\t\t<Header />\n\t\t\t<AppRouter />\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport { Provider as ReduxProvider } from 'react-redux'\r\nimport store from './redux/store'\r\n\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<HashRouter>\r\n\t\t\t<ReduxProvider store={store}>\r\n\t\t\t\t<App />\r\n\t\t\t</ReduxProvider>\r\n\t\t</HashRouter>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__list\":\"User_user__list__1AvPv\",\"user__avatar\":\"User_user__avatar__3VTOj\",\"user__img\":\"User_user__img__2rShS\",\"user__info\":\"User_user__info__28TmX\",\"user__name\":\"User_user__name__QElKl\",\"user__add\":\"User_user__add__2Q0-X\",\"user__icon\":\"User_user__icon__1wsjX\",\"user__button\":\"User_user__button__3CMrz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"CustomLink_menu__2F7PL\",\"menu__list\":\"CustomLink_menu__list__2dgoe\",\"menu__item\":\"CustomLink_menu__item__3QFre\",\"active\":\"CustomLink_active__2bn0C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__J_qfS\",\"menu__top\":\"Menu_menu__top__3rw1T\",\"menu__name\":\"Menu_menu__name__Bk9t-\",\"menu__userId\":\"Menu_menu__userId__244kp\",\"menu__img\":\"Menu_menu__img__QOoBk\",\"menu__item\":\"Menu_menu__item__en1qm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"dialogs_dialog__3AapS\",\"dialog__list\":\"dialogs_dialog__list__1X8Z6\",\"dialog__item\":\"dialogs_dialog__item__1M-Y5\",\"active\":\"dialogs_active__1_E5Y\",\"dialog__avatar\":\"dialogs_dialog__avatar__38wJ3\",\"dialog__data\":\"dialogs_dialog__data__1ln9q\",\"dialog__name\":\"dialogs_dialog__name__3uSwT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"likeWrapper\":\"LikeButton_likeWrapper__3Ni_2\",\"notLiked\":\"LikeButton_notLiked__3mcuO\",\"liked\":\"LikeButton_liked__1SDof\",\"iconWrapper\":\"LikeButton_iconWrapper__t_ELN\",\"animation\":\"LikeButton_animation__1LPcs\",\"IconLiked\":\"LikeButton_IconLiked__l4uki\",\"like\":\"LikeButton_like__ahTYq\",\"IconNotLiked\":\"LikeButton_IconNotLiked__2WY3u\",\"likeButton\":\"LikeButton_likeButton__Xu7Rg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"commonStyles_title__je-vN\",\"title__header\":\"commonStyles_title__header__33exV\",\"title__amount\":\"commonStyles_title__amount__293Hm\",\"emptyBlock\":\"commonStyles_emptyBlock__iRIK4\",\"emptyBlock__title\":\"commonStyles_emptyBlock__title__2uiw2\",\"emptyBlock__icon\":\"commonStyles_emptyBlock__icon__3Awg6\",\"form\":\"commonStyles_form__h47xx\",\"form__title\":\"commonStyles_form__title__KH0jn\",\"form__inputContainer\":\"commonStyles_form__inputContainer__tzUip\",\"form__input\":\"commonStyles_form__input__3u9Kn\",\"form__error\":\"commonStyles_form__error__26lAt\",\"form__checkbox\":\"commonStyles_form__checkbox__DY4q6\",\"form__textarea\":\"commonStyles_form__textarea__15xpQ\",\"form__label\":\"commonStyles_form__label__sYp7c\",\"form__labelText\":\"commonStyles_form__labelText__2VUw-\",\"refetch\":\"commonStyles_refetch__uNCsE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__1gZ7S\",\"avatar__image\":\"Avatar_avatar__image__sLn13\",\"updateAvatar\":\"Avatar_updateAvatar__3Oy_H\",\"updateAvatar__icon\":\"Avatar_updateAvatar__icon__2vOBa\",\"updateAvatar__label\":\"Avatar_updateAvatar__label__3xwfI\",\"updateAvatar__input\":\"Avatar_updateAvatar__input__2_2hP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"post_post__UsmJR\",\"post__header\":\"post_post__header__3Y_Tb\",\"post__name\":\"post_post__name__ukD5y\",\"post__date\":\"post_post__date__1xfIe\",\"post__text\":\"post_post__text__2lzkc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Sidebar_menu__36TuN\",\"menu__item\":\"Sidebar_menu__item__3kRXD\",\"active\":\"Sidebar_active__1hN8T\",\"menu__icon\":\"Sidebar_menu__icon__fKsVG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2zojp\",\"header__container\":\"Header_header__container__2tawN\",\"logo\":\"Header_logo__1lgcr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Settings_menu___pmJk\",\"active\":\"Settings_active__LPZGH\",\"menu__name\":\"Settings_menu__name__2TnGj\",\"menu__icon\":\"Settings_menu__icon__3bKgB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Status_status__1472n\",\"status__empty\":\"Status_status__empty__1wmeg\",\"interact\":\"Status_interact__29rQV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createPost__textarea\":\"CreatePost_createPost__textarea__TJJJu\",\"active\":\"CreatePost_active__2ervT\",\"createPost__wrapperButton\":\"CreatePost_createPost__wrapperButton__PyCXZ\",\"createPost__button\":\"CreatePost_createPost__button__P978O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"likes\":\"LikeCount_likes__2o9Se\",\"iconWrapper\":\"LikeCount_iconWrapper__3XdHv\",\"likesCount__icon\":\"LikeCount_likesCount__icon__2g0bD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noPosts__header\":\"NoPosts_noPosts__header__2TQ33\",\"noPosts__content\":\"NoPosts_noPosts__content__1KXKy\",\"noPosts__icon\":\"NoPosts_noPosts__icon__j4JgS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"UserPupup_popup__CQSEv\",\"popup__title\":\"UserPupup_popup__title__1E6u4\",\"popup__buttonWrapper\":\"UserPupup_popup__buttonWrapper__1J4v1\",\"popup__button\":\"UserPupup_popup__button__15sUK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"MessageTopSection_section__2RNlg\",\"section__button\":\"MessageTopSection_section__button__1DgPB\",\"section__icon\":\"MessageTopSection_section__icon__3-IJX\",\"section__chatInfo\":\"MessageTopSection_section__chatInfo__2aVhR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"create\":\"CreateMessage_create__3NC57\",\"create__input\":\"CreateMessage_create__input__2icRf\",\"create__button\":\"CreateMessage_create__button__O7VWY\",\"create__icon\":\"CreateMessage_create__icon__3cLiU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__QSDOy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"FriendsItem_item__3MXZM\",\"item__avatar\":\"FriendsItem_item__avatar__20Nt_\",\"item__name\":\"FriendsItem_item__name__3sfc_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"HeaderBlock_header__1SU7w\",\"header__title\":\"HeaderBlock_header__title__1cZYV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"UserSearch_search__3RJBw\",\"search__icon\":\"UserSearch_search__icon__18y1E\",\"search__input\":\"UserSearch_search__input__3XDwh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"AppContainer_app__153Xy\",\"app__sidebar\":\"AppContainer_app__sidebar__lBDeC\",\"app__content\":\"AppContainer_app__content__3bCkA\"};"],"sourceRoot":""}